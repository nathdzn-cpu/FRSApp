var cb=t=>{throw TypeError(t)};var Jp=(t,e,r)=>e.has(t)||cb("Cannot "+r);var K=(t,e,r)=>(Jp(t,e,"read from private field"),r?r.call(t):e.get(t)),Ge=(t,e,r)=>e.has(t)?cb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Ae=(t,e,r,n)=>(Jp(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),pt=(t,e,r)=>(Jp(t,e,"access private method"),r);var Sf=(t,e,r,n)=>({set _(s){Ae(t,e,s,r)},get _(){return K(t,e,n)}});function LA(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function nc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $A(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Qp={exports:{}},Gc={},Zp={exports:{}},ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub;function FA(){if(ub)return ct;ub=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=g&&O[g]||O["@@iterator"],typeof O=="function"?O:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function b(O,R,Z){this.props=O,this.context=R,this.refs=_,this.updater=Z||y}b.prototype.isReactComponent={},b.prototype.setState=function(O,R){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,R,"setState")},b.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function N(){}N.prototype=b.prototype;function C(O,R,Z){this.props=O,this.context=R,this.refs=_,this.updater=Z||y}var E=C.prototype=new N;E.constructor=C,S(E,b.prototype),E.isPureReactComponent=!0;var k=Array.isArray,A=Object.prototype.hasOwnProperty,T={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function L(O,R,Z){var z,U={},de=null,ae=null;if(R!=null)for(z in R.ref!==void 0&&(ae=R.ref),R.key!==void 0&&(de=""+R.key),R)A.call(R,z)&&!I.hasOwnProperty(z)&&(U[z]=R[z]);var me=arguments.length-2;if(me===1)U.children=Z;else if(1<me){for(var ve=Array(me),je=0;je<me;je++)ve[je]=arguments[je+2];U.children=ve}if(O&&O.defaultProps)for(z in me=O.defaultProps,me)U[z]===void 0&&(U[z]=me[z]);return{$$typeof:t,type:O,key:de,ref:ae,props:U,_owner:T.current}}function B(O,R){return{$$typeof:t,type:O.type,key:R,ref:O.ref,props:O.props,_owner:O._owner}}function H(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function X(O){var R={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Z){return R[Z]})}var Q=/\/+/g;function Y(O,R){return typeof O=="object"&&O!==null&&O.key!=null?X(""+O.key):R.toString(36)}function ee(O,R,Z,z,U){var de=typeof O;(de==="undefined"||de==="boolean")&&(O=null);var ae=!1;if(O===null)ae=!0;else switch(de){case"string":case"number":ae=!0;break;case"object":switch(O.$$typeof){case t:case e:ae=!0}}if(ae)return ae=O,U=U(ae),O=z===""?"."+Y(ae,0):z,k(U)?(Z="",O!=null&&(Z=O.replace(Q,"$&/")+"/"),ee(U,R,Z,"",function(je){return je})):U!=null&&(H(U)&&(U=B(U,Z+(!U.key||ae&&ae.key===U.key?"":(""+U.key).replace(Q,"$&/")+"/")+O)),R.push(U)),1;if(ae=0,z=z===""?".":z+":",k(O))for(var me=0;me<O.length;me++){de=O[me];var ve=z+Y(de,me);ae+=ee(de,R,Z,ve,U)}else if(ve=w(O),typeof ve=="function")for(O=ve.call(O),me=0;!(de=O.next()).done;)de=de.value,ve=z+Y(de,me++),ae+=ee(de,R,Z,ve,U);else if(de==="object")throw R=String(O),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return ae}function ne(O,R,Z){if(O==null)return O;var z=[],U=0;return ee(O,z,"","",function(de){return R.call(Z,de,U++)}),z}function J(O){if(O._status===-1){var R=O._result;R=R(),R.then(function(Z){(O._status===0||O._status===-1)&&(O._status=1,O._result=Z)},function(Z){(O._status===0||O._status===-1)&&(O._status=2,O._result=Z)}),O._status===-1&&(O._status=0,O._result=R)}if(O._status===1)return O._result.default;throw O._result}var W={current:null},D={transition:null},M={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:D,ReactCurrentOwner:T};function F(){throw Error("act(...) is not supported in production builds of React.")}return ct.Children={map:ne,forEach:function(O,R,Z){ne(O,function(){R.apply(this,arguments)},Z)},count:function(O){var R=0;return ne(O,function(){R++}),R},toArray:function(O){return ne(O,function(R){return R})||[]},only:function(O){if(!H(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},ct.Component=b,ct.Fragment=r,ct.Profiler=s,ct.PureComponent=C,ct.StrictMode=n,ct.Suspense=f,ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,ct.act=F,ct.cloneElement=function(O,R,Z){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var z=S({},O.props),U=O.key,de=O.ref,ae=O._owner;if(R!=null){if(R.ref!==void 0&&(de=R.ref,ae=T.current),R.key!==void 0&&(U=""+R.key),O.type&&O.type.defaultProps)var me=O.type.defaultProps;for(ve in R)A.call(R,ve)&&!I.hasOwnProperty(ve)&&(z[ve]=R[ve]===void 0&&me!==void 0?me[ve]:R[ve])}var ve=arguments.length-2;if(ve===1)z.children=Z;else if(1<ve){me=Array(ve);for(var je=0;je<ve;je++)me[je]=arguments[je+2];z.children=me}return{$$typeof:t,type:O.type,key:U,ref:de,props:z,_owner:ae}},ct.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:i,_context:O},O.Consumer=O},ct.createElement=L,ct.createFactory=function(O){var R=L.bind(null,O);return R.type=O,R},ct.createRef=function(){return{current:null}},ct.forwardRef=function(O){return{$$typeof:u,render:O}},ct.isValidElement=H,ct.lazy=function(O){return{$$typeof:p,_payload:{_status:-1,_result:O},_init:J}},ct.memo=function(O,R){return{$$typeof:h,type:O,compare:R===void 0?null:R}},ct.startTransition=function(O){var R=D.transition;D.transition={};try{O()}finally{D.transition=R}},ct.unstable_act=F,ct.useCallback=function(O,R){return W.current.useCallback(O,R)},ct.useContext=function(O){return W.current.useContext(O)},ct.useDebugValue=function(){},ct.useDeferredValue=function(O){return W.current.useDeferredValue(O)},ct.useEffect=function(O,R){return W.current.useEffect(O,R)},ct.useId=function(){return W.current.useId()},ct.useImperativeHandle=function(O,R,Z){return W.current.useImperativeHandle(O,R,Z)},ct.useInsertionEffect=function(O,R){return W.current.useInsertionEffect(O,R)},ct.useLayoutEffect=function(O,R){return W.current.useLayoutEffect(O,R)},ct.useMemo=function(O,R){return W.current.useMemo(O,R)},ct.useReducer=function(O,R,Z){return W.current.useReducer(O,R,Z)},ct.useRef=function(O){return W.current.useRef(O)},ct.useState=function(O){return W.current.useState(O)},ct.useSyncExternalStore=function(O,R,Z){return W.current.useSyncExternalStore(O,R,Z)},ct.useTransition=function(){return W.current.useTransition()},ct.version="18.3.1",ct}var db;function $u(){return db||(db=1,Zp.exports=FA()),Zp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fb;function UA(){if(fb)return Gc;fb=1;var t=$u(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(u,f,h){var p,g={},w=null,y=null;h!==void 0&&(w=""+h),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(y=f.ref);for(p in f)n.call(f,p)&&!i.hasOwnProperty(p)&&(g[p]=f[p]);if(u&&u.defaultProps)for(p in f=u.defaultProps,f)g[p]===void 0&&(g[p]=f[p]);return{$$typeof:e,type:u,key:w,ref:y,props:g,_owner:s.current}}return Gc.Fragment=r,Gc.jsx=c,Gc.jsxs=c,Gc}var hb;function Gj(){return hb||(hb=1,Qp.exports=UA()),Qp.exports}var o=Gj(),v=$u();const ie=nc(v),uy=LA({__proto__:null,default:ie},[v]);var Nf={},Xp={exports:{}},nn={},eg={exports:{}},tg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb;function BA(){return mb||(mb=1,(function(t){function e(D,M){var F=D.length;D.push(M);e:for(;0<F;){var O=F-1>>>1,R=D[O];if(0<s(R,M))D[O]=M,D[F]=R,F=O;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var M=D[0],F=D.pop();if(F!==M){D[0]=F;e:for(var O=0,R=D.length,Z=R>>>1;O<Z;){var z=2*(O+1)-1,U=D[z],de=z+1,ae=D[de];if(0>s(U,F))de<R&&0>s(ae,U)?(D[O]=ae,D[de]=F,O=de):(D[O]=U,D[z]=F,O=z);else if(de<R&&0>s(ae,F))D[O]=ae,D[de]=F,O=de;else break e}}return M}function s(D,M){var F=D.sortIndex-M.sortIndex;return F!==0?F:D.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var f=[],h=[],p=1,g=null,w=3,y=!1,S=!1,_=!1,b=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(D){for(var M=r(h);M!==null;){if(M.callback===null)n(h);else if(M.startTime<=D)n(h),M.sortIndex=M.expirationTime,e(f,M);else break;M=r(h)}}function k(D){if(_=!1,E(D),!S)if(r(f)!==null)S=!0,J(A);else{var M=r(h);M!==null&&W(k,M.startTime-D)}}function A(D,M){S=!1,_&&(_=!1,N(L),L=-1),y=!0;var F=w;try{for(E(M),g=r(f);g!==null&&(!(g.expirationTime>M)||D&&!X());){var O=g.callback;if(typeof O=="function"){g.callback=null,w=g.priorityLevel;var R=O(g.expirationTime<=M);M=t.unstable_now(),typeof R=="function"?g.callback=R:g===r(f)&&n(f),E(M)}else n(f);g=r(f)}if(g!==null)var Z=!0;else{var z=r(h);z!==null&&W(k,z.startTime-M),Z=!1}return Z}finally{g=null,w=F,y=!1}}var T=!1,I=null,L=-1,B=5,H=-1;function X(){return!(t.unstable_now()-H<B)}function Q(){if(I!==null){var D=t.unstable_now();H=D;var M=!0;try{M=I(!0,D)}finally{M?Y():(T=!1,I=null)}}else T=!1}var Y;if(typeof C=="function")Y=function(){C(Q)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ne=ee.port2;ee.port1.onmessage=Q,Y=function(){ne.postMessage(null)}}else Y=function(){b(Q,0)};function J(D){I=D,T||(T=!0,Y())}function W(D,M){L=b(function(){D(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){S||y||(S=!0,J(A))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return r(f)},t.unstable_next=function(D){switch(w){case 1:case 2:case 3:var M=3;break;default:M=w}var F=w;w=M;try{return D()}finally{w=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,M){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var F=w;w=D;try{return M()}finally{w=F}},t.unstable_scheduleCallback=function(D,M,F){var O=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?O+F:O):F=O,D){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=F+R,D={id:p++,callback:M,priorityLevel:D,startTime:F,expirationTime:R,sortIndex:-1},F>O?(D.sortIndex=F,e(h,D),r(f)===null&&D===r(h)&&(_?(N(L),L=-1):_=!0,W(k,F-O))):(D.sortIndex=R,e(f,D),S||y||(S=!0,J(A))),D},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(D){var M=w;return function(){var F=w;w=M;try{return D.apply(this,arguments)}finally{w=F}}}})(tg)),tg}var pb;function VA(){return pb||(pb=1,eg.exports=BA()),eg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb;function zA(){if(gb)return nn;gb=1;var t=$u(),e=VA();function r(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function i(a,l){c(a,l),c(a+"Capture",l)}function c(a,l){for(s[a]=l,a=0;a<l.length;a++)n.add(l[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function w(a){return f.call(g,a)?!0:f.call(p,a)?!1:h.test(a)?g[a]=!0:(p[a]=!0,!1)}function y(a,l,d,m){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function S(a,l,d,m){if(l===null||typeof l>"u"||y(a,l,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function _(a,l,d,m,x,j,P){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=m,this.attributeNamespace=x,this.mustUseProperty=d,this.propertyName=a,this.type=l,this.sanitizeURL=j,this.removeEmptyString=P}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){b[a]=new _(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];b[l]=new _(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){b[a]=new _(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){b[a]=new _(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){b[a]=new _(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){b[a]=new _(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){b[a]=new _(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){b[a]=new _(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){b[a]=new _(a,5,!1,a.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function C(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(N,C);b[l]=new _(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(N,C);b[l]=new _(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(N,C);b[l]=new _(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){b[a]=new _(a,1,!1,a.toLowerCase(),null,!1,!1)}),b.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){b[a]=new _(a,1,!1,a.toLowerCase(),null,!0,!0)});function E(a,l,d,m){var x=b.hasOwnProperty(l)?b[l]:null;(x!==null?x.type!==0:m||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(S(l,d,x,m)&&(d=null),m||x===null?w(l)&&(d===null?a.removeAttribute(l):a.setAttribute(l,""+d)):x.mustUseProperty?a[x.propertyName]=d===null?x.type===3?!1:"":d:(l=x.attributeName,m=x.attributeNamespace,d===null?a.removeAttribute(l):(x=x.type,d=x===3||x===4&&d===!0?"":""+d,m?a.setAttributeNS(m,l,d):a.setAttribute(l,d))))}var k=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),T=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),X=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),D=Symbol.iterator;function M(a){return a===null||typeof a!="object"?null:(a=D&&a[D]||a["@@iterator"],typeof a=="function"?a:null)}var F=Object.assign,O;function R(a){if(O===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);O=l&&l[1]||""}return`
`+O+a}var Z=!1;function z(a,l){if(!a||Z)return"";Z=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(oe){var m=oe}Reflect.construct(a,[],l)}else{try{l.call()}catch(oe){m=oe}a.call(l.prototype)}else{try{throw Error()}catch(oe){m=oe}a()}}catch(oe){if(oe&&m&&typeof oe.stack=="string"){for(var x=oe.stack.split(`
`),j=m.stack.split(`
`),P=x.length-1,$=j.length-1;1<=P&&0<=$&&x[P]!==j[$];)$--;for(;1<=P&&0<=$;P--,$--)if(x[P]!==j[$]){if(P!==1||$!==1)do if(P--,$--,0>$||x[P]!==j[$]){var q=`
`+x[P].replace(" at new "," at ");return a.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",a.displayName)),q}while(1<=P&&0<=$);break}}}finally{Z=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?R(a):""}function U(a){switch(a.tag){case 5:return R(a.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return a=z(a.type,!1),a;case 11:return a=z(a.type.render,!1),a;case 1:return a=z(a.type,!0),a;default:return""}}function de(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case I:return"Fragment";case T:return"Portal";case B:return"Profiler";case L:return"StrictMode";case Y:return"Suspense";case ee:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case X:return(a.displayName||"Context")+".Consumer";case H:return(a._context.displayName||"Context")+".Provider";case Q:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ne:return l=a.displayName||null,l!==null?l:de(a.type)||"Memo";case J:l=a._payload,a=a._init;try{return de(a(l))}catch{}}return null}function ae(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(l);case 8:return l===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function me(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ve(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function je(a){var l=ve(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),m=""+a[l];if(!a.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,j=d.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return x.call(this)},set:function(P){m=""+P,j.call(this,P)}}),Object.defineProperty(a,l,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(P){m=""+P},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Ce(a){a._valueTracker||(a._valueTracker=je(a))}function We(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return a&&(m=ve(a)?a.checked?"true":"false":a.value),a=m,a!==d?(l.setValue(a),!0):!1}function At(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Oe(a,l){var d=l.checked;return F({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??a._wrapperState.initialChecked})}function lt(a,l){var d=l.defaultValue==null?"":l.defaultValue,m=l.checked!=null?l.checked:l.defaultChecked;d=me(l.value!=null?l.value:d),a._wrapperState={initialChecked:m,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function bt(a,l){l=l.checked,l!=null&&E(a,"checked",l,!1)}function Kt(a,l){bt(a,l);var d=me(l.value),m=l.type;if(d!=null)m==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+d):a.value!==""+d&&(a.value=""+d);else if(m==="submit"||m==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?Ar(a,l.type,d):l.hasOwnProperty("defaultValue")&&Ar(a,l.type,me(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function Gr(a,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var m=l.type;if(!(m!=="submit"&&m!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,d||l===a.value||(a.value=l),a.defaultValue=l}d=a.name,d!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,d!==""&&(a.name=d)}function Ar(a,l,d){(l!=="number"||At(a.ownerDocument)!==a)&&(d==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+d&&(a.defaultValue=""+d))}var V=Array.isArray;function te(a,l,d,m){if(a=a.options,l){l={};for(var x=0;x<d.length;x++)l["$"+d[x]]=!0;for(d=0;d<a.length;d++)x=l.hasOwnProperty("$"+a[d].value),a[d].selected!==x&&(a[d].selected=x),x&&m&&(a[d].defaultSelected=!0)}else{for(d=""+me(d),l=null,x=0;x<a.length;x++){if(a[x].value===d){a[x].selected=!0,m&&(a[x].defaultSelected=!0);return}l!==null||a[x].disabled||(l=a[x])}l!==null&&(l.selected=!0)}}function ce(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return F({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Se(a,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(r(92));if(V(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),d=l}a._wrapperState={initialValue:me(d)}}function _e(a,l){var d=me(l.value),m=me(l.defaultValue);d!=null&&(d=""+d,d!==a.value&&(a.value=d),l.defaultValue==null&&a.defaultValue!==d&&(a.defaultValue=d)),m!=null&&(a.defaultValue=""+m)}function xe(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function ke(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function it(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?ke(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var _t,jr=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,m,x){MSApp.execUnsafeLocalFunction(function(){return a(l,d,m,x)})}:a})(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(_t=_t||document.createElement("div"),_t.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=_t.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function $r(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var Tr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ii=["Webkit","ms","Moz","O"];Object.keys(Tr).forEach(function(a){Ii.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),Tr[l]=Tr[a]})});function ks(a,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||Tr.hasOwnProperty(a)&&Tr[a]?(""+l).trim():l+"px"}function hn(a,l){a=a.style;for(var d in l)if(l.hasOwnProperty(d)){var m=d.indexOf("--")===0,x=ks(d,l[d],m);d==="float"&&(d="cssFloat"),m?a.setProperty(d,x):a[d]=x}}var Mi=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mn(a,l){if(l){if(Mi[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function Vo(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oa=null;function Li(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var $i=null,Ia=null,Es=null;function Hn(a){if(a=Oc(a)){if(typeof $i!="function")throw Error(r(280));var l=a.stateNode;l&&(l=$d(l),$i(a.stateNode,a.type,l))}}function pd(a){Ia?Es?Es.push(a):Es=[a]:Ia=a}function Xe(){if(Ia){var a=Ia,l=Es;if(Es=Ia=null,Hn(a),l)for(a=0;a<l.length;a++)Hn(l[a])}}function Et(a,l){return a(l)}function Mt(){}var Fr=!1;function Jr(a,l,d){if(Fr)return a(l,d);Fr=!0;try{return Et(a,l,d)}finally{Fr=!1,(Ia!==null||Es!==null)&&(Mt(),Xe())}}function Qr(a,l){var d=a.stateNode;if(d===null)return null;var m=$d(d);if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var qn=!1;if(u)try{var Sr={};Object.defineProperty(Sr,"passive",{get:function(){qn=!0}}),window.addEventListener("test",Sr,Sr),window.removeEventListener("test",Sr,Sr)}catch{qn=!1}function Ps(a,l,d,m,x,j,P,$,q){var oe=Array.prototype.slice.call(arguments,3);try{l.apply(d,oe)}catch(pe){this.onError(pe)}}var pc=!1,gd=null,vd=!1,pm=null,WP={onError:function(a){pc=!0,gd=a}};function HP(a,l,d,m,x,j,P,$,q){pc=!1,gd=null,Ps.apply(WP,arguments)}function qP(a,l,d,m,x,j,P,$,q){if(HP.apply(this,arguments),pc){if(pc){var oe=gd;pc=!1,gd=null}else throw Error(r(198));vd||(vd=!0,pm=oe)}}function zo(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function Rx(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function Dx(a){if(zo(a)!==a)throw Error(r(188))}function YP(a){var l=a.alternate;if(!l){if(l=zo(a),l===null)throw Error(r(188));return l!==a?null:a}for(var d=a,m=l;;){var x=d.return;if(x===null)break;var j=x.alternate;if(j===null){if(m=x.return,m!==null){d=m;continue}break}if(x.child===j.child){for(j=x.child;j;){if(j===d)return Dx(x),a;if(j===m)return Dx(x),l;j=j.sibling}throw Error(r(188))}if(d.return!==m.return)d=x,m=j;else{for(var P=!1,$=x.child;$;){if($===d){P=!0,d=x,m=j;break}if($===m){P=!0,m=x,d=j;break}$=$.sibling}if(!P){for($=j.child;$;){if($===d){P=!0,d=j,m=x;break}if($===m){P=!0,m=j,d=x;break}$=$.sibling}if(!P)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:l}function Ox(a){return a=YP(a),a!==null?Ix(a):null}function Ix(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=Ix(a);if(l!==null)return l;a=a.sibling}return null}var Mx=e.unstable_scheduleCallback,Lx=e.unstable_cancelCallback,KP=e.unstable_shouldYield,GP=e.unstable_requestPaint,rr=e.unstable_now,JP=e.unstable_getCurrentPriorityLevel,gm=e.unstable_ImmediatePriority,$x=e.unstable_UserBlockingPriority,yd=e.unstable_NormalPriority,QP=e.unstable_LowPriority,Fx=e.unstable_IdlePriority,xd=null,As=null;function ZP(a){if(As&&typeof As.onCommitFiberRoot=="function")try{As.onCommitFiberRoot(xd,a,void 0,(a.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:t2,XP=Math.log,e2=Math.LN2;function t2(a){return a>>>=0,a===0?32:31-(XP(a)/e2|0)|0}var wd=64,bd=4194304;function gc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function _d(a,l){var d=a.pendingLanes;if(d===0)return 0;var m=0,x=a.suspendedLanes,j=a.pingedLanes,P=d&268435455;if(P!==0){var $=P&~x;$!==0?m=gc($):(j&=P,j!==0&&(m=gc(j)))}else P=d&~x,P!==0?m=gc(P):j!==0&&(m=gc(j));if(m===0)return 0;if(l!==0&&l!==m&&(l&x)===0&&(x=m&-m,j=l&-l,x>=j||x===16&&(j&4194240)!==0))return l;if((m&4)!==0&&(m|=d&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=m;0<l;)d=31-Yn(l),x=1<<d,m|=a[d],l&=~x;return m}function r2(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n2(a,l){for(var d=a.suspendedLanes,m=a.pingedLanes,x=a.expirationTimes,j=a.pendingLanes;0<j;){var P=31-Yn(j),$=1<<P,q=x[P];q===-1?(($&d)===0||($&m)!==0)&&(x[P]=r2($,l)):q<=l&&(a.expiredLanes|=$),j&=~$}}function vm(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Ux(){var a=wd;return wd<<=1,(wd&4194240)===0&&(wd=64),a}function ym(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function vc(a,l,d){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-Yn(l),a[l]=d}function s2(a,l){var d=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var m=a.eventTimes;for(a=a.expirationTimes;0<d;){var x=31-Yn(d),j=1<<x;l[x]=0,m[x]=-1,a[x]=-1,d&=~j}}function xm(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var m=31-Yn(d),x=1<<m;x&l|a[m]&l&&(a[m]|=l),d&=~x}}var Ot=0;function Bx(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Vx,wm,zx,Wx,Hx,bm=!1,jd=[],Ma=null,La=null,$a=null,yc=new Map,xc=new Map,Fa=[],a2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qx(a,l){switch(a){case"focusin":case"focusout":Ma=null;break;case"dragenter":case"dragleave":La=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":yc.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":xc.delete(l.pointerId)}}function wc(a,l,d,m,x,j){return a===null||a.nativeEvent!==j?(a={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:j,targetContainers:[x]},l!==null&&(l=Oc(l),l!==null&&wm(l)),a):(a.eventSystemFlags|=m,l=a.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),a)}function o2(a,l,d,m,x){switch(l){case"focusin":return Ma=wc(Ma,a,l,d,m,x),!0;case"dragenter":return La=wc(La,a,l,d,m,x),!0;case"mouseover":return $a=wc($a,a,l,d,m,x),!0;case"pointerover":var j=x.pointerId;return yc.set(j,wc(yc.get(j)||null,a,l,d,m,x)),!0;case"gotpointercapture":return j=x.pointerId,xc.set(j,wc(xc.get(j)||null,a,l,d,m,x)),!0}return!1}function Yx(a){var l=Wo(a.target);if(l!==null){var d=zo(l);if(d!==null){if(l=d.tag,l===13){if(l=Rx(d),l!==null){a.blockedOn=l,Hx(a.priority,function(){zx(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Sd(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=jm(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(d===null){d=a.nativeEvent;var m=new d.constructor(d.type,d);Oa=m,d.target.dispatchEvent(m),Oa=null}else return l=Oc(d),l!==null&&wm(l),a.blockedOn=d,!1;l.shift()}return!0}function Kx(a,l,d){Sd(a)&&d.delete(l)}function i2(){bm=!1,Ma!==null&&Sd(Ma)&&(Ma=null),La!==null&&Sd(La)&&(La=null),$a!==null&&Sd($a)&&($a=null),yc.forEach(Kx),xc.forEach(Kx)}function bc(a,l){a.blockedOn===l&&(a.blockedOn=null,bm||(bm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,i2)))}function _c(a){function l(x){return bc(x,a)}if(0<jd.length){bc(jd[0],a);for(var d=1;d<jd.length;d++){var m=jd[d];m.blockedOn===a&&(m.blockedOn=null)}}for(Ma!==null&&bc(Ma,a),La!==null&&bc(La,a),$a!==null&&bc($a,a),yc.forEach(l),xc.forEach(l),d=0;d<Fa.length;d++)m=Fa[d],m.blockedOn===a&&(m.blockedOn=null);for(;0<Fa.length&&(d=Fa[0],d.blockedOn===null);)Yx(d),d.blockedOn===null&&Fa.shift()}var Fi=k.ReactCurrentBatchConfig,Nd=!0;function l2(a,l,d,m){var x=Ot,j=Fi.transition;Fi.transition=null;try{Ot=1,_m(a,l,d,m)}finally{Ot=x,Fi.transition=j}}function c2(a,l,d,m){var x=Ot,j=Fi.transition;Fi.transition=null;try{Ot=4,_m(a,l,d,m)}finally{Ot=x,Fi.transition=j}}function _m(a,l,d,m){if(Nd){var x=jm(a,l,d,m);if(x===null)Um(a,l,m,Cd,d),qx(a,m);else if(o2(x,a,l,d,m))m.stopPropagation();else if(qx(a,m),l&4&&-1<a2.indexOf(a)){for(;x!==null;){var j=Oc(x);if(j!==null&&Vx(j),j=jm(a,l,d,m),j===null&&Um(a,l,m,Cd,d),j===x)break;x=j}x!==null&&m.stopPropagation()}else Um(a,l,m,null,d)}}var Cd=null;function jm(a,l,d,m){if(Cd=null,a=Li(m),a=Wo(a),a!==null)if(l=zo(a),l===null)a=null;else if(d=l.tag,d===13){if(a=Rx(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return Cd=a,null}function Gx(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JP()){case gm:return 1;case $x:return 4;case yd:case QP:return 16;case Fx:return 536870912;default:return 16}default:return 16}}var Ua=null,Sm=null,kd=null;function Jx(){if(kd)return kd;var a,l=Sm,d=l.length,m,x="value"in Ua?Ua.value:Ua.textContent,j=x.length;for(a=0;a<d&&l[a]===x[a];a++);var P=d-a;for(m=1;m<=P&&l[d-m]===x[j-m];m++);return kd=x.slice(a,1<m?1-m:void 0)}function Ed(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Pd(){return!0}function Qx(){return!1}function pn(a){function l(d,m,x,j,P){this._reactName=d,this._targetInst=x,this.type=m,this.nativeEvent=j,this.target=P,this.currentTarget=null;for(var $ in a)a.hasOwnProperty($)&&(d=a[$],this[$]=d?d(j):j[$]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Pd:Qx,this.isPropagationStopped=Qx,this}return F(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Pd)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Pd)},persist:function(){},isPersistent:Pd}),l}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nm=pn(Ui),jc=F({},Ui,{view:0,detail:0}),u2=pn(jc),Cm,km,Sc,Ad=F({},jc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pm,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Sc&&(Sc&&a.type==="mousemove"?(Cm=a.screenX-Sc.screenX,km=a.screenY-Sc.screenY):km=Cm=0,Sc=a),Cm)},movementY:function(a){return"movementY"in a?a.movementY:km}}),Zx=pn(Ad),d2=F({},Ad,{dataTransfer:0}),f2=pn(d2),h2=F({},jc,{relatedTarget:0}),Em=pn(h2),m2=F({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),p2=pn(m2),g2=F({},Ui,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),v2=pn(g2),y2=F({},Ui,{data:0}),Xx=pn(y2),x2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _2(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=b2[a])?!!l[a]:!1}function Pm(){return _2}var j2=F({},jc,{key:function(a){if(a.key){var l=x2[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Ed(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?w2[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pm,charCode:function(a){return a.type==="keypress"?Ed(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ed(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),S2=pn(j2),N2=F({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),e0=pn(N2),C2=F({},jc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pm}),k2=pn(C2),E2=F({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),P2=pn(E2),A2=F({},Ad,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),T2=pn(A2),R2=[9,13,27,32],Am=u&&"CompositionEvent"in window,Nc=null;u&&"documentMode"in document&&(Nc=document.documentMode);var D2=u&&"TextEvent"in window&&!Nc,t0=u&&(!Am||Nc&&8<Nc&&11>=Nc),r0=" ",n0=!1;function s0(a,l){switch(a){case"keyup":return R2.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a0(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Bi=!1;function O2(a,l){switch(a){case"compositionend":return a0(l);case"keypress":return l.which!==32?null:(n0=!0,r0);case"textInput":return a=l.data,a===r0&&n0?null:a;default:return null}}function I2(a,l){if(Bi)return a==="compositionend"||!Am&&s0(a,l)?(a=Jx(),kd=Sm=Ua=null,Bi=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return t0&&l.locale!=="ko"?null:l.data;default:return null}}var M2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o0(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!M2[a.type]:l==="textarea"}function i0(a,l,d,m){pd(m),l=Id(l,"onChange"),0<l.length&&(d=new Nm("onChange","change",null,d,m),a.push({event:d,listeners:l}))}var Cc=null,kc=null;function L2(a){N0(a,0)}function Td(a){var l=qi(a);if(We(l))return a}function $2(a,l){if(a==="change")return l}var l0=!1;if(u){var Tm;if(u){var Rm="oninput"in document;if(!Rm){var c0=document.createElement("div");c0.setAttribute("oninput","return;"),Rm=typeof c0.oninput=="function"}Tm=Rm}else Tm=!1;l0=Tm&&(!document.documentMode||9<document.documentMode)}function u0(){Cc&&(Cc.detachEvent("onpropertychange",d0),kc=Cc=null)}function d0(a){if(a.propertyName==="value"&&Td(kc)){var l=[];i0(l,kc,a,Li(a)),Jr(L2,l)}}function F2(a,l,d){a==="focusin"?(u0(),Cc=l,kc=d,Cc.attachEvent("onpropertychange",d0)):a==="focusout"&&u0()}function U2(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Td(kc)}function B2(a,l){if(a==="click")return Td(l)}function V2(a,l){if(a==="input"||a==="change")return Td(l)}function z2(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Kn=typeof Object.is=="function"?Object.is:z2;function Ec(a,l){if(Kn(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var x=d[m];if(!f.call(l,x)||!Kn(a[x],l[x]))return!1}return!0}function f0(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function h0(a,l){var d=f0(a);a=0;for(var m;d;){if(d.nodeType===3){if(m=a+d.textContent.length,a<=l&&m>=l)return{node:d,offset:l-a};a=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=f0(d)}}function m0(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?m0(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function p0(){for(var a=window,l=At();l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=At(a.document)}return l}function Dm(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function W2(a){var l=p0(),d=a.focusedElem,m=a.selectionRange;if(l!==d&&d&&d.ownerDocument&&m0(d.ownerDocument.documentElement,d)){if(m!==null&&Dm(d)){if(l=m.start,a=m.end,a===void 0&&(a=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(a,d.value.length);else if(a=(l=d.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var x=d.textContent.length,j=Math.min(m.start,x);m=m.end===void 0?j:Math.min(m.end,x),!a.extend&&j>m&&(x=m,m=j,j=x),x=h0(d,j);var P=h0(d,m);x&&P&&(a.rangeCount!==1||a.anchorNode!==x.node||a.anchorOffset!==x.offset||a.focusNode!==P.node||a.focusOffset!==P.offset)&&(l=l.createRange(),l.setStart(x.node,x.offset),a.removeAllRanges(),j>m?(a.addRange(l),a.extend(P.node,P.offset)):(l.setEnd(P.node,P.offset),a.addRange(l)))}}for(l=[],a=d;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)a=l[d],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var H2=u&&"documentMode"in document&&11>=document.documentMode,Vi=null,Om=null,Pc=null,Im=!1;function g0(a,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Im||Vi==null||Vi!==At(m)||(m=Vi,"selectionStart"in m&&Dm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Pc&&Ec(Pc,m)||(Pc=m,m=Id(Om,"onSelect"),0<m.length&&(l=new Nm("onSelect","select",null,l,d),a.push({event:l,listeners:m}),l.target=Vi)))}function Rd(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var zi={animationend:Rd("Animation","AnimationEnd"),animationiteration:Rd("Animation","AnimationIteration"),animationstart:Rd("Animation","AnimationStart"),transitionend:Rd("Transition","TransitionEnd")},Mm={},v0={};u&&(v0=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function Dd(a){if(Mm[a])return Mm[a];if(!zi[a])return a;var l=zi[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in v0)return Mm[a]=l[d];return a}var y0=Dd("animationend"),x0=Dd("animationiteration"),w0=Dd("animationstart"),b0=Dd("transitionend"),_0=new Map,j0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ba(a,l){_0.set(a,l),i(l,[a])}for(var Lm=0;Lm<j0.length;Lm++){var $m=j0[Lm],q2=$m.toLowerCase(),Y2=$m[0].toUpperCase()+$m.slice(1);Ba(q2,"on"+Y2)}Ba(y0,"onAnimationEnd"),Ba(x0,"onAnimationIteration"),Ba(w0,"onAnimationStart"),Ba("dblclick","onDoubleClick"),Ba("focusin","onFocus"),Ba("focusout","onBlur"),Ba(b0,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ac));function S0(a,l,d){var m=a.type||"unknown-event";a.currentTarget=d,qP(m,l,void 0,a),a.currentTarget=null}function N0(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var m=a[d],x=m.event;m=m.listeners;e:{var j=void 0;if(l)for(var P=m.length-1;0<=P;P--){var $=m[P],q=$.instance,oe=$.currentTarget;if($=$.listener,q!==j&&x.isPropagationStopped())break e;S0(x,$,oe),j=q}else for(P=0;P<m.length;P++){if($=m[P],q=$.instance,oe=$.currentTarget,$=$.listener,q!==j&&x.isPropagationStopped())break e;S0(x,$,oe),j=q}}}if(vd)throw a=pm,vd=!1,pm=null,a}function Bt(a,l){var d=l[qm];d===void 0&&(d=l[qm]=new Set);var m=a+"__bubble";d.has(m)||(C0(l,a,2,!1),d.add(m))}function Fm(a,l,d){var m=0;l&&(m|=4),C0(d,a,m,l)}var Od="_reactListening"+Math.random().toString(36).slice(2);function Tc(a){if(!a[Od]){a[Od]=!0,n.forEach(function(d){d!=="selectionchange"&&(K2.has(d)||Fm(d,!1,a),Fm(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Od]||(l[Od]=!0,Fm("selectionchange",!1,l))}}function C0(a,l,d,m){switch(Gx(l)){case 1:var x=l2;break;case 4:x=c2;break;default:x=_m}d=x.bind(null,l,d,a),x=void 0,!qn||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),m?x!==void 0?a.addEventListener(l,d,{capture:!0,passive:x}):a.addEventListener(l,d,!0):x!==void 0?a.addEventListener(l,d,{passive:x}):a.addEventListener(l,d,!1)}function Um(a,l,d,m,x){var j=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var P=m.tag;if(P===3||P===4){var $=m.stateNode.containerInfo;if($===x||$.nodeType===8&&$.parentNode===x)break;if(P===4)for(P=m.return;P!==null;){var q=P.tag;if((q===3||q===4)&&(q=P.stateNode.containerInfo,q===x||q.nodeType===8&&q.parentNode===x))return;P=P.return}for(;$!==null;){if(P=Wo($),P===null)return;if(q=P.tag,q===5||q===6){m=j=P;continue e}$=$.parentNode}}m=m.return}Jr(function(){var oe=j,pe=Li(d),ge=[];e:{var he=_0.get(a);if(he!==void 0){var Ee=Nm,Re=a;switch(a){case"keypress":if(Ed(d)===0)break e;case"keydown":case"keyup":Ee=S2;break;case"focusin":Re="focus",Ee=Em;break;case"focusout":Re="blur",Ee=Em;break;case"beforeblur":case"afterblur":Ee=Em;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=Zx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=f2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=k2;break;case y0:case x0:case w0:Ee=p2;break;case b0:Ee=P2;break;case"scroll":Ee=u2;break;case"wheel":Ee=T2;break;case"copy":case"cut":case"paste":Ee=v2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=e0}var Ie=(l&4)!==0,nr=!Ie&&a==="scroll",re=Ie?he!==null?he+"Capture":null:he;Ie=[];for(var G=oe,se;G!==null;){se=G;var ye=se.stateNode;if(se.tag===5&&ye!==null&&(se=ye,re!==null&&(ye=Qr(G,re),ye!=null&&Ie.push(Rc(G,ye,se)))),nr)break;G=G.return}0<Ie.length&&(he=new Ee(he,Re,null,d,pe),ge.push({event:he,listeners:Ie}))}}if((l&7)===0){e:{if(he=a==="mouseover"||a==="pointerover",Ee=a==="mouseout"||a==="pointerout",he&&d!==Oa&&(Re=d.relatedTarget||d.fromElement)&&(Wo(Re)||Re[ta]))break e;if((Ee||he)&&(he=pe.window===pe?pe:(he=pe.ownerDocument)?he.defaultView||he.parentWindow:window,Ee?(Re=d.relatedTarget||d.toElement,Ee=oe,Re=Re?Wo(Re):null,Re!==null&&(nr=zo(Re),Re!==nr||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(Ee=null,Re=oe),Ee!==Re)){if(Ie=Zx,ye="onMouseLeave",re="onMouseEnter",G="mouse",(a==="pointerout"||a==="pointerover")&&(Ie=e0,ye="onPointerLeave",re="onPointerEnter",G="pointer"),nr=Ee==null?he:qi(Ee),se=Re==null?he:qi(Re),he=new Ie(ye,G+"leave",Ee,d,pe),he.target=nr,he.relatedTarget=se,ye=null,Wo(pe)===oe&&(Ie=new Ie(re,G+"enter",Re,d,pe),Ie.target=se,Ie.relatedTarget=nr,ye=Ie),nr=ye,Ee&&Re)t:{for(Ie=Ee,re=Re,G=0,se=Ie;se;se=Wi(se))G++;for(se=0,ye=re;ye;ye=Wi(ye))se++;for(;0<G-se;)Ie=Wi(Ie),G--;for(;0<se-G;)re=Wi(re),se--;for(;G--;){if(Ie===re||re!==null&&Ie===re.alternate)break t;Ie=Wi(Ie),re=Wi(re)}Ie=null}else Ie=null;Ee!==null&&k0(ge,he,Ee,Ie,!1),Re!==null&&nr!==null&&k0(ge,nr,Re,Ie,!0)}}e:{if(he=oe?qi(oe):window,Ee=he.nodeName&&he.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&he.type==="file")var $e=$2;else if(o0(he))if(l0)$e=V2;else{$e=U2;var He=F2}else(Ee=he.nodeName)&&Ee.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&($e=B2);if($e&&($e=$e(a,oe))){i0(ge,$e,d,pe);break e}He&&He(a,he,oe),a==="focusout"&&(He=he._wrapperState)&&He.controlled&&he.type==="number"&&Ar(he,"number",he.value)}switch(He=oe?qi(oe):window,a){case"focusin":(o0(He)||He.contentEditable==="true")&&(Vi=He,Om=oe,Pc=null);break;case"focusout":Pc=Om=Vi=null;break;case"mousedown":Im=!0;break;case"contextmenu":case"mouseup":case"dragend":Im=!1,g0(ge,d,pe);break;case"selectionchange":if(H2)break;case"keydown":case"keyup":g0(ge,d,pe)}var qe;if(Am)e:{switch(a){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Bi?s0(a,d)&&(Qe="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Qe="onCompositionStart");Qe&&(t0&&d.locale!=="ko"&&(Bi||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Bi&&(qe=Jx()):(Ua=pe,Sm="value"in Ua?Ua.value:Ua.textContent,Bi=!0)),He=Id(oe,Qe),0<He.length&&(Qe=new Xx(Qe,a,null,d,pe),ge.push({event:Qe,listeners:He}),qe?Qe.data=qe:(qe=a0(d),qe!==null&&(Qe.data=qe)))),(qe=D2?O2(a,d):I2(a,d))&&(oe=Id(oe,"onBeforeInput"),0<oe.length&&(pe=new Xx("onBeforeInput","beforeinput",null,d,pe),ge.push({event:pe,listeners:oe}),pe.data=qe))}N0(ge,l)})}function Rc(a,l,d){return{instance:a,listener:l,currentTarget:d}}function Id(a,l){for(var d=l+"Capture",m=[];a!==null;){var x=a,j=x.stateNode;x.tag===5&&j!==null&&(x=j,j=Qr(a,d),j!=null&&m.unshift(Rc(a,j,x)),j=Qr(a,l),j!=null&&m.push(Rc(a,j,x))),a=a.return}return m}function Wi(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function k0(a,l,d,m,x){for(var j=l._reactName,P=[];d!==null&&d!==m;){var $=d,q=$.alternate,oe=$.stateNode;if(q!==null&&q===m)break;$.tag===5&&oe!==null&&($=oe,x?(q=Qr(d,j),q!=null&&P.unshift(Rc(d,q,$))):x||(q=Qr(d,j),q!=null&&P.push(Rc(d,q,$)))),d=d.return}P.length!==0&&a.push({event:l,listeners:P})}var G2=/\r\n?/g,J2=/\u0000|\uFFFD/g;function E0(a){return(typeof a=="string"?a:""+a).replace(G2,`
`).replace(J2,"")}function Md(a,l,d){if(l=E0(l),E0(a)!==l&&d)throw Error(r(425))}function Ld(){}var Bm=null,Vm=null;function zm(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Wm=typeof setTimeout=="function"?setTimeout:void 0,Q2=typeof clearTimeout=="function"?clearTimeout:void 0,P0=typeof Promise=="function"?Promise:void 0,Z2=typeof queueMicrotask=="function"?queueMicrotask:typeof P0<"u"?function(a){return P0.resolve(null).then(a).catch(X2)}:Wm;function X2(a){setTimeout(function(){throw a})}function Hm(a,l){var d=l,m=0;do{var x=d.nextSibling;if(a.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(m===0){a.removeChild(x),_c(l);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=x}while(d);_c(l)}function Va(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function A0(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return a;l--}else d==="/$"&&l++}a=a.previousSibling}return null}var Hi=Math.random().toString(36).slice(2),Ts="__reactFiber$"+Hi,Dc="__reactProps$"+Hi,ta="__reactContainer$"+Hi,qm="__reactEvents$"+Hi,eA="__reactListeners$"+Hi,tA="__reactHandles$"+Hi;function Wo(a){var l=a[Ts];if(l)return l;for(var d=a.parentNode;d;){if(l=d[ta]||d[Ts]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=A0(a);a!==null;){if(d=a[Ts])return d;a=A0(a)}return l}a=d,d=a.parentNode}return null}function Oc(a){return a=a[Ts]||a[ta],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function qi(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(r(33))}function $d(a){return a[Dc]||null}var Ym=[],Yi=-1;function za(a){return{current:a}}function Vt(a){0>Yi||(a.current=Ym[Yi],Ym[Yi]=null,Yi--)}function Lt(a,l){Yi++,Ym[Yi]=a.current,a.current=l}var Wa={},Rr=za(Wa),Zr=za(!1),Ho=Wa;function Ki(a,l){var d=a.type.contextTypes;if(!d)return Wa;var m=a.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===l)return m.__reactInternalMemoizedMaskedChildContext;var x={},j;for(j in d)x[j]=l[j];return m&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=x),x}function Xr(a){return a=a.childContextTypes,a!=null}function Fd(){Vt(Zr),Vt(Rr)}function T0(a,l,d){if(Rr.current!==Wa)throw Error(r(168));Lt(Rr,l),Lt(Zr,d)}function R0(a,l,d){var m=a.stateNode;if(l=l.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var x in m)if(!(x in l))throw Error(r(108,ae(a)||"Unknown",x));return F({},d,m)}function Ud(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Wa,Ho=Rr.current,Lt(Rr,a),Lt(Zr,Zr.current),!0}function D0(a,l,d){var m=a.stateNode;if(!m)throw Error(r(169));d?(a=R0(a,l,Ho),m.__reactInternalMemoizedMergedChildContext=a,Vt(Zr),Vt(Rr),Lt(Rr,a)):Vt(Zr),Lt(Zr,d)}var ra=null,Bd=!1,Km=!1;function O0(a){ra===null?ra=[a]:ra.push(a)}function rA(a){Bd=!0,O0(a)}function Ha(){if(!Km&&ra!==null){Km=!0;var a=0,l=Ot;try{var d=ra;for(Ot=1;a<d.length;a++){var m=d[a];do m=m(!0);while(m!==null)}ra=null,Bd=!1}catch(x){throw ra!==null&&(ra=ra.slice(a+1)),Mx(gm,Ha),x}finally{Ot=l,Km=!1}}return null}var Gi=[],Ji=0,Vd=null,zd=0,kn=[],En=0,qo=null,na=1,sa="";function Yo(a,l){Gi[Ji++]=zd,Gi[Ji++]=Vd,Vd=a,zd=l}function I0(a,l,d){kn[En++]=na,kn[En++]=sa,kn[En++]=qo,qo=a;var m=na;a=sa;var x=32-Yn(m)-1;m&=~(1<<x),d+=1;var j=32-Yn(l)+x;if(30<j){var P=x-x%5;j=(m&(1<<P)-1).toString(32),m>>=P,x-=P,na=1<<32-Yn(l)+x|d<<x|m,sa=j+a}else na=1<<j|d<<x|m,sa=a}function Gm(a){a.return!==null&&(Yo(a,1),I0(a,1,0))}function Jm(a){for(;a===Vd;)Vd=Gi[--Ji],Gi[Ji]=null,zd=Gi[--Ji],Gi[Ji]=null;for(;a===qo;)qo=kn[--En],kn[En]=null,sa=kn[--En],kn[En]=null,na=kn[--En],kn[En]=null}var gn=null,vn=null,Yt=!1,Gn=null;function M0(a,l){var d=Rn(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=a,l=a.deletions,l===null?(a.deletions=[d],a.flags|=16):l.push(d)}function L0(a,l){switch(a.tag){case 5:var d=a.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,gn=a,vn=Va(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,gn=a,vn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=qo!==null?{id:na,overflow:sa}:null,a.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=Rn(18,null,null,0),d.stateNode=l,d.return=a,a.child=d,gn=a,vn=null,!0):!1;default:return!1}}function Qm(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Zm(a){if(Yt){var l=vn;if(l){var d=l;if(!L0(a,l)){if(Qm(a))throw Error(r(418));l=Va(d.nextSibling);var m=gn;l&&L0(a,l)?M0(m,d):(a.flags=a.flags&-4097|2,Yt=!1,gn=a)}}else{if(Qm(a))throw Error(r(418));a.flags=a.flags&-4097|2,Yt=!1,gn=a}}}function $0(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;gn=a}function Wd(a){if(a!==gn)return!1;if(!Yt)return $0(a),Yt=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!zm(a.type,a.memoizedProps)),l&&(l=vn)){if(Qm(a))throw F0(),Error(r(418));for(;l;)M0(a,l),l=Va(l.nextSibling)}if($0(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"){if(l===0){vn=Va(a.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}a=a.nextSibling}vn=null}}else vn=gn?Va(a.stateNode.nextSibling):null;return!0}function F0(){for(var a=vn;a;)a=Va(a.nextSibling)}function Qi(){vn=gn=null,Yt=!1}function Xm(a){Gn===null?Gn=[a]:Gn.push(a)}var nA=k.ReactCurrentBatchConfig;function Ic(a,l,d){if(a=d.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var m=d.stateNode}if(!m)throw Error(r(147,a));var x=m,j=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===j?l.ref:(l=function(P){var $=x.refs;P===null?delete $[j]:$[j]=P},l._stringRef=j,l)}if(typeof a!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,a))}return a}function Hd(a,l){throw a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function U0(a){var l=a._init;return l(a._payload)}function B0(a){function l(re,G){if(a){var se=re.deletions;se===null?(re.deletions=[G],re.flags|=16):se.push(G)}}function d(re,G){if(!a)return null;for(;G!==null;)l(re,G),G=G.sibling;return null}function m(re,G){for(re=new Map;G!==null;)G.key!==null?re.set(G.key,G):re.set(G.index,G),G=G.sibling;return re}function x(re,G){return re=Xa(re,G),re.index=0,re.sibling=null,re}function j(re,G,se){return re.index=se,a?(se=re.alternate,se!==null?(se=se.index,se<G?(re.flags|=2,G):se):(re.flags|=2,G)):(re.flags|=1048576,G)}function P(re){return a&&re.alternate===null&&(re.flags|=2),re}function $(re,G,se,ye){return G===null||G.tag!==6?(G=Wp(se,re.mode,ye),G.return=re,G):(G=x(G,se),G.return=re,G)}function q(re,G,se,ye){var $e=se.type;return $e===I?pe(re,G,se.props.children,ye,se.key):G!==null&&(G.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===J&&U0($e)===G.type)?(ye=x(G,se.props),ye.ref=Ic(re,G,se),ye.return=re,ye):(ye=gf(se.type,se.key,se.props,null,re.mode,ye),ye.ref=Ic(re,G,se),ye.return=re,ye)}function oe(re,G,se,ye){return G===null||G.tag!==4||G.stateNode.containerInfo!==se.containerInfo||G.stateNode.implementation!==se.implementation?(G=Hp(se,re.mode,ye),G.return=re,G):(G=x(G,se.children||[]),G.return=re,G)}function pe(re,G,se,ye,$e){return G===null||G.tag!==7?(G=ti(se,re.mode,ye,$e),G.return=re,G):(G=x(G,se),G.return=re,G)}function ge(re,G,se){if(typeof G=="string"&&G!==""||typeof G=="number")return G=Wp(""+G,re.mode,se),G.return=re,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return se=gf(G.type,G.key,G.props,null,re.mode,se),se.ref=Ic(re,null,G),se.return=re,se;case T:return G=Hp(G,re.mode,se),G.return=re,G;case J:var ye=G._init;return ge(re,ye(G._payload),se)}if(V(G)||M(G))return G=ti(G,re.mode,se,null),G.return=re,G;Hd(re,G)}return null}function he(re,G,se,ye){var $e=G!==null?G.key:null;if(typeof se=="string"&&se!==""||typeof se=="number")return $e!==null?null:$(re,G,""+se,ye);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case A:return se.key===$e?q(re,G,se,ye):null;case T:return se.key===$e?oe(re,G,se,ye):null;case J:return $e=se._init,he(re,G,$e(se._payload),ye)}if(V(se)||M(se))return $e!==null?null:pe(re,G,se,ye,null);Hd(re,se)}return null}function Ee(re,G,se,ye,$e){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return re=re.get(se)||null,$(G,re,""+ye,$e);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case A:return re=re.get(ye.key===null?se:ye.key)||null,q(G,re,ye,$e);case T:return re=re.get(ye.key===null?se:ye.key)||null,oe(G,re,ye,$e);case J:var He=ye._init;return Ee(re,G,se,He(ye._payload),$e)}if(V(ye)||M(ye))return re=re.get(se)||null,pe(G,re,ye,$e,null);Hd(G,ye)}return null}function Re(re,G,se,ye){for(var $e=null,He=null,qe=G,Qe=G=0,yr=null;qe!==null&&Qe<se.length;Qe++){qe.index>Qe?(yr=qe,qe=null):yr=qe.sibling;var Nt=he(re,qe,se[Qe],ye);if(Nt===null){qe===null&&(qe=yr);break}a&&qe&&Nt.alternate===null&&l(re,qe),G=j(Nt,G,Qe),He===null?$e=Nt:He.sibling=Nt,He=Nt,qe=yr}if(Qe===se.length)return d(re,qe),Yt&&Yo(re,Qe),$e;if(qe===null){for(;Qe<se.length;Qe++)qe=ge(re,se[Qe],ye),qe!==null&&(G=j(qe,G,Qe),He===null?$e=qe:He.sibling=qe,He=qe);return Yt&&Yo(re,Qe),$e}for(qe=m(re,qe);Qe<se.length;Qe++)yr=Ee(qe,re,Qe,se[Qe],ye),yr!==null&&(a&&yr.alternate!==null&&qe.delete(yr.key===null?Qe:yr.key),G=j(yr,G,Qe),He===null?$e=yr:He.sibling=yr,He=yr);return a&&qe.forEach(function(eo){return l(re,eo)}),Yt&&Yo(re,Qe),$e}function Ie(re,G,se,ye){var $e=M(se);if(typeof $e!="function")throw Error(r(150));if(se=$e.call(se),se==null)throw Error(r(151));for(var He=$e=null,qe=G,Qe=G=0,yr=null,Nt=se.next();qe!==null&&!Nt.done;Qe++,Nt=se.next()){qe.index>Qe?(yr=qe,qe=null):yr=qe.sibling;var eo=he(re,qe,Nt.value,ye);if(eo===null){qe===null&&(qe=yr);break}a&&qe&&eo.alternate===null&&l(re,qe),G=j(eo,G,Qe),He===null?$e=eo:He.sibling=eo,He=eo,qe=yr}if(Nt.done)return d(re,qe),Yt&&Yo(re,Qe),$e;if(qe===null){for(;!Nt.done;Qe++,Nt=se.next())Nt=ge(re,Nt.value,ye),Nt!==null&&(G=j(Nt,G,Qe),He===null?$e=Nt:He.sibling=Nt,He=Nt);return Yt&&Yo(re,Qe),$e}for(qe=m(re,qe);!Nt.done;Qe++,Nt=se.next())Nt=Ee(qe,re,Qe,Nt.value,ye),Nt!==null&&(a&&Nt.alternate!==null&&qe.delete(Nt.key===null?Qe:Nt.key),G=j(Nt,G,Qe),He===null?$e=Nt:He.sibling=Nt,He=Nt);return a&&qe.forEach(function(MA){return l(re,MA)}),Yt&&Yo(re,Qe),$e}function nr(re,G,se,ye){if(typeof se=="object"&&se!==null&&se.type===I&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case A:e:{for(var $e=se.key,He=G;He!==null;){if(He.key===$e){if($e=se.type,$e===I){if(He.tag===7){d(re,He.sibling),G=x(He,se.props.children),G.return=re,re=G;break e}}else if(He.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===J&&U0($e)===He.type){d(re,He.sibling),G=x(He,se.props),G.ref=Ic(re,He,se),G.return=re,re=G;break e}d(re,He);break}else l(re,He);He=He.sibling}se.type===I?(G=ti(se.props.children,re.mode,ye,se.key),G.return=re,re=G):(ye=gf(se.type,se.key,se.props,null,re.mode,ye),ye.ref=Ic(re,G,se),ye.return=re,re=ye)}return P(re);case T:e:{for(He=se.key;G!==null;){if(G.key===He)if(G.tag===4&&G.stateNode.containerInfo===se.containerInfo&&G.stateNode.implementation===se.implementation){d(re,G.sibling),G=x(G,se.children||[]),G.return=re,re=G;break e}else{d(re,G);break}else l(re,G);G=G.sibling}G=Hp(se,re.mode,ye),G.return=re,re=G}return P(re);case J:return He=se._init,nr(re,G,He(se._payload),ye)}if(V(se))return Re(re,G,se,ye);if(M(se))return Ie(re,G,se,ye);Hd(re,se)}return typeof se=="string"&&se!==""||typeof se=="number"?(se=""+se,G!==null&&G.tag===6?(d(re,G.sibling),G=x(G,se),G.return=re,re=G):(d(re,G),G=Wp(se,re.mode,ye),G.return=re,re=G),P(re)):d(re,G)}return nr}var Zi=B0(!0),V0=B0(!1),qd=za(null),Yd=null,Xi=null,ep=null;function tp(){ep=Xi=Yd=null}function rp(a){var l=qd.current;Vt(qd),a._currentValue=l}function np(a,l,d){for(;a!==null;){var m=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),a===d)break;a=a.return}}function el(a,l){Yd=a,ep=Xi=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&(en=!0),a.firstContext=null)}function Pn(a){var l=a._currentValue;if(ep!==a)if(a={context:a,memoizedValue:l,next:null},Xi===null){if(Yd===null)throw Error(r(308));Xi=a,Yd.dependencies={lanes:0,firstContext:a}}else Xi=Xi.next=a;return l}var Ko=null;function sp(a){Ko===null?Ko=[a]:Ko.push(a)}function z0(a,l,d,m){var x=l.interleaved;return x===null?(d.next=d,sp(l)):(d.next=x.next,x.next=d),l.interleaved=d,aa(a,m)}function aa(a,l){a.lanes|=l;var d=a.alternate;for(d!==null&&(d.lanes|=l),d=a,a=a.return;a!==null;)a.childLanes|=l,d=a.alternate,d!==null&&(d.childLanes|=l),d=a,a=a.return;return d.tag===3?d.stateNode:null}var qa=!1;function ap(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function W0(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function oa(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function Ya(a,l,d){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(jt&2)!==0){var x=m.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),m.pending=l,aa(a,d)}return x=m.interleaved,x===null?(l.next=l,sp(m)):(l.next=x.next,x.next=l),m.interleaved=l,aa(a,d)}function Kd(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var m=l.lanes;m&=a.pendingLanes,d|=m,l.lanes=d,xm(a,d)}}function H0(a,l){var d=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var x=null,j=null;if(d=d.firstBaseUpdate,d!==null){do{var P={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};j===null?x=j=P:j=j.next=P,d=d.next}while(d!==null);j===null?x=j=l:j=j.next=l}else x=j=l;d={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:j,shared:m.shared,effects:m.effects},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}function Gd(a,l,d,m){var x=a.updateQueue;qa=!1;var j=x.firstBaseUpdate,P=x.lastBaseUpdate,$=x.shared.pending;if($!==null){x.shared.pending=null;var q=$,oe=q.next;q.next=null,P===null?j=oe:P.next=oe,P=q;var pe=a.alternate;pe!==null&&(pe=pe.updateQueue,$=pe.lastBaseUpdate,$!==P&&($===null?pe.firstBaseUpdate=oe:$.next=oe,pe.lastBaseUpdate=q))}if(j!==null){var ge=x.baseState;P=0,pe=oe=q=null,$=j;do{var he=$.lane,Ee=$.eventTime;if((m&he)===he){pe!==null&&(pe=pe.next={eventTime:Ee,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var Re=a,Ie=$;switch(he=l,Ee=d,Ie.tag){case 1:if(Re=Ie.payload,typeof Re=="function"){ge=Re.call(Ee,ge,he);break e}ge=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Ie.payload,he=typeof Re=="function"?Re.call(Ee,ge,he):Re,he==null)break e;ge=F({},ge,he);break e;case 2:qa=!0}}$.callback!==null&&$.lane!==0&&(a.flags|=64,he=x.effects,he===null?x.effects=[$]:he.push($))}else Ee={eventTime:Ee,lane:he,tag:$.tag,payload:$.payload,callback:$.callback,next:null},pe===null?(oe=pe=Ee,q=ge):pe=pe.next=Ee,P|=he;if($=$.next,$===null){if($=x.shared.pending,$===null)break;he=$,$=he.next,he.next=null,x.lastBaseUpdate=he,x.shared.pending=null}}while(!0);if(pe===null&&(q=ge),x.baseState=q,x.firstBaseUpdate=oe,x.lastBaseUpdate=pe,l=x.shared.interleaved,l!==null){x=l;do P|=x.lane,x=x.next;while(x!==l)}else j===null&&(x.shared.lanes=0);Qo|=P,a.lanes=P,a.memoizedState=ge}}function q0(a,l,d){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var m=a[l],x=m.callback;if(x!==null){if(m.callback=null,m=d,typeof x!="function")throw Error(r(191,x));x.call(m)}}}var Mc={},Rs=za(Mc),Lc=za(Mc),$c=za(Mc);function Go(a){if(a===Mc)throw Error(r(174));return a}function op(a,l){switch(Lt($c,l),Lt(Lc,a),Lt(Rs,Mc),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:it(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=it(l,a)}Vt(Rs),Lt(Rs,l)}function tl(){Vt(Rs),Vt(Lc),Vt($c)}function Y0(a){Go($c.current);var l=Go(Rs.current),d=it(l,a.type);l!==d&&(Lt(Lc,a),Lt(Rs,d))}function ip(a){Lc.current===a&&(Vt(Rs),Vt(Lc))}var Gt=za(0);function Jd(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var lp=[];function cp(){for(var a=0;a<lp.length;a++)lp[a]._workInProgressVersionPrimary=null;lp.length=0}var Qd=k.ReactCurrentDispatcher,up=k.ReactCurrentBatchConfig,Jo=0,Jt=null,fr=null,gr=null,Zd=!1,Fc=!1,Uc=0,sA=0;function Dr(){throw Error(r(321))}function dp(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!Kn(a[d],l[d]))return!1;return!0}function fp(a,l,d,m,x,j){if(Jo=j,Jt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Qd.current=a===null||a.memoizedState===null?lA:cA,a=d(m,x),Fc){j=0;do{if(Fc=!1,Uc=0,25<=j)throw Error(r(301));j+=1,gr=fr=null,l.updateQueue=null,Qd.current=uA,a=d(m,x)}while(Fc)}if(Qd.current=tf,l=fr!==null&&fr.next!==null,Jo=0,gr=fr=Jt=null,Zd=!1,l)throw Error(r(300));return a}function hp(){var a=Uc!==0;return Uc=0,a}function Ds(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gr===null?Jt.memoizedState=gr=a:gr=gr.next=a,gr}function An(){if(fr===null){var a=Jt.alternate;a=a!==null?a.memoizedState:null}else a=fr.next;var l=gr===null?Jt.memoizedState:gr.next;if(l!==null)gr=l,fr=a;else{if(a===null)throw Error(r(310));fr=a,a={memoizedState:fr.memoizedState,baseState:fr.baseState,baseQueue:fr.baseQueue,queue:fr.queue,next:null},gr===null?Jt.memoizedState=gr=a:gr=gr.next=a}return gr}function Bc(a,l){return typeof l=="function"?l(a):l}function mp(a){var l=An(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var m=fr,x=m.baseQueue,j=d.pending;if(j!==null){if(x!==null){var P=x.next;x.next=j.next,j.next=P}m.baseQueue=x=j,d.pending=null}if(x!==null){j=x.next,m=m.baseState;var $=P=null,q=null,oe=j;do{var pe=oe.lane;if((Jo&pe)===pe)q!==null&&(q=q.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),m=oe.hasEagerState?oe.eagerState:a(m,oe.action);else{var ge={lane:pe,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};q===null?($=q=ge,P=m):q=q.next=ge,Jt.lanes|=pe,Qo|=pe}oe=oe.next}while(oe!==null&&oe!==j);q===null?P=m:q.next=$,Kn(m,l.memoizedState)||(en=!0),l.memoizedState=m,l.baseState=P,l.baseQueue=q,d.lastRenderedState=m}if(a=d.interleaved,a!==null){x=a;do j=x.lane,Jt.lanes|=j,Qo|=j,x=x.next;while(x!==a)}else x===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function pp(a){var l=An(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var m=d.dispatch,x=d.pending,j=l.memoizedState;if(x!==null){d.pending=null;var P=x=x.next;do j=a(j,P.action),P=P.next;while(P!==x);Kn(j,l.memoizedState)||(en=!0),l.memoizedState=j,l.baseQueue===null&&(l.baseState=j),d.lastRenderedState=j}return[j,m]}function K0(){}function G0(a,l){var d=Jt,m=An(),x=l(),j=!Kn(m.memoizedState,x);if(j&&(m.memoizedState=x,en=!0),m=m.queue,gp(Z0.bind(null,d,m,a),[a]),m.getSnapshot!==l||j||gr!==null&&gr.memoizedState.tag&1){if(d.flags|=2048,Vc(9,Q0.bind(null,d,m,x,l),void 0,null),vr===null)throw Error(r(349));(Jo&30)!==0||J0(d,l,x)}return x}function J0(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=Jt.updateQueue,l===null?(l={lastEffect:null,stores:null},Jt.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function Q0(a,l,d,m){l.value=d,l.getSnapshot=m,X0(l)&&ew(a)}function Z0(a,l,d){return d(function(){X0(l)&&ew(a)})}function X0(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!Kn(a,d)}catch{return!0}}function ew(a){var l=aa(a,1);l!==null&&Xn(l,a,1,-1)}function tw(a){var l=Ds();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bc,lastRenderedState:a},l.queue=a,a=a.dispatch=iA.bind(null,Jt,a),[l.memoizedState,a]}function Vc(a,l,d,m){return a={tag:a,create:l,destroy:d,deps:m,next:null},l=Jt.updateQueue,l===null?(l={lastEffect:null,stores:null},Jt.updateQueue=l,l.lastEffect=a.next=a):(d=l.lastEffect,d===null?l.lastEffect=a.next=a:(m=d.next,d.next=a,a.next=m,l.lastEffect=a)),a}function rw(){return An().memoizedState}function Xd(a,l,d,m){var x=Ds();Jt.flags|=a,x.memoizedState=Vc(1|l,d,void 0,m===void 0?null:m)}function ef(a,l,d,m){var x=An();m=m===void 0?null:m;var j=void 0;if(fr!==null){var P=fr.memoizedState;if(j=P.destroy,m!==null&&dp(m,P.deps)){x.memoizedState=Vc(l,d,j,m);return}}Jt.flags|=a,x.memoizedState=Vc(1|l,d,j,m)}function nw(a,l){return Xd(8390656,8,a,l)}function gp(a,l){return ef(2048,8,a,l)}function sw(a,l){return ef(4,2,a,l)}function aw(a,l){return ef(4,4,a,l)}function ow(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function iw(a,l,d){return d=d!=null?d.concat([a]):null,ef(4,4,ow.bind(null,l,a),d)}function vp(){}function lw(a,l){var d=An();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&dp(l,m[1])?m[0]:(d.memoizedState=[a,l],a)}function cw(a,l){var d=An();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&dp(l,m[1])?m[0]:(a=a(),d.memoizedState=[a,l],a)}function uw(a,l,d){return(Jo&21)===0?(a.baseState&&(a.baseState=!1,en=!0),a.memoizedState=d):(Kn(d,l)||(d=Ux(),Jt.lanes|=d,Qo|=d,a.baseState=!0),l)}function aA(a,l){var d=Ot;Ot=d!==0&&4>d?d:4,a(!0);var m=up.transition;up.transition={};try{a(!1),l()}finally{Ot=d,up.transition=m}}function dw(){return An().memoizedState}function oA(a,l,d){var m=Qa(a);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},fw(a))hw(l,d);else if(d=z0(a,l,d,m),d!==null){var x=Br();Xn(d,a,m,x),mw(d,l,m)}}function iA(a,l,d){var m=Qa(a),x={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(fw(a))hw(l,x);else{var j=a.alternate;if(a.lanes===0&&(j===null||j.lanes===0)&&(j=l.lastRenderedReducer,j!==null))try{var P=l.lastRenderedState,$=j(P,d);if(x.hasEagerState=!0,x.eagerState=$,Kn($,P)){var q=l.interleaved;q===null?(x.next=x,sp(l)):(x.next=q.next,q.next=x),l.interleaved=x;return}}catch{}finally{}d=z0(a,l,x,m),d!==null&&(x=Br(),Xn(d,a,m,x),mw(d,l,m))}}function fw(a){var l=a.alternate;return a===Jt||l!==null&&l===Jt}function hw(a,l){Fc=Zd=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function mw(a,l,d){if((d&4194240)!==0){var m=l.lanes;m&=a.pendingLanes,d|=m,l.lanes=d,xm(a,d)}}var tf={readContext:Pn,useCallback:Dr,useContext:Dr,useEffect:Dr,useImperativeHandle:Dr,useInsertionEffect:Dr,useLayoutEffect:Dr,useMemo:Dr,useReducer:Dr,useRef:Dr,useState:Dr,useDebugValue:Dr,useDeferredValue:Dr,useTransition:Dr,useMutableSource:Dr,useSyncExternalStore:Dr,useId:Dr,unstable_isNewReconciler:!1},lA={readContext:Pn,useCallback:function(a,l){return Ds().memoizedState=[a,l===void 0?null:l],a},useContext:Pn,useEffect:nw,useImperativeHandle:function(a,l,d){return d=d!=null?d.concat([a]):null,Xd(4194308,4,ow.bind(null,l,a),d)},useLayoutEffect:function(a,l){return Xd(4194308,4,a,l)},useInsertionEffect:function(a,l){return Xd(4,2,a,l)},useMemo:function(a,l){var d=Ds();return l=l===void 0?null:l,a=a(),d.memoizedState=[a,l],a},useReducer:function(a,l,d){var m=Ds();return l=d!==void 0?d(l):l,m.memoizedState=m.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},m.queue=a,a=a.dispatch=oA.bind(null,Jt,a),[m.memoizedState,a]},useRef:function(a){var l=Ds();return a={current:a},l.memoizedState=a},useState:tw,useDebugValue:vp,useDeferredValue:function(a){return Ds().memoizedState=a},useTransition:function(){var a=tw(!1),l=a[0];return a=aA.bind(null,a[1]),Ds().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,d){var m=Jt,x=Ds();if(Yt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),vr===null)throw Error(r(349));(Jo&30)!==0||J0(m,l,d)}x.memoizedState=d;var j={value:d,getSnapshot:l};return x.queue=j,nw(Z0.bind(null,m,j,a),[a]),m.flags|=2048,Vc(9,Q0.bind(null,m,j,d,l),void 0,null),d},useId:function(){var a=Ds(),l=vr.identifierPrefix;if(Yt){var d=sa,m=na;d=(m&~(1<<32-Yn(m)-1)).toString(32)+d,l=":"+l+"R"+d,d=Uc++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=sA++,l=":"+l+"r"+d.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},cA={readContext:Pn,useCallback:lw,useContext:Pn,useEffect:gp,useImperativeHandle:iw,useInsertionEffect:sw,useLayoutEffect:aw,useMemo:cw,useReducer:mp,useRef:rw,useState:function(){return mp(Bc)},useDebugValue:vp,useDeferredValue:function(a){var l=An();return uw(l,fr.memoizedState,a)},useTransition:function(){var a=mp(Bc)[0],l=An().memoizedState;return[a,l]},useMutableSource:K0,useSyncExternalStore:G0,useId:dw,unstable_isNewReconciler:!1},uA={readContext:Pn,useCallback:lw,useContext:Pn,useEffect:gp,useImperativeHandle:iw,useInsertionEffect:sw,useLayoutEffect:aw,useMemo:cw,useReducer:pp,useRef:rw,useState:function(){return pp(Bc)},useDebugValue:vp,useDeferredValue:function(a){var l=An();return fr===null?l.memoizedState=a:uw(l,fr.memoizedState,a)},useTransition:function(){var a=pp(Bc)[0],l=An().memoizedState;return[a,l]},useMutableSource:K0,useSyncExternalStore:G0,useId:dw,unstable_isNewReconciler:!1};function Jn(a,l){if(a&&a.defaultProps){l=F({},l),a=a.defaultProps;for(var d in a)l[d]===void 0&&(l[d]=a[d]);return l}return l}function yp(a,l,d,m){l=a.memoizedState,d=d(m,l),d=d==null?l:F({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var rf={isMounted:function(a){return(a=a._reactInternals)?zo(a)===a:!1},enqueueSetState:function(a,l,d){a=a._reactInternals;var m=Br(),x=Qa(a),j=oa(m,x);j.payload=l,d!=null&&(j.callback=d),l=Ya(a,j,x),l!==null&&(Xn(l,a,x,m),Kd(l,a,x))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var m=Br(),x=Qa(a),j=oa(m,x);j.tag=1,j.payload=l,d!=null&&(j.callback=d),l=Ya(a,j,x),l!==null&&(Xn(l,a,x,m),Kd(l,a,x))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=Br(),m=Qa(a),x=oa(d,m);x.tag=2,l!=null&&(x.callback=l),l=Ya(a,x,m),l!==null&&(Xn(l,a,m,d),Kd(l,a,m))}};function pw(a,l,d,m,x,j,P){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,j,P):l.prototype&&l.prototype.isPureReactComponent?!Ec(d,m)||!Ec(x,j):!0}function gw(a,l,d){var m=!1,x=Wa,j=l.contextType;return typeof j=="object"&&j!==null?j=Pn(j):(x=Xr(l)?Ho:Rr.current,m=l.contextTypes,j=(m=m!=null)?Ki(a,x):Wa),l=new l(d,j),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=rf,a.stateNode=l,l._reactInternals=a,m&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=x,a.__reactInternalMemoizedMaskedChildContext=j),l}function vw(a,l,d,m){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==a&&rf.enqueueReplaceState(l,l.state,null)}function xp(a,l,d,m){var x=a.stateNode;x.props=d,x.state=a.memoizedState,x.refs={},ap(a);var j=l.contextType;typeof j=="object"&&j!==null?x.context=Pn(j):(j=Xr(l)?Ho:Rr.current,x.context=Ki(a,j)),x.state=a.memoizedState,j=l.getDerivedStateFromProps,typeof j=="function"&&(yp(a,l,j,d),x.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(l=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),l!==x.state&&rf.enqueueReplaceState(x,x.state,null),Gd(a,d,x,m),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308)}function rl(a,l){try{var d="",m=l;do d+=U(m),m=m.return;while(m);var x=d}catch(j){x=`
Error generating stack: `+j.message+`
`+j.stack}return{value:a,source:l,stack:x,digest:null}}function wp(a,l,d){return{value:a,source:null,stack:d??null,digest:l??null}}function bp(a,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var dA=typeof WeakMap=="function"?WeakMap:Map;function yw(a,l,d){d=oa(-1,d),d.tag=3,d.payload={element:null};var m=l.value;return d.callback=function(){uf||(uf=!0,Mp=m),bp(a,l)},d}function xw(a,l,d){d=oa(-1,d),d.tag=3;var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var x=l.value;d.payload=function(){return m(x)},d.callback=function(){bp(a,l)}}var j=a.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(d.callback=function(){bp(a,l),typeof m!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var P=l.stack;this.componentDidCatch(l.value,{componentStack:P!==null?P:""})}),d}function ww(a,l,d){var m=a.pingCache;if(m===null){m=a.pingCache=new dA;var x=new Set;m.set(l,x)}else x=m.get(l),x===void 0&&(x=new Set,m.set(l,x));x.has(d)||(x.add(d),a=NA.bind(null,a,l,d),l.then(a,a))}function bw(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function _w(a,l,d,m,x){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=oa(-1,1),l.tag=2,Ya(d,l,1))),d.lanes|=1),a):(a.flags|=65536,a.lanes=x,a)}var fA=k.ReactCurrentOwner,en=!1;function Ur(a,l,d,m){l.child=a===null?V0(l,null,d,m):Zi(l,a.child,d,m)}function jw(a,l,d,m,x){d=d.render;var j=l.ref;return el(l,x),m=fp(a,l,d,m,j,x),d=hp(),a!==null&&!en?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~x,ia(a,l,x)):(Yt&&d&&Gm(l),l.flags|=1,Ur(a,l,m,x),l.child)}function Sw(a,l,d,m,x){if(a===null){var j=d.type;return typeof j=="function"&&!zp(j)&&j.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=j,Nw(a,l,j,m,x)):(a=gf(d.type,null,m,l,l.mode,x),a.ref=l.ref,a.return=l,l.child=a)}if(j=a.child,(a.lanes&x)===0){var P=j.memoizedProps;if(d=d.compare,d=d!==null?d:Ec,d(P,m)&&a.ref===l.ref)return ia(a,l,x)}return l.flags|=1,a=Xa(j,m),a.ref=l.ref,a.return=l,l.child=a}function Nw(a,l,d,m,x){if(a!==null){var j=a.memoizedProps;if(Ec(j,m)&&a.ref===l.ref)if(en=!1,l.pendingProps=m=j,(a.lanes&x)!==0)(a.flags&131072)!==0&&(en=!0);else return l.lanes=a.lanes,ia(a,l,x)}return _p(a,l,d,m,x)}function Cw(a,l,d){var m=l.pendingProps,x=m.children,j=a!==null?a.memoizedState:null;if(m.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Lt(sl,yn),yn|=d;else{if((d&1073741824)===0)return a=j!==null?j.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,Lt(sl,yn),yn|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=j!==null?j.baseLanes:d,Lt(sl,yn),yn|=m}else j!==null?(m=j.baseLanes|d,l.memoizedState=null):m=d,Lt(sl,yn),yn|=m;return Ur(a,l,x,d),l.child}function kw(a,l){var d=l.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function _p(a,l,d,m,x){var j=Xr(d)?Ho:Rr.current;return j=Ki(l,j),el(l,x),d=fp(a,l,d,m,j,x),m=hp(),a!==null&&!en?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~x,ia(a,l,x)):(Yt&&m&&Gm(l),l.flags|=1,Ur(a,l,d,x),l.child)}function Ew(a,l,d,m,x){if(Xr(d)){var j=!0;Ud(l)}else j=!1;if(el(l,x),l.stateNode===null)sf(a,l),gw(l,d,m),xp(l,d,m,x),m=!0;else if(a===null){var P=l.stateNode,$=l.memoizedProps;P.props=$;var q=P.context,oe=d.contextType;typeof oe=="object"&&oe!==null?oe=Pn(oe):(oe=Xr(d)?Ho:Rr.current,oe=Ki(l,oe));var pe=d.getDerivedStateFromProps,ge=typeof pe=="function"||typeof P.getSnapshotBeforeUpdate=="function";ge||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||($!==m||q!==oe)&&vw(l,P,m,oe),qa=!1;var he=l.memoizedState;P.state=he,Gd(l,m,P,x),q=l.memoizedState,$!==m||he!==q||Zr.current||qa?(typeof pe=="function"&&(yp(l,d,pe,m),q=l.memoizedState),($=qa||pw(l,d,$,m,he,q,oe))?(ge||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(l.flags|=4194308)):(typeof P.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=q),P.props=m,P.state=q,P.context=oe,m=$):(typeof P.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{P=l.stateNode,W0(a,l),$=l.memoizedProps,oe=l.type===l.elementType?$:Jn(l.type,$),P.props=oe,ge=l.pendingProps,he=P.context,q=d.contextType,typeof q=="object"&&q!==null?q=Pn(q):(q=Xr(d)?Ho:Rr.current,q=Ki(l,q));var Ee=d.getDerivedStateFromProps;(pe=typeof Ee=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||($!==ge||he!==q)&&vw(l,P,m,q),qa=!1,he=l.memoizedState,P.state=he,Gd(l,m,P,x);var Re=l.memoizedState;$!==ge||he!==Re||Zr.current||qa?(typeof Ee=="function"&&(yp(l,d,Ee,m),Re=l.memoizedState),(oe=qa||pw(l,d,oe,m,he,Re,q)||!1)?(pe||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(m,Re,q),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(m,Re,q)),typeof P.componentDidUpdate=="function"&&(l.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof P.componentDidUpdate!="function"||$===a.memoizedProps&&he===a.memoizedState||(l.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||$===a.memoizedProps&&he===a.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=Re),P.props=m,P.state=Re,P.context=q,m=oe):(typeof P.componentDidUpdate!="function"||$===a.memoizedProps&&he===a.memoizedState||(l.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||$===a.memoizedProps&&he===a.memoizedState||(l.flags|=1024),m=!1)}return jp(a,l,d,m,j,x)}function jp(a,l,d,m,x,j){kw(a,l);var P=(l.flags&128)!==0;if(!m&&!P)return x&&D0(l,d,!1),ia(a,l,j);m=l.stateNode,fA.current=l;var $=P&&typeof d.getDerivedStateFromError!="function"?null:m.render();return l.flags|=1,a!==null&&P?(l.child=Zi(l,a.child,null,j),l.child=Zi(l,null,$,j)):Ur(a,l,$,j),l.memoizedState=m.state,x&&D0(l,d,!0),l.child}function Pw(a){var l=a.stateNode;l.pendingContext?T0(a,l.pendingContext,l.pendingContext!==l.context):l.context&&T0(a,l.context,!1),op(a,l.containerInfo)}function Aw(a,l,d,m,x){return Qi(),Xm(x),l.flags|=256,Ur(a,l,d,m),l.child}var Sp={dehydrated:null,treeContext:null,retryLane:0};function Np(a){return{baseLanes:a,cachePool:null,transitions:null}}function Tw(a,l,d){var m=l.pendingProps,x=Gt.current,j=!1,P=(l.flags&128)!==0,$;if(($=P)||($=a!==null&&a.memoizedState===null?!1:(x&2)!==0),$?(j=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(x|=1),Lt(Gt,x&1),a===null)return Zm(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(P=m.children,a=m.fallback,j?(m=l.mode,j=l.child,P={mode:"hidden",children:P},(m&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=P):j=vf(P,m,0,null),a=ti(a,m,d,null),j.return=l,a.return=l,j.sibling=a,l.child=j,l.child.memoizedState=Np(d),l.memoizedState=Sp,a):Cp(l,P));if(x=a.memoizedState,x!==null&&($=x.dehydrated,$!==null))return hA(a,l,P,m,$,x,d);if(j){j=m.fallback,P=l.mode,x=a.child,$=x.sibling;var q={mode:"hidden",children:m.children};return(P&1)===0&&l.child!==x?(m=l.child,m.childLanes=0,m.pendingProps=q,l.deletions=null):(m=Xa(x,q),m.subtreeFlags=x.subtreeFlags&14680064),$!==null?j=Xa($,j):(j=ti(j,P,d,null),j.flags|=2),j.return=l,m.return=l,m.sibling=j,l.child=m,m=j,j=l.child,P=a.child.memoizedState,P=P===null?Np(d):{baseLanes:P.baseLanes|d,cachePool:null,transitions:P.transitions},j.memoizedState=P,j.childLanes=a.childLanes&~d,l.memoizedState=Sp,m}return j=a.child,a=j.sibling,m=Xa(j,{mode:"visible",children:m.children}),(l.mode&1)===0&&(m.lanes=d),m.return=l,m.sibling=null,a!==null&&(d=l.deletions,d===null?(l.deletions=[a],l.flags|=16):d.push(a)),l.child=m,l.memoizedState=null,m}function Cp(a,l){return l=vf({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function nf(a,l,d,m){return m!==null&&Xm(m),Zi(l,a.child,null,d),a=Cp(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function hA(a,l,d,m,x,j,P){if(d)return l.flags&256?(l.flags&=-257,m=wp(Error(r(422))),nf(a,l,P,m)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(j=m.fallback,x=l.mode,m=vf({mode:"visible",children:m.children},x,0,null),j=ti(j,x,P,null),j.flags|=2,m.return=l,j.return=l,m.sibling=j,l.child=m,(l.mode&1)!==0&&Zi(l,a.child,null,P),l.child.memoizedState=Np(P),l.memoizedState=Sp,j);if((l.mode&1)===0)return nf(a,l,P,null);if(x.data==="$!"){if(m=x.nextSibling&&x.nextSibling.dataset,m)var $=m.dgst;return m=$,j=Error(r(419)),m=wp(j,m,void 0),nf(a,l,P,m)}if($=(P&a.childLanes)!==0,en||$){if(m=vr,m!==null){switch(P&-P){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(m.suspendedLanes|P))!==0?0:x,x!==0&&x!==j.retryLane&&(j.retryLane=x,aa(a,x),Xn(m,a,x,-1))}return Vp(),m=wp(Error(r(421))),nf(a,l,P,m)}return x.data==="$?"?(l.flags|=128,l.child=a.child,l=CA.bind(null,a),x._reactRetry=l,null):(a=j.treeContext,vn=Va(x.nextSibling),gn=l,Yt=!0,Gn=null,a!==null&&(kn[En++]=na,kn[En++]=sa,kn[En++]=qo,na=a.id,sa=a.overflow,qo=l),l=Cp(l,m.children),l.flags|=4096,l)}function Rw(a,l,d){a.lanes|=l;var m=a.alternate;m!==null&&(m.lanes|=l),np(a.return,l,d)}function kp(a,l,d,m,x){var j=a.memoizedState;j===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:x}:(j.isBackwards=l,j.rendering=null,j.renderingStartTime=0,j.last=m,j.tail=d,j.tailMode=x)}function Dw(a,l,d){var m=l.pendingProps,x=m.revealOrder,j=m.tail;if(Ur(a,l,m.children,d),m=Gt.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Rw(a,d,l);else if(a.tag===19)Rw(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}if(Lt(Gt,m),(l.mode&1)===0)l.memoizedState=null;else switch(x){case"forwards":for(d=l.child,x=null;d!==null;)a=d.alternate,a!==null&&Jd(a)===null&&(x=d),d=d.sibling;d=x,d===null?(x=l.child,l.child=null):(x=d.sibling,d.sibling=null),kp(l,!1,x,d,j);break;case"backwards":for(d=null,x=l.child,l.child=null;x!==null;){if(a=x.alternate,a!==null&&Jd(a)===null){l.child=x;break}a=x.sibling,x.sibling=d,d=x,x=a}kp(l,!0,d,null,j);break;case"together":kp(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function sf(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function ia(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),Qo|=l.lanes,(d&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,d=Xa(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=Xa(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function mA(a,l,d){switch(l.tag){case 3:Pw(l),Qi();break;case 5:Y0(l);break;case 1:Xr(l.type)&&Ud(l);break;case 4:op(l,l.stateNode.containerInfo);break;case 10:var m=l.type._context,x=l.memoizedProps.value;Lt(qd,m._currentValue),m._currentValue=x;break;case 13:if(m=l.memoizedState,m!==null)return m.dehydrated!==null?(Lt(Gt,Gt.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?Tw(a,l,d):(Lt(Gt,Gt.current&1),a=ia(a,l,d),a!==null?a.sibling:null);Lt(Gt,Gt.current&1);break;case 19:if(m=(d&l.childLanes)!==0,(a.flags&128)!==0){if(m)return Dw(a,l,d);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Lt(Gt,Gt.current),m)break;return null;case 22:case 23:return l.lanes=0,Cw(a,l,d)}return ia(a,l,d)}var Ow,Ep,Iw,Mw;Ow=function(a,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)a.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Ep=function(){},Iw=function(a,l,d,m){var x=a.memoizedProps;if(x!==m){a=l.stateNode,Go(Rs.current);var j=null;switch(d){case"input":x=Oe(a,x),m=Oe(a,m),j=[];break;case"select":x=F({},x,{value:void 0}),m=F({},m,{value:void 0}),j=[];break;case"textarea":x=ce(a,x),m=ce(a,m),j=[];break;default:typeof x.onClick!="function"&&typeof m.onClick=="function"&&(a.onclick=Ld)}mn(d,m);var P;d=null;for(oe in x)if(!m.hasOwnProperty(oe)&&x.hasOwnProperty(oe)&&x[oe]!=null)if(oe==="style"){var $=x[oe];for(P in $)$.hasOwnProperty(P)&&(d||(d={}),d[P]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(s.hasOwnProperty(oe)?j||(j=[]):(j=j||[]).push(oe,null));for(oe in m){var q=m[oe];if($=x!=null?x[oe]:void 0,m.hasOwnProperty(oe)&&q!==$&&(q!=null||$!=null))if(oe==="style")if($){for(P in $)!$.hasOwnProperty(P)||q&&q.hasOwnProperty(P)||(d||(d={}),d[P]="");for(P in q)q.hasOwnProperty(P)&&$[P]!==q[P]&&(d||(d={}),d[P]=q[P])}else d||(j||(j=[]),j.push(oe,d)),d=q;else oe==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,$=$?$.__html:void 0,q!=null&&$!==q&&(j=j||[]).push(oe,q)):oe==="children"?typeof q!="string"&&typeof q!="number"||(j=j||[]).push(oe,""+q):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(s.hasOwnProperty(oe)?(q!=null&&oe==="onScroll"&&Bt("scroll",a),j||$===q||(j=[])):(j=j||[]).push(oe,q))}d&&(j=j||[]).push("style",d);var oe=j;(l.updateQueue=oe)&&(l.flags|=4)}},Mw=function(a,l,d,m){d!==m&&(l.flags|=4)};function zc(a,l){if(!Yt)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Or(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,m=0;if(l)for(var x=a.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags&14680064,m|=x.flags&14680064,x.return=a,x=x.sibling;else for(x=a.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=a,x=x.sibling;return a.subtreeFlags|=m,a.childLanes=d,l}function pA(a,l,d){var m=l.pendingProps;switch(Jm(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Or(l),null;case 1:return Xr(l.type)&&Fd(),Or(l),null;case 3:return m=l.stateNode,tl(),Vt(Zr),Vt(Rr),cp(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(a===null||a.child===null)&&(Wd(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Gn!==null&&(Fp(Gn),Gn=null))),Ep(a,l),Or(l),null;case 5:ip(l);var x=Go($c.current);if(d=l.type,a!==null&&l.stateNode!=null)Iw(a,l,d,m,x),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Or(l),null}if(a=Go(Rs.current),Wd(l)){m=l.stateNode,d=l.type;var j=l.memoizedProps;switch(m[Ts]=l,m[Dc]=j,a=(l.mode&1)!==0,d){case"dialog":Bt("cancel",m),Bt("close",m);break;case"iframe":case"object":case"embed":Bt("load",m);break;case"video":case"audio":for(x=0;x<Ac.length;x++)Bt(Ac[x],m);break;case"source":Bt("error",m);break;case"img":case"image":case"link":Bt("error",m),Bt("load",m);break;case"details":Bt("toggle",m);break;case"input":lt(m,j),Bt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!j.multiple},Bt("invalid",m);break;case"textarea":Se(m,j),Bt("invalid",m)}mn(d,j),x=null;for(var P in j)if(j.hasOwnProperty(P)){var $=j[P];P==="children"?typeof $=="string"?m.textContent!==$&&(j.suppressHydrationWarning!==!0&&Md(m.textContent,$,a),x=["children",$]):typeof $=="number"&&m.textContent!==""+$&&(j.suppressHydrationWarning!==!0&&Md(m.textContent,$,a),x=["children",""+$]):s.hasOwnProperty(P)&&$!=null&&P==="onScroll"&&Bt("scroll",m)}switch(d){case"input":Ce(m),Gr(m,j,!0);break;case"textarea":Ce(m),xe(m);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(m.onclick=Ld)}m=x,l.updateQueue=m,m!==null&&(l.flags|=4)}else{P=x.nodeType===9?x:x.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=ke(d)),a==="http://www.w3.org/1999/xhtml"?d==="script"?(a=P.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof m.is=="string"?a=P.createElement(d,{is:m.is}):(a=P.createElement(d),d==="select"&&(P=a,m.multiple?P.multiple=!0:m.size&&(P.size=m.size))):a=P.createElementNS(a,d),a[Ts]=l,a[Dc]=m,Ow(a,l,!1,!1),l.stateNode=a;e:{switch(P=Vo(d,m),d){case"dialog":Bt("cancel",a),Bt("close",a),x=m;break;case"iframe":case"object":case"embed":Bt("load",a),x=m;break;case"video":case"audio":for(x=0;x<Ac.length;x++)Bt(Ac[x],a);x=m;break;case"source":Bt("error",a),x=m;break;case"img":case"image":case"link":Bt("error",a),Bt("load",a),x=m;break;case"details":Bt("toggle",a),x=m;break;case"input":lt(a,m),x=Oe(a,m),Bt("invalid",a);break;case"option":x=m;break;case"select":a._wrapperState={wasMultiple:!!m.multiple},x=F({},m,{value:void 0}),Bt("invalid",a);break;case"textarea":Se(a,m),x=ce(a,m),Bt("invalid",a);break;default:x=m}mn(d,x),$=x;for(j in $)if($.hasOwnProperty(j)){var q=$[j];j==="style"?hn(a,q):j==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&jr(a,q)):j==="children"?typeof q=="string"?(d!=="textarea"||q!=="")&&$r(a,q):typeof q=="number"&&$r(a,""+q):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(s.hasOwnProperty(j)?q!=null&&j==="onScroll"&&Bt("scroll",a):q!=null&&E(a,j,q,P))}switch(d){case"input":Ce(a),Gr(a,m,!1);break;case"textarea":Ce(a),xe(a);break;case"option":m.value!=null&&a.setAttribute("value",""+me(m.value));break;case"select":a.multiple=!!m.multiple,j=m.value,j!=null?te(a,!!m.multiple,j,!1):m.defaultValue!=null&&te(a,!!m.multiple,m.defaultValue,!0);break;default:typeof x.onClick=="function"&&(a.onclick=Ld)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Or(l),null;case 6:if(a&&l.stateNode!=null)Mw(a,l,a.memoizedProps,m);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(d=Go($c.current),Go(Rs.current),Wd(l)){if(m=l.stateNode,d=l.memoizedProps,m[Ts]=l,(j=m.nodeValue!==d)&&(a=gn,a!==null))switch(a.tag){case 3:Md(m.nodeValue,d,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Md(m.nodeValue,d,(a.mode&1)!==0)}j&&(l.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[Ts]=l,l.stateNode=m}return Or(l),null;case 13:if(Vt(Gt),m=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Yt&&vn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)F0(),Qi(),l.flags|=98560,j=!1;else if(j=Wd(l),m!==null&&m.dehydrated!==null){if(a===null){if(!j)throw Error(r(318));if(j=l.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(r(317));j[Ts]=l}else Qi(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Or(l),j=!1}else Gn!==null&&(Fp(Gn),Gn=null),j=!0;if(!j)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(m=m!==null,m!==(a!==null&&a.memoizedState!==null)&&m&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(Gt.current&1)!==0?hr===0&&(hr=3):Vp())),l.updateQueue!==null&&(l.flags|=4),Or(l),null);case 4:return tl(),Ep(a,l),a===null&&Tc(l.stateNode.containerInfo),Or(l),null;case 10:return rp(l.type._context),Or(l),null;case 17:return Xr(l.type)&&Fd(),Or(l),null;case 19:if(Vt(Gt),j=l.memoizedState,j===null)return Or(l),null;if(m=(l.flags&128)!==0,P=j.rendering,P===null)if(m)zc(j,!1);else{if(hr!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(P=Jd(a),P!==null){for(l.flags|=128,zc(j,!1),m=P.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),l.subtreeFlags=0,m=d,d=l.child;d!==null;)j=d,a=m,j.flags&=14680066,P=j.alternate,P===null?(j.childLanes=0,j.lanes=a,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=P.childLanes,j.lanes=P.lanes,j.child=P.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=P.memoizedProps,j.memoizedState=P.memoizedState,j.updateQueue=P.updateQueue,j.type=P.type,a=P.dependencies,j.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),d=d.sibling;return Lt(Gt,Gt.current&1|2),l.child}a=a.sibling}j.tail!==null&&rr()>al&&(l.flags|=128,m=!0,zc(j,!1),l.lanes=4194304)}else{if(!m)if(a=Jd(P),a!==null){if(l.flags|=128,m=!0,d=a.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),zc(j,!0),j.tail===null&&j.tailMode==="hidden"&&!P.alternate&&!Yt)return Or(l),null}else 2*rr()-j.renderingStartTime>al&&d!==1073741824&&(l.flags|=128,m=!0,zc(j,!1),l.lanes=4194304);j.isBackwards?(P.sibling=l.child,l.child=P):(d=j.last,d!==null?d.sibling=P:l.child=P,j.last=P)}return j.tail!==null?(l=j.tail,j.rendering=l,j.tail=l.sibling,j.renderingStartTime=rr(),l.sibling=null,d=Gt.current,Lt(Gt,m?d&1|2:d&1),l):(Or(l),null);case 22:case 23:return Bp(),m=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==m&&(l.flags|=8192),m&&(l.mode&1)!==0?(yn&1073741824)!==0&&(Or(l),l.subtreeFlags&6&&(l.flags|=8192)):Or(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function gA(a,l){switch(Jm(l),l.tag){case 1:return Xr(l.type)&&Fd(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return tl(),Vt(Zr),Vt(Rr),cp(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return ip(l),null;case 13:if(Vt(Gt),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Qi()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return Vt(Gt),null;case 4:return tl(),null;case 10:return rp(l.type._context),null;case 22:case 23:return Bp(),null;case 24:return null;default:return null}}var af=!1,Ir=!1,vA=typeof WeakSet=="function"?WeakSet:Set,Te=null;function nl(a,l){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){Qt(a,l,m)}else d.current=null}function Pp(a,l,d){try{d()}catch(m){Qt(a,l,m)}}var Lw=!1;function yA(a,l){if(Bm=Nd,a=p0(),Dm(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var x=m.anchorOffset,j=m.focusNode;m=m.focusOffset;try{d.nodeType,j.nodeType}catch{d=null;break e}var P=0,$=-1,q=-1,oe=0,pe=0,ge=a,he=null;t:for(;;){for(var Ee;ge!==d||x!==0&&ge.nodeType!==3||($=P+x),ge!==j||m!==0&&ge.nodeType!==3||(q=P+m),ge.nodeType===3&&(P+=ge.nodeValue.length),(Ee=ge.firstChild)!==null;)he=ge,ge=Ee;for(;;){if(ge===a)break t;if(he===d&&++oe===x&&($=P),he===j&&++pe===m&&(q=P),(Ee=ge.nextSibling)!==null)break;ge=he,he=ge.parentNode}ge=Ee}d=$===-1||q===-1?null:{start:$,end:q}}else d=null}d=d||{start:0,end:0}}else d=null;for(Vm={focusedElem:a,selectionRange:d},Nd=!1,Te=l;Te!==null;)if(l=Te,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,Te=a;else for(;Te!==null;){l=Te;try{var Re=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var Ie=Re.memoizedProps,nr=Re.memoizedState,re=l.stateNode,G=re.getSnapshotBeforeUpdate(l.elementType===l.type?Ie:Jn(l.type,Ie),nr);re.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var se=l.stateNode.containerInfo;se.nodeType===1?se.textContent="":se.nodeType===9&&se.documentElement&&se.removeChild(se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ye){Qt(l,l.return,ye)}if(a=l.sibling,a!==null){a.return=l.return,Te=a;break}Te=l.return}return Re=Lw,Lw=!1,Re}function Wc(a,l,d){var m=l.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&a)===a){var j=x.destroy;x.destroy=void 0,j!==void 0&&Pp(l,d,j)}x=x.next}while(x!==m)}}function of(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&a)===a){var m=d.create;d.destroy=m()}d=d.next}while(d!==l)}}function Ap(a){var l=a.ref;if(l!==null){var d=a.stateNode;switch(a.tag){case 5:a=d;break;default:a=d}typeof l=="function"?l(a):l.current=a}}function $w(a){var l=a.alternate;l!==null&&(a.alternate=null,$w(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[Ts],delete l[Dc],delete l[qm],delete l[eA],delete l[tA])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Fw(a){return a.tag===5||a.tag===3||a.tag===4}function Uw(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Fw(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Tp(a,l,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(a,l):d.insertBefore(a,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(a,d)):(l=d,l.appendChild(a)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Ld));else if(m!==4&&(a=a.child,a!==null))for(Tp(a,l,d),a=a.sibling;a!==null;)Tp(a,l,d),a=a.sibling}function Rp(a,l,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(m!==4&&(a=a.child,a!==null))for(Rp(a,l,d),a=a.sibling;a!==null;)Rp(a,l,d),a=a.sibling}var Nr=null,Qn=!1;function Ka(a,l,d){for(d=d.child;d!==null;)Bw(a,l,d),d=d.sibling}function Bw(a,l,d){if(As&&typeof As.onCommitFiberUnmount=="function")try{As.onCommitFiberUnmount(xd,d)}catch{}switch(d.tag){case 5:Ir||nl(d,l);case 6:var m=Nr,x=Qn;Nr=null,Ka(a,l,d),Nr=m,Qn=x,Nr!==null&&(Qn?(a=Nr,d=d.stateNode,a.nodeType===8?a.parentNode.removeChild(d):a.removeChild(d)):Nr.removeChild(d.stateNode));break;case 18:Nr!==null&&(Qn?(a=Nr,d=d.stateNode,a.nodeType===8?Hm(a.parentNode,d):a.nodeType===1&&Hm(a,d),_c(a)):Hm(Nr,d.stateNode));break;case 4:m=Nr,x=Qn,Nr=d.stateNode.containerInfo,Qn=!0,Ka(a,l,d),Nr=m,Qn=x;break;case 0:case 11:case 14:case 15:if(!Ir&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){x=m=m.next;do{var j=x,P=j.destroy;j=j.tag,P!==void 0&&((j&2)!==0||(j&4)!==0)&&Pp(d,l,P),x=x.next}while(x!==m)}Ka(a,l,d);break;case 1:if(!Ir&&(nl(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch($){Qt(d,l,$)}Ka(a,l,d);break;case 21:Ka(a,l,d);break;case 22:d.mode&1?(Ir=(m=Ir)||d.memoizedState!==null,Ka(a,l,d),Ir=m):Ka(a,l,d);break;default:Ka(a,l,d)}}function Vw(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new vA),l.forEach(function(m){var x=kA.bind(null,a,m);d.has(m)||(d.add(m),m.then(x,x))})}}function Zn(a,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var x=d[m];try{var j=a,P=l,$=P;e:for(;$!==null;){switch($.tag){case 5:Nr=$.stateNode,Qn=!1;break e;case 3:Nr=$.stateNode.containerInfo,Qn=!0;break e;case 4:Nr=$.stateNode.containerInfo,Qn=!0;break e}$=$.return}if(Nr===null)throw Error(r(160));Bw(j,P,x),Nr=null,Qn=!1;var q=x.alternate;q!==null&&(q.return=null),x.return=null}catch(oe){Qt(x,l,oe)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)zw(l,a),l=l.sibling}function zw(a,l){var d=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Zn(l,a),Os(a),m&4){try{Wc(3,a,a.return),of(3,a)}catch(Ie){Qt(a,a.return,Ie)}try{Wc(5,a,a.return)}catch(Ie){Qt(a,a.return,Ie)}}break;case 1:Zn(l,a),Os(a),m&512&&d!==null&&nl(d,d.return);break;case 5:if(Zn(l,a),Os(a),m&512&&d!==null&&nl(d,d.return),a.flags&32){var x=a.stateNode;try{$r(x,"")}catch(Ie){Qt(a,a.return,Ie)}}if(m&4&&(x=a.stateNode,x!=null)){var j=a.memoizedProps,P=d!==null?d.memoizedProps:j,$=a.type,q=a.updateQueue;if(a.updateQueue=null,q!==null)try{$==="input"&&j.type==="radio"&&j.name!=null&&bt(x,j),Vo($,P);var oe=Vo($,j);for(P=0;P<q.length;P+=2){var pe=q[P],ge=q[P+1];pe==="style"?hn(x,ge):pe==="dangerouslySetInnerHTML"?jr(x,ge):pe==="children"?$r(x,ge):E(x,pe,ge,oe)}switch($){case"input":Kt(x,j);break;case"textarea":_e(x,j);break;case"select":var he=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!j.multiple;var Ee=j.value;Ee!=null?te(x,!!j.multiple,Ee,!1):he!==!!j.multiple&&(j.defaultValue!=null?te(x,!!j.multiple,j.defaultValue,!0):te(x,!!j.multiple,j.multiple?[]:"",!1))}x[Dc]=j}catch(Ie){Qt(a,a.return,Ie)}}break;case 6:if(Zn(l,a),Os(a),m&4){if(a.stateNode===null)throw Error(r(162));x=a.stateNode,j=a.memoizedProps;try{x.nodeValue=j}catch(Ie){Qt(a,a.return,Ie)}}break;case 3:if(Zn(l,a),Os(a),m&4&&d!==null&&d.memoizedState.isDehydrated)try{_c(l.containerInfo)}catch(Ie){Qt(a,a.return,Ie)}break;case 4:Zn(l,a),Os(a);break;case 13:Zn(l,a),Os(a),x=a.child,x.flags&8192&&(j=x.memoizedState!==null,x.stateNode.isHidden=j,!j||x.alternate!==null&&x.alternate.memoizedState!==null||(Ip=rr())),m&4&&Vw(a);break;case 22:if(pe=d!==null&&d.memoizedState!==null,a.mode&1?(Ir=(oe=Ir)||pe,Zn(l,a),Ir=oe):Zn(l,a),Os(a),m&8192){if(oe=a.memoizedState!==null,(a.stateNode.isHidden=oe)&&!pe&&(a.mode&1)!==0)for(Te=a,pe=a.child;pe!==null;){for(ge=Te=pe;Te!==null;){switch(he=Te,Ee=he.child,he.tag){case 0:case 11:case 14:case 15:Wc(4,he,he.return);break;case 1:nl(he,he.return);var Re=he.stateNode;if(typeof Re.componentWillUnmount=="function"){m=he,d=he.return;try{l=m,Re.props=l.memoizedProps,Re.state=l.memoizedState,Re.componentWillUnmount()}catch(Ie){Qt(m,d,Ie)}}break;case 5:nl(he,he.return);break;case 22:if(he.memoizedState!==null){qw(ge);continue}}Ee!==null?(Ee.return=he,Te=Ee):qw(ge)}pe=pe.sibling}e:for(pe=null,ge=a;;){if(ge.tag===5){if(pe===null){pe=ge;try{x=ge.stateNode,oe?(j=x.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):($=ge.stateNode,q=ge.memoizedProps.style,P=q!=null&&q.hasOwnProperty("display")?q.display:null,$.style.display=ks("display",P))}catch(Ie){Qt(a,a.return,Ie)}}}else if(ge.tag===6){if(pe===null)try{ge.stateNode.nodeValue=oe?"":ge.memoizedProps}catch(Ie){Qt(a,a.return,Ie)}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===a)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===a)break e;for(;ge.sibling===null;){if(ge.return===null||ge.return===a)break e;pe===ge&&(pe=null),ge=ge.return}pe===ge&&(pe=null),ge.sibling.return=ge.return,ge=ge.sibling}}break;case 19:Zn(l,a),Os(a),m&4&&Vw(a);break;case 21:break;default:Zn(l,a),Os(a)}}function Os(a){var l=a.flags;if(l&2){try{e:{for(var d=a.return;d!==null;){if(Fw(d)){var m=d;break e}d=d.return}throw Error(r(160))}switch(m.tag){case 5:var x=m.stateNode;m.flags&32&&($r(x,""),m.flags&=-33);var j=Uw(a);Rp(a,j,x);break;case 3:case 4:var P=m.stateNode.containerInfo,$=Uw(a);Tp(a,$,P);break;default:throw Error(r(161))}}catch(q){Qt(a,a.return,q)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function xA(a,l,d){Te=a,Ww(a)}function Ww(a,l,d){for(var m=(a.mode&1)!==0;Te!==null;){var x=Te,j=x.child;if(x.tag===22&&m){var P=x.memoizedState!==null||af;if(!P){var $=x.alternate,q=$!==null&&$.memoizedState!==null||Ir;$=af;var oe=Ir;if(af=P,(Ir=q)&&!oe)for(Te=x;Te!==null;)P=Te,q=P.child,P.tag===22&&P.memoizedState!==null?Yw(x):q!==null?(q.return=P,Te=q):Yw(x);for(;j!==null;)Te=j,Ww(j),j=j.sibling;Te=x,af=$,Ir=oe}Hw(a)}else(x.subtreeFlags&8772)!==0&&j!==null?(j.return=x,Te=j):Hw(a)}}function Hw(a){for(;Te!==null;){var l=Te;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Ir||of(5,l);break;case 1:var m=l.stateNode;if(l.flags&4&&!Ir)if(d===null)m.componentDidMount();else{var x=l.elementType===l.type?d.memoizedProps:Jn(l.type,d.memoizedProps);m.componentDidUpdate(x,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var j=l.updateQueue;j!==null&&q0(l,j,m);break;case 3:var P=l.updateQueue;if(P!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}q0(l,P,d)}break;case 5:var $=l.stateNode;if(d===null&&l.flags&4){d=$;var q=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&d.focus();break;case"img":q.src&&(d.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var oe=l.alternate;if(oe!==null){var pe=oe.memoizedState;if(pe!==null){var ge=pe.dehydrated;ge!==null&&_c(ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ir||l.flags&512&&Ap(l)}catch(he){Qt(l,l.return,he)}}if(l===a){Te=null;break}if(d=l.sibling,d!==null){d.return=l.return,Te=d;break}Te=l.return}}function qw(a){for(;Te!==null;){var l=Te;if(l===a){Te=null;break}var d=l.sibling;if(d!==null){d.return=l.return,Te=d;break}Te=l.return}}function Yw(a){for(;Te!==null;){var l=Te;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{of(4,l)}catch(q){Qt(l,d,q)}break;case 1:var m=l.stateNode;if(typeof m.componentDidMount=="function"){var x=l.return;try{m.componentDidMount()}catch(q){Qt(l,x,q)}}var j=l.return;try{Ap(l)}catch(q){Qt(l,j,q)}break;case 5:var P=l.return;try{Ap(l)}catch(q){Qt(l,P,q)}}}catch(q){Qt(l,l.return,q)}if(l===a){Te=null;break}var $=l.sibling;if($!==null){$.return=l.return,Te=$;break}Te=l.return}}var wA=Math.ceil,lf=k.ReactCurrentDispatcher,Dp=k.ReactCurrentOwner,Tn=k.ReactCurrentBatchConfig,jt=0,vr=null,or=null,Cr=0,yn=0,sl=za(0),hr=0,Hc=null,Qo=0,cf=0,Op=0,qc=null,tn=null,Ip=0,al=1/0,la=null,uf=!1,Mp=null,Ga=null,df=!1,Ja=null,ff=0,Yc=0,Lp=null,hf=-1,mf=0;function Br(){return(jt&6)!==0?rr():hf!==-1?hf:hf=rr()}function Qa(a){return(a.mode&1)===0?1:(jt&2)!==0&&Cr!==0?Cr&-Cr:nA.transition!==null?(mf===0&&(mf=Ux()),mf):(a=Ot,a!==0||(a=window.event,a=a===void 0?16:Gx(a.type)),a)}function Xn(a,l,d,m){if(50<Yc)throw Yc=0,Lp=null,Error(r(185));vc(a,d,m),((jt&2)===0||a!==vr)&&(a===vr&&((jt&2)===0&&(cf|=d),hr===4&&Za(a,Cr)),rn(a,m),d===1&&jt===0&&(l.mode&1)===0&&(al=rr()+500,Bd&&Ha()))}function rn(a,l){var d=a.callbackNode;n2(a,l);var m=_d(a,a===vr?Cr:0);if(m===0)d!==null&&Lx(d),a.callbackNode=null,a.callbackPriority=0;else if(l=m&-m,a.callbackPriority!==l){if(d!=null&&Lx(d),l===1)a.tag===0?rA(Gw.bind(null,a)):O0(Gw.bind(null,a)),Z2(function(){(jt&6)===0&&Ha()}),d=null;else{switch(Bx(m)){case 1:d=gm;break;case 4:d=$x;break;case 16:d=yd;break;case 536870912:d=Fx;break;default:d=yd}d=nb(d,Kw.bind(null,a))}a.callbackPriority=l,a.callbackNode=d}}function Kw(a,l){if(hf=-1,mf=0,(jt&6)!==0)throw Error(r(327));var d=a.callbackNode;if(ol()&&a.callbackNode!==d)return null;var m=_d(a,a===vr?Cr:0);if(m===0)return null;if((m&30)!==0||(m&a.expiredLanes)!==0||l)l=pf(a,m);else{l=m;var x=jt;jt|=2;var j=Qw();(vr!==a||Cr!==l)&&(la=null,al=rr()+500,Xo(a,l));do try{jA();break}catch($){Jw(a,$)}while(!0);tp(),lf.current=j,jt=x,or!==null?l=0:(vr=null,Cr=0,l=hr)}if(l!==0){if(l===2&&(x=vm(a),x!==0&&(m=x,l=$p(a,x))),l===1)throw d=Hc,Xo(a,0),Za(a,m),rn(a,rr()),d;if(l===6)Za(a,m);else{if(x=a.current.alternate,(m&30)===0&&!bA(x)&&(l=pf(a,m),l===2&&(j=vm(a),j!==0&&(m=j,l=$p(a,j))),l===1))throw d=Hc,Xo(a,0),Za(a,m),rn(a,rr()),d;switch(a.finishedWork=x,a.finishedLanes=m,l){case 0:case 1:throw Error(r(345));case 2:ei(a,tn,la);break;case 3:if(Za(a,m),(m&130023424)===m&&(l=Ip+500-rr(),10<l)){if(_d(a,0)!==0)break;if(x=a.suspendedLanes,(x&m)!==m){Br(),a.pingedLanes|=a.suspendedLanes&x;break}a.timeoutHandle=Wm(ei.bind(null,a,tn,la),l);break}ei(a,tn,la);break;case 4:if(Za(a,m),(m&4194240)===m)break;for(l=a.eventTimes,x=-1;0<m;){var P=31-Yn(m);j=1<<P,P=l[P],P>x&&(x=P),m&=~j}if(m=x,m=rr()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*wA(m/1960))-m,10<m){a.timeoutHandle=Wm(ei.bind(null,a,tn,la),m);break}ei(a,tn,la);break;case 5:ei(a,tn,la);break;default:throw Error(r(329))}}}return rn(a,rr()),a.callbackNode===d?Kw.bind(null,a):null}function $p(a,l){var d=qc;return a.current.memoizedState.isDehydrated&&(Xo(a,l).flags|=256),a=pf(a,l),a!==2&&(l=tn,tn=d,l!==null&&Fp(l)),a}function Fp(a){tn===null?tn=a:tn.push.apply(tn,a)}function bA(a){for(var l=a;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var x=d[m],j=x.getSnapshot;x=x.value;try{if(!Kn(j(),x))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Za(a,l){for(l&=~Op,l&=~cf,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var d=31-Yn(l),m=1<<d;a[d]=-1,l&=~m}}function Gw(a){if((jt&6)!==0)throw Error(r(327));ol();var l=_d(a,0);if((l&1)===0)return rn(a,rr()),null;var d=pf(a,l);if(a.tag!==0&&d===2){var m=vm(a);m!==0&&(l=m,d=$p(a,m))}if(d===1)throw d=Hc,Xo(a,0),Za(a,l),rn(a,rr()),d;if(d===6)throw Error(r(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,ei(a,tn,la),rn(a,rr()),null}function Up(a,l){var d=jt;jt|=1;try{return a(l)}finally{jt=d,jt===0&&(al=rr()+500,Bd&&Ha())}}function Zo(a){Ja!==null&&Ja.tag===0&&(jt&6)===0&&ol();var l=jt;jt|=1;var d=Tn.transition,m=Ot;try{if(Tn.transition=null,Ot=1,a)return a()}finally{Ot=m,Tn.transition=d,jt=l,(jt&6)===0&&Ha()}}function Bp(){yn=sl.current,Vt(sl)}function Xo(a,l){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==-1&&(a.timeoutHandle=-1,Q2(d)),or!==null)for(d=or.return;d!==null;){var m=d;switch(Jm(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Fd();break;case 3:tl(),Vt(Zr),Vt(Rr),cp();break;case 5:ip(m);break;case 4:tl();break;case 13:Vt(Gt);break;case 19:Vt(Gt);break;case 10:rp(m.type._context);break;case 22:case 23:Bp()}d=d.return}if(vr=a,or=a=Xa(a.current,null),Cr=yn=l,hr=0,Hc=null,Op=cf=Qo=0,tn=qc=null,Ko!==null){for(l=0;l<Ko.length;l++)if(d=Ko[l],m=d.interleaved,m!==null){d.interleaved=null;var x=m.next,j=d.pending;if(j!==null){var P=j.next;j.next=x,m.next=P}d.pending=m}Ko=null}return a}function Jw(a,l){do{var d=or;try{if(tp(),Qd.current=tf,Zd){for(var m=Jt.memoizedState;m!==null;){var x=m.queue;x!==null&&(x.pending=null),m=m.next}Zd=!1}if(Jo=0,gr=fr=Jt=null,Fc=!1,Uc=0,Dp.current=null,d===null||d.return===null){hr=1,Hc=l,or=null;break}e:{var j=a,P=d.return,$=d,q=l;if(l=Cr,$.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var oe=q,pe=$,ge=pe.tag;if((pe.mode&1)===0&&(ge===0||ge===11||ge===15)){var he=pe.alternate;he?(pe.updateQueue=he.updateQueue,pe.memoizedState=he.memoizedState,pe.lanes=he.lanes):(pe.updateQueue=null,pe.memoizedState=null)}var Ee=bw(P);if(Ee!==null){Ee.flags&=-257,_w(Ee,P,$,j,l),Ee.mode&1&&ww(j,oe,l),l=Ee,q=oe;var Re=l.updateQueue;if(Re===null){var Ie=new Set;Ie.add(q),l.updateQueue=Ie}else Re.add(q);break e}else{if((l&1)===0){ww(j,oe,l),Vp();break e}q=Error(r(426))}}else if(Yt&&$.mode&1){var nr=bw(P);if(nr!==null){(nr.flags&65536)===0&&(nr.flags|=256),_w(nr,P,$,j,l),Xm(rl(q,$));break e}}j=q=rl(q,$),hr!==4&&(hr=2),qc===null?qc=[j]:qc.push(j),j=P;do{switch(j.tag){case 3:j.flags|=65536,l&=-l,j.lanes|=l;var re=yw(j,q,l);H0(j,re);break e;case 1:$=q;var G=j.type,se=j.stateNode;if((j.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(Ga===null||!Ga.has(se)))){j.flags|=65536,l&=-l,j.lanes|=l;var ye=xw(j,$,l);H0(j,ye);break e}}j=j.return}while(j!==null)}Xw(d)}catch($e){l=$e,or===d&&d!==null&&(or=d=d.return);continue}break}while(!0)}function Qw(){var a=lf.current;return lf.current=tf,a===null?tf:a}function Vp(){(hr===0||hr===3||hr===2)&&(hr=4),vr===null||(Qo&268435455)===0&&(cf&268435455)===0||Za(vr,Cr)}function pf(a,l){var d=jt;jt|=2;var m=Qw();(vr!==a||Cr!==l)&&(la=null,Xo(a,l));do try{_A();break}catch(x){Jw(a,x)}while(!0);if(tp(),jt=d,lf.current=m,or!==null)throw Error(r(261));return vr=null,Cr=0,hr}function _A(){for(;or!==null;)Zw(or)}function jA(){for(;or!==null&&!KP();)Zw(or)}function Zw(a){var l=rb(a.alternate,a,yn);a.memoizedProps=a.pendingProps,l===null?Xw(a):or=l,Dp.current=null}function Xw(a){var l=a;do{var d=l.alternate;if(a=l.return,(l.flags&32768)===0){if(d=pA(d,l,yn),d!==null){or=d;return}}else{if(d=gA(d,l),d!==null){d.flags&=32767,or=d;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{hr=6,or=null;return}}if(l=l.sibling,l!==null){or=l;return}or=l=a}while(l!==null);hr===0&&(hr=5)}function ei(a,l,d){var m=Ot,x=Tn.transition;try{Tn.transition=null,Ot=1,SA(a,l,d,m)}finally{Tn.transition=x,Ot=m}return null}function SA(a,l,d,m){do ol();while(Ja!==null);if((jt&6)!==0)throw Error(r(327));d=a.finishedWork;var x=a.finishedLanes;if(d===null)return null;if(a.finishedWork=null,a.finishedLanes=0,d===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0;var j=d.lanes|d.childLanes;if(s2(a,j),a===vr&&(or=vr=null,Cr=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||df||(df=!0,nb(yd,function(){return ol(),null})),j=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||j){j=Tn.transition,Tn.transition=null;var P=Ot;Ot=1;var $=jt;jt|=4,Dp.current=null,yA(a,d),zw(d,a),W2(Vm),Nd=!!Bm,Vm=Bm=null,a.current=d,xA(d),GP(),jt=$,Ot=P,Tn.transition=j}else a.current=d;if(df&&(df=!1,Ja=a,ff=x),j=a.pendingLanes,j===0&&(Ga=null),ZP(d.stateNode),rn(a,rr()),l!==null)for(m=a.onRecoverableError,d=0;d<l.length;d++)x=l[d],m(x.value,{componentStack:x.stack,digest:x.digest});if(uf)throw uf=!1,a=Mp,Mp=null,a;return(ff&1)!==0&&a.tag!==0&&ol(),j=a.pendingLanes,(j&1)!==0?a===Lp?Yc++:(Yc=0,Lp=a):Yc=0,Ha(),null}function ol(){if(Ja!==null){var a=Bx(ff),l=Tn.transition,d=Ot;try{if(Tn.transition=null,Ot=16>a?16:a,Ja===null)var m=!1;else{if(a=Ja,Ja=null,ff=0,(jt&6)!==0)throw Error(r(331));var x=jt;for(jt|=4,Te=a.current;Te!==null;){var j=Te,P=j.child;if((Te.flags&16)!==0){var $=j.deletions;if($!==null){for(var q=0;q<$.length;q++){var oe=$[q];for(Te=oe;Te!==null;){var pe=Te;switch(pe.tag){case 0:case 11:case 15:Wc(8,pe,j)}var ge=pe.child;if(ge!==null)ge.return=pe,Te=ge;else for(;Te!==null;){pe=Te;var he=pe.sibling,Ee=pe.return;if($w(pe),pe===oe){Te=null;break}if(he!==null){he.return=Ee,Te=he;break}Te=Ee}}}var Re=j.alternate;if(Re!==null){var Ie=Re.child;if(Ie!==null){Re.child=null;do{var nr=Ie.sibling;Ie.sibling=null,Ie=nr}while(Ie!==null)}}Te=j}}if((j.subtreeFlags&2064)!==0&&P!==null)P.return=j,Te=P;else e:for(;Te!==null;){if(j=Te,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Wc(9,j,j.return)}var re=j.sibling;if(re!==null){re.return=j.return,Te=re;break e}Te=j.return}}var G=a.current;for(Te=G;Te!==null;){P=Te;var se=P.child;if((P.subtreeFlags&2064)!==0&&se!==null)se.return=P,Te=se;else e:for(P=G;Te!==null;){if($=Te,($.flags&2048)!==0)try{switch($.tag){case 0:case 11:case 15:of(9,$)}}catch($e){Qt($,$.return,$e)}if($===P){Te=null;break e}var ye=$.sibling;if(ye!==null){ye.return=$.return,Te=ye;break e}Te=$.return}}if(jt=x,Ha(),As&&typeof As.onPostCommitFiberRoot=="function")try{As.onPostCommitFiberRoot(xd,a)}catch{}m=!0}return m}finally{Ot=d,Tn.transition=l}}return!1}function eb(a,l,d){l=rl(d,l),l=yw(a,l,1),a=Ya(a,l,1),l=Br(),a!==null&&(vc(a,1,l),rn(a,l))}function Qt(a,l,d){if(a.tag===3)eb(a,a,d);else for(;l!==null;){if(l.tag===3){eb(l,a,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ga===null||!Ga.has(m))){a=rl(d,a),a=xw(l,a,1),l=Ya(l,a,1),a=Br(),l!==null&&(vc(l,1,a),rn(l,a));break}}l=l.return}}function NA(a,l,d){var m=a.pingCache;m!==null&&m.delete(l),l=Br(),a.pingedLanes|=a.suspendedLanes&d,vr===a&&(Cr&d)===d&&(hr===4||hr===3&&(Cr&130023424)===Cr&&500>rr()-Ip?Xo(a,0):Op|=d),rn(a,l)}function tb(a,l){l===0&&((a.mode&1)===0?l=1:(l=bd,bd<<=1,(bd&130023424)===0&&(bd=4194304)));var d=Br();a=aa(a,l),a!==null&&(vc(a,l,d),rn(a,d))}function CA(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),tb(a,d)}function kA(a,l){var d=0;switch(a.tag){case 13:var m=a.stateNode,x=a.memoizedState;x!==null&&(d=x.retryLane);break;case 19:m=a.stateNode;break;default:throw Error(r(314))}m!==null&&m.delete(l),tb(a,d)}var rb;rb=function(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps||Zr.current)en=!0;else{if((a.lanes&d)===0&&(l.flags&128)===0)return en=!1,mA(a,l,d);en=(a.flags&131072)!==0}else en=!1,Yt&&(l.flags&1048576)!==0&&I0(l,zd,l.index);switch(l.lanes=0,l.tag){case 2:var m=l.type;sf(a,l),a=l.pendingProps;var x=Ki(l,Rr.current);el(l,d),x=fp(null,l,m,a,x,d);var j=hp();return l.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Xr(m)?(j=!0,Ud(l)):j=!1,l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,ap(l),x.updater=rf,l.stateNode=x,x._reactInternals=l,xp(l,m,a,d),l=jp(null,l,m,!0,j,d)):(l.tag=0,Yt&&j&&Gm(l),Ur(null,l,x,d),l=l.child),l;case 16:m=l.elementType;e:{switch(sf(a,l),a=l.pendingProps,x=m._init,m=x(m._payload),l.type=m,x=l.tag=PA(m),a=Jn(m,a),x){case 0:l=_p(null,l,m,a,d);break e;case 1:l=Ew(null,l,m,a,d);break e;case 11:l=jw(null,l,m,a,d);break e;case 14:l=Sw(null,l,m,Jn(m.type,a),d);break e}throw Error(r(306,m,""))}return l;case 0:return m=l.type,x=l.pendingProps,x=l.elementType===m?x:Jn(m,x),_p(a,l,m,x,d);case 1:return m=l.type,x=l.pendingProps,x=l.elementType===m?x:Jn(m,x),Ew(a,l,m,x,d);case 3:e:{if(Pw(l),a===null)throw Error(r(387));m=l.pendingProps,j=l.memoizedState,x=j.element,W0(a,l),Gd(l,m,null,d);var P=l.memoizedState;if(m=P.element,j.isDehydrated)if(j={element:m,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},l.updateQueue.baseState=j,l.memoizedState=j,l.flags&256){x=rl(Error(r(423)),l),l=Aw(a,l,m,d,x);break e}else if(m!==x){x=rl(Error(r(424)),l),l=Aw(a,l,m,d,x);break e}else for(vn=Va(l.stateNode.containerInfo.firstChild),gn=l,Yt=!0,Gn=null,d=V0(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Qi(),m===x){l=ia(a,l,d);break e}Ur(a,l,m,d)}l=l.child}return l;case 5:return Y0(l),a===null&&Zm(l),m=l.type,x=l.pendingProps,j=a!==null?a.memoizedProps:null,P=x.children,zm(m,x)?P=null:j!==null&&zm(m,j)&&(l.flags|=32),kw(a,l),Ur(a,l,P,d),l.child;case 6:return a===null&&Zm(l),null;case 13:return Tw(a,l,d);case 4:return op(l,l.stateNode.containerInfo),m=l.pendingProps,a===null?l.child=Zi(l,null,m,d):Ur(a,l,m,d),l.child;case 11:return m=l.type,x=l.pendingProps,x=l.elementType===m?x:Jn(m,x),jw(a,l,m,x,d);case 7:return Ur(a,l,l.pendingProps,d),l.child;case 8:return Ur(a,l,l.pendingProps.children,d),l.child;case 12:return Ur(a,l,l.pendingProps.children,d),l.child;case 10:e:{if(m=l.type._context,x=l.pendingProps,j=l.memoizedProps,P=x.value,Lt(qd,m._currentValue),m._currentValue=P,j!==null)if(Kn(j.value,P)){if(j.children===x.children&&!Zr.current){l=ia(a,l,d);break e}}else for(j=l.child,j!==null&&(j.return=l);j!==null;){var $=j.dependencies;if($!==null){P=j.child;for(var q=$.firstContext;q!==null;){if(q.context===m){if(j.tag===1){q=oa(-1,d&-d),q.tag=2;var oe=j.updateQueue;if(oe!==null){oe=oe.shared;var pe=oe.pending;pe===null?q.next=q:(q.next=pe.next,pe.next=q),oe.pending=q}}j.lanes|=d,q=j.alternate,q!==null&&(q.lanes|=d),np(j.return,d,l),$.lanes|=d;break}q=q.next}}else if(j.tag===10)P=j.type===l.type?null:j.child;else if(j.tag===18){if(P=j.return,P===null)throw Error(r(341));P.lanes|=d,$=P.alternate,$!==null&&($.lanes|=d),np(P,d,l),P=j.sibling}else P=j.child;if(P!==null)P.return=j;else for(P=j;P!==null;){if(P===l){P=null;break}if(j=P.sibling,j!==null){j.return=P.return,P=j;break}P=P.return}j=P}Ur(a,l,x.children,d),l=l.child}return l;case 9:return x=l.type,m=l.pendingProps.children,el(l,d),x=Pn(x),m=m(x),l.flags|=1,Ur(a,l,m,d),l.child;case 14:return m=l.type,x=Jn(m,l.pendingProps),x=Jn(m.type,x),Sw(a,l,m,x,d);case 15:return Nw(a,l,l.type,l.pendingProps,d);case 17:return m=l.type,x=l.pendingProps,x=l.elementType===m?x:Jn(m,x),sf(a,l),l.tag=1,Xr(m)?(a=!0,Ud(l)):a=!1,el(l,d),gw(l,m,x),xp(l,m,x,d),jp(null,l,m,!0,a,d);case 19:return Dw(a,l,d);case 22:return Cw(a,l,d)}throw Error(r(156,l.tag))};function nb(a,l){return Mx(a,l)}function EA(a,l,d,m){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(a,l,d,m){return new EA(a,l,d,m)}function zp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function PA(a){if(typeof a=="function")return zp(a)?1:0;if(a!=null){if(a=a.$$typeof,a===Q)return 11;if(a===ne)return 14}return 2}function Xa(a,l){var d=a.alternate;return d===null?(d=Rn(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&14680064,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function gf(a,l,d,m,x,j){var P=2;if(m=a,typeof a=="function")zp(a)&&(P=1);else if(typeof a=="string")P=5;else e:switch(a){case I:return ti(d.children,x,j,l);case L:P=8,x|=8;break;case B:return a=Rn(12,d,l,x|2),a.elementType=B,a.lanes=j,a;case Y:return a=Rn(13,d,l,x),a.elementType=Y,a.lanes=j,a;case ee:return a=Rn(19,d,l,x),a.elementType=ee,a.lanes=j,a;case W:return vf(d,x,j,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case H:P=10;break e;case X:P=9;break e;case Q:P=11;break e;case ne:P=14;break e;case J:P=16,m=null;break e}throw Error(r(130,a==null?a:typeof a,""))}return l=Rn(P,d,l,x),l.elementType=a,l.type=m,l.lanes=j,l}function ti(a,l,d,m){return a=Rn(7,a,m,l),a.lanes=d,a}function vf(a,l,d,m){return a=Rn(22,a,m,l),a.elementType=W,a.lanes=d,a.stateNode={isHidden:!1},a}function Wp(a,l,d){return a=Rn(6,a,null,l),a.lanes=d,a}function Hp(a,l,d){return l=Rn(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function AA(a,l,d,m,x){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ym(0),this.expirationTimes=ym(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ym(0),this.identifierPrefix=m,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function qp(a,l,d,m,x,j,P,$,q){return a=new AA(a,l,d,$,q),l===1?(l=1,j===!0&&(l|=8)):l=0,j=Rn(3,null,null,l),a.current=j,j.stateNode=a,j.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},ap(j),a}function TA(a,l,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:m==null?null:""+m,children:a,containerInfo:l,implementation:d}}function sb(a){if(!a)return Wa;a=a._reactInternals;e:{if(zo(a)!==a||a.tag!==1)throw Error(r(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Xr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(a.tag===1){var d=a.type;if(Xr(d))return R0(a,d,l)}return l}function ab(a,l,d,m,x,j,P,$,q){return a=qp(d,m,!0,a,x,j,P,$,q),a.context=sb(null),d=a.current,m=Br(),x=Qa(d),j=oa(m,x),j.callback=l??null,Ya(d,j,x),a.current.lanes=x,vc(a,x,m),rn(a,m),a}function yf(a,l,d,m){var x=l.current,j=Br(),P=Qa(x);return d=sb(d),l.context===null?l.context=d:l.pendingContext=d,l=oa(j,P),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Ya(x,l,P),a!==null&&(Xn(a,x,P,j),Kd(a,x,P)),P}function xf(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function ob(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function Yp(a,l){ob(a,l),(a=a.alternate)&&ob(a,l)}function RA(){return null}var ib=typeof reportError=="function"?reportError:function(a){console.error(a)};function Kp(a){this._internalRoot=a}wf.prototype.render=Kp.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));yf(a,l,null,null)},wf.prototype.unmount=Kp.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;Zo(function(){yf(null,a,null,null)}),l[ta]=null}};function wf(a){this._internalRoot=a}wf.prototype.unstable_scheduleHydration=function(a){if(a){var l=Wx();a={blockedOn:null,target:a,priority:l};for(var d=0;d<Fa.length&&l!==0&&l<Fa[d].priority;d++);Fa.splice(d,0,a),d===0&&Yx(a)}};function Gp(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function bf(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function lb(){}function DA(a,l,d,m,x){if(x){if(typeof m=="function"){var j=m;m=function(){var oe=xf(P);j.call(oe)}}var P=ab(l,m,a,0,null,!1,!1,"",lb);return a._reactRootContainer=P,a[ta]=P.current,Tc(a.nodeType===8?a.parentNode:a),Zo(),P}for(;x=a.lastChild;)a.removeChild(x);if(typeof m=="function"){var $=m;m=function(){var oe=xf(q);$.call(oe)}}var q=qp(a,0,!1,null,null,!1,!1,"",lb);return a._reactRootContainer=q,a[ta]=q.current,Tc(a.nodeType===8?a.parentNode:a),Zo(function(){yf(l,q,d,m)}),q}function _f(a,l,d,m,x){var j=d._reactRootContainer;if(j){var P=j;if(typeof x=="function"){var $=x;x=function(){var q=xf(P);$.call(q)}}yf(l,P,a,x)}else P=DA(d,l,a,x,m);return xf(P)}Vx=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var d=gc(l.pendingLanes);d!==0&&(xm(l,d|1),rn(l,rr()),(jt&6)===0&&(al=rr()+500,Ha()))}break;case 13:Zo(function(){var m=aa(a,1);if(m!==null){var x=Br();Xn(m,a,1,x)}}),Yp(a,1)}},wm=function(a){if(a.tag===13){var l=aa(a,134217728);if(l!==null){var d=Br();Xn(l,a,134217728,d)}Yp(a,134217728)}},zx=function(a){if(a.tag===13){var l=Qa(a),d=aa(a,l);if(d!==null){var m=Br();Xn(d,a,l,m)}Yp(a,l)}},Wx=function(){return Ot},Hx=function(a,l){var d=Ot;try{return Ot=a,l()}finally{Ot=d}},$i=function(a,l,d){switch(l){case"input":if(Kt(a,d),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==a&&m.form===a.form){var x=$d(m);if(!x)throw Error(r(90));We(m),Kt(m,x)}}}break;case"textarea":_e(a,d);break;case"select":l=d.value,l!=null&&te(a,!!d.multiple,l,!1)}},Et=Up,Mt=Zo;var OA={usingClientEntryPoint:!1,Events:[Oc,qi,$d,pd,Xe,Up]},Kc={findFiberByHostInstance:Wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IA={bundleType:Kc.bundleType,version:Kc.version,rendererPackageName:Kc.rendererPackageName,rendererConfig:Kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Ox(a),a===null?null:a.stateNode},findFiberByHostInstance:Kc.findFiberByHostInstance||RA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jf.isDisabled&&jf.supportsFiber)try{xd=jf.inject(IA),As=jf}catch{}}return nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OA,nn.createPortal=function(a,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gp(l))throw Error(r(200));return TA(a,l,null,d)},nn.createRoot=function(a,l){if(!Gp(a))throw Error(r(299));var d=!1,m="",x=ib;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),l=qp(a,1,!1,null,null,d,!1,m,x),a[ta]=l.current,Tc(a.nodeType===8?a.parentNode:a),new Kp(l)},nn.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=Ox(l),a=a===null?null:a.stateNode,a},nn.flushSync=function(a){return Zo(a)},nn.hydrate=function(a,l,d){if(!bf(l))throw Error(r(200));return _f(null,a,l,!0,d)},nn.hydrateRoot=function(a,l,d){if(!Gp(a))throw Error(r(405));var m=d!=null&&d.hydratedSources||null,x=!1,j="",P=ib;if(d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(j=d.identifierPrefix),d.onRecoverableError!==void 0&&(P=d.onRecoverableError)),l=ab(l,null,a,1,d??null,x,!1,j,P),a[ta]=l.current,Tc(a),m)for(a=0;a<m.length;a++)d=m[a],x=d._getVersion,x=x(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,x]:l.mutableSourceEagerHydrationData.push(d,x);return new wf(l)},nn.render=function(a,l,d){if(!bf(l))throw Error(r(200));return _f(null,a,l,!1,d)},nn.unmountComponentAtNode=function(a){if(!bf(a))throw Error(r(40));return a._reactRootContainer?(Zo(function(){_f(null,null,a,!1,function(){a._reactRootContainer=null,a[ta]=null})}),!0):!1},nn.unstable_batchedUpdates=Up,nn.unstable_renderSubtreeIntoContainer=function(a,l,d,m){if(!bf(d))throw Error(r(200));if(a==null||a._reactInternals===void 0)throw Error(r(38));return _f(a,l,d,!1,m)},nn.version="18.3.1-next-f1338f8080-20240426",nn}var vb;function Jj(){if(vb)return Xp.exports;vb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xp.exports=zA(),Xp.exports}var yb;function WA(){if(yb)return Nf;yb=1;var t=Jj();return Nf.createRoot=t.createRoot,Nf.hydrateRoot=t.hydrateRoot,Nf}var HA=WA();const qA=nc(HA);var Fu=Jj();const Qj=nc(Fu);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gu(){return gu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gu.apply(this,arguments)}var wo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(wo||(wo={}));const xb="popstate";function YA(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:c,hash:u}=n.location;return Gg("",{pathname:i,search:c,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Gf(s)}return GA(e,r,null,t)}function Xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zj(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KA(){return Math.random().toString(36).substr(2,8)}function wb(t,e){return{usr:t.state,key:t.key,idx:e}}function Gg(t,e,r,n){return r===void 0&&(r=null),gu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?sc(e):e,{state:r,key:e&&e.key||n||KA()})}function Gf(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function sc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function GA(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,c=s.history,u=wo.Pop,f=null,h=p();h==null&&(h=0,c.replaceState(gu({},c.state,{idx:h}),""));function p(){return(c.state||{idx:null}).idx}function g(){u=wo.Pop;let b=p(),N=b==null?null:b-h;h=b,f&&f({action:u,location:_.location,delta:N})}function w(b,N){u=wo.Push;let C=Gg(_.location,b,N);h=p()+1;let E=wb(C,h),k=_.createHref(C);try{c.pushState(E,"",k)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(k)}i&&f&&f({action:u,location:_.location,delta:1})}function y(b,N){u=wo.Replace;let C=Gg(_.location,b,N);h=p();let E=wb(C,h),k=_.createHref(C);c.replaceState(E,"",k),i&&f&&f({action:u,location:_.location,delta:0})}function S(b){let N=s.location.origin!=="null"?s.location.origin:s.location.href,C=typeof b=="string"?b:Gf(b);return C=C.replace(/ $/,"%20"),Xt(N,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,N)}let _={get action(){return u},get location(){return t(s,c)},listen(b){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(xb,g),f=b,()=>{s.removeEventListener(xb,g),f=null}},createHref(b){return e(s,b)},createURL:S,encodeLocation(b){let N=S(b);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:w,replace:y,go(b){return c.go(b)}};return _}var bb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(bb||(bb={}));function JA(t,e,r){return r===void 0&&(r="/"),QA(t,e,r)}function QA(t,e,r,n){let s=typeof e=="string"?sc(e):e,i=Yl(s.pathname||"/",r);if(i==null)return null;let c=Xj(t);ZA(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let h=cT(i);u=iT(c[f],h)}return u}function Xj(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,c,u)=>{let f={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:c,route:i};f.relativePath.startsWith("/")&&(Xt(f.relativePath.startsWith(n),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(n.length));let h=_o([n,f.relativePath]),p=r.concat(f);i.children&&i.children.length>0&&(Xt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Xj(i.children,e,p,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:aT(h,i.index),routesMeta:p})};return t.forEach((i,c)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))s(i,c);else for(let f of e1(i.path))s(i,c,f)}),e}function e1(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let c=e1(n.join("/")),u=[];return u.push(...c.map(f=>f===""?i:[i,f].join("/"))),s&&u.push(...c),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function ZA(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:oT(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const XA=/^:[\w-]+$/,eT=3,tT=2,rT=1,nT=10,sT=-2,_b=t=>t==="*";function aT(t,e){let r=t.split("/"),n=r.length;return r.some(_b)&&(n+=sT),e&&(n+=tT),r.filter(s=>!_b(s)).reduce((s,i)=>s+(XA.test(i)?eT:i===""?rT:nT),n)}function oT(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function iT(t,e,r){let{routesMeta:n}=t,s={},i="/",c=[];for(let u=0;u<n.length;++u){let f=n[u],h=u===n.length-1,p=i==="/"?e:e.slice(i.length)||"/",g=Jg({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),w=f.route;if(!g)return null;Object.assign(s,g.params),c.push({params:s,pathname:_o([i,g.pathname]),pathnameBase:hT(_o([i,g.pathnameBase])),route:w}),g.pathnameBase!=="/"&&(i=_o([i,g.pathnameBase]))}return c}function Jg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=lT(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],c=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:n.reduce((h,p,g)=>{let{paramName:w,isOptional:y}=p;if(w==="*"){let _=u[g]||"";c=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const S=u[g];return y&&!S?h[w]=void 0:h[w]=(S||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:c,pattern:t}}function lT(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Zj(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(n.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function cT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zj(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Yl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function uT(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?sc(t):t;return{pathname:r?r.startsWith("/")?r:dT(r,e):e,search:mT(n),hash:pT(s)}}function dT(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function rg(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fT(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function t1(t,e){let r=fT(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function r1(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=sc(t):(s=gu({},t),Xt(!s.pathname||!s.pathname.includes("?"),rg("?","pathname","search",s)),Xt(!s.pathname||!s.pathname.includes("#"),rg("#","pathname","hash",s)),Xt(!s.search||!s.search.includes("#"),rg("#","search","hash",s)));let i=t===""||s.pathname==="",c=i?"/":s.pathname,u;if(c==null)u=r;else{let g=e.length-1;if(!n&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),g-=1;s.pathname=w.join("/")}u=g>=0?e[g]:"/"}let f=uT(s,u),h=c&&c!=="/"&&c.endsWith("/"),p=(i||c===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}const _o=t=>t.join("/").replace(/\/\/+/g,"/"),hT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const n1=["post","put","patch","delete"];new Set(n1);const vT=["get",...n1];new Set(vT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vu(){return vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vu.apply(this,arguments)}const Ph=v.createContext(null),s1=v.createContext(null),Io=v.createContext(null),Ah=v.createContext(null),Mo=v.createContext({outlet:null,matches:[],isDataRoute:!1}),a1=v.createContext(null);function yT(t,e){let{relative:r}=e===void 0?{}:e;Uu()||Xt(!1);let{basename:n,navigator:s}=v.useContext(Io),{hash:i,pathname:c,search:u}=Th(t,{relative:r}),f=c;return n!=="/"&&(f=c==="/"?n:_o([n,c])),s.createHref({pathname:f,search:u,hash:i})}function Uu(){return v.useContext(Ah)!=null}function Lo(){return Uu()||Xt(!1),v.useContext(Ah).location}function o1(t){v.useContext(Io).static||v.useLayoutEffect(t)}function er(){let{isDataRoute:t}=v.useContext(Mo);return t?TT():xT()}function xT(){Uu()||Xt(!1);let t=v.useContext(Ph),{basename:e,future:r,navigator:n}=v.useContext(Io),{matches:s}=v.useContext(Mo),{pathname:i}=Lo(),c=JSON.stringify(t1(s,r.v7_relativeSplatPath)),u=v.useRef(!1);return o1(()=>{u.current=!0}),v.useCallback(function(h,p){if(p===void 0&&(p={}),!u.current)return;if(typeof h=="number"){n.go(h);return}let g=r1(h,JSON.parse(c),i,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:_o([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,c,i,t])}function i1(){let{matches:t}=v.useContext(Mo),e=t[t.length-1];return e?e.params:{}}function Th(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=v.useContext(Io),{matches:s}=v.useContext(Mo),{pathname:i}=Lo(),c=JSON.stringify(t1(s,n.v7_relativeSplatPath));return v.useMemo(()=>r1(t,JSON.parse(c),i,r==="path"),[t,c,i,r])}function wT(t,e){return bT(t,e)}function bT(t,e,r,n){Uu()||Xt(!1);let{navigator:s}=v.useContext(Io),{matches:i}=v.useContext(Mo),c=i[i.length-1],u=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let h=Lo(),p;if(e){var g;let b=typeof e=="string"?sc(e):e;f==="/"||(g=b.pathname)!=null&&g.startsWith(f)||Xt(!1),p=b}else p=h;let w=p.pathname||"/",y=w;if(f!=="/"){let b=f.replace(/^\//,"").split("/");y="/"+w.replace(/^\//,"").split("/").slice(b.length).join("/")}let S=JA(t,{pathname:y}),_=CT(S&&S.map(b=>Object.assign({},b,{params:Object.assign({},u,b.params),pathname:_o([f,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?f:_o([f,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return e&&_?v.createElement(Ah.Provider,{value:{location:vu({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:wo.Pop}},_):_}function _T(){let t=AT(),e=gT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),r?v.createElement("pre",{style:s},r):null,null)}const jT=v.createElement(_T,null);class ST extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?v.createElement(Mo.Provider,{value:this.props.routeContext},v.createElement(a1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NT(t){let{routeContext:e,match:r,children:n}=t,s=v.useContext(Ph);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(Mo.Provider,{value:e},n)}function CT(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let c=t,u=(s=r)==null?void 0:s.errors;if(u!=null){let p=c.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);p>=0||Xt(!1),c=c.slice(0,Math.min(c.length,p+1))}let f=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<c.length;p++){let g=c[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:w,errors:y}=r,S=g.route.loader&&w[g.route.id]===void 0&&(!y||y[g.route.id]===void 0);if(g.route.lazy||S){f=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((p,g,w)=>{let y,S=!1,_=null,b=null;r&&(y=u&&g.route.id?u[g.route.id]:void 0,_=g.route.errorElement||jT,f&&(h<0&&w===0?(RT("route-fallback"),S=!0,b=null):h===w&&(S=!0,b=g.route.hydrateFallbackElement||null)));let N=e.concat(c.slice(0,w+1)),C=()=>{let E;return y?E=_:S?E=b:g.route.Component?E=v.createElement(g.route.Component,null):g.route.element?E=g.route.element:E=p,v.createElement(NT,{match:g,routeContext:{outlet:p,matches:N,isDataRoute:r!=null},children:E})};return r&&(g.route.ErrorBoundary||g.route.errorElement||w===0)?v.createElement(ST,{location:r.location,revalidation:r.revalidation,component:_,error:y,children:C(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):C()},null)}var l1=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(l1||{}),c1=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(c1||{});function kT(t){let e=v.useContext(Ph);return e||Xt(!1),e}function ET(t){let e=v.useContext(s1);return e||Xt(!1),e}function PT(t){let e=v.useContext(Mo);return e||Xt(!1),e}function u1(t){let e=PT(),r=e.matches[e.matches.length-1];return r.route.id||Xt(!1),r.route.id}function AT(){var t;let e=v.useContext(a1),r=ET(),n=u1();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function TT(){let{router:t}=kT(l1.UseNavigateStable),e=u1(c1.UseNavigateStable),r=v.useRef(!1);return o1(()=>{r.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,vu({fromRouteId:e},i)))},[t,e])}const jb={};function RT(t,e,r){jb[t]||(jb[t]=!0)}function DT(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ir(t){Xt(!1)}function OT(t){let{basename:e="/",children:r=null,location:n,navigationType:s=wo.Pop,navigator:i,static:c=!1,future:u}=t;Uu()&&Xt(!1);let f=e.replace(/^\/*/,"/"),h=v.useMemo(()=>({basename:f,navigator:i,static:c,future:vu({v7_relativeSplatPath:!1},u)}),[f,u,i,c]);typeof n=="string"&&(n=sc(n));let{pathname:p="/",search:g="",hash:w="",state:y=null,key:S="default"}=n,_=v.useMemo(()=>{let b=Yl(p,f);return b==null?null:{location:{pathname:b,search:g,hash:w,state:y,key:S},navigationType:s}},[f,p,g,w,y,S,s]);return _==null?null:v.createElement(Io.Provider,{value:h},v.createElement(Ah.Provider,{children:r,value:_}))}function IT(t){let{children:e,location:r}=t;return wT(Qg(e),r)}new Promise(()=>{});function Qg(t,e){e===void 0&&(e=[]);let r=[];return v.Children.forEach(t,(n,s)=>{if(!v.isValidElement(n))return;let i=[...e,s];if(n.type===v.Fragment){r.push.apply(r,Qg(n.props.children,i));return}n.type!==ir&&Xt(!1),!n.props.index||!n.props.children||Xt(!1);let c={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Qg(n.props.children,i)),r.push(c)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jf(){return Jf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jf.apply(this,arguments)}function d1(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function MT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LT(t,e){return t.button===0&&(!e||e==="_self")&&!MT(t)}const $T=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],FT=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],UT="6";try{window.__reactRouterVersion=UT}catch{}const BT=v.createContext({isTransitioning:!1}),VT="startTransition",Sb=uy[VT];function zT(t){let{basename:e,children:r,future:n,window:s}=t,i=v.useRef();i.current==null&&(i.current=YA({window:s,v5Compat:!0}));let c=i.current,[u,f]=v.useState({action:c.action,location:c.location}),{v7_startTransition:h}=n||{},p=v.useCallback(g=>{h&&Sb?Sb(()=>f(g)):f(g)},[f,h]);return v.useLayoutEffect(()=>c.listen(p),[c,p]),v.useEffect(()=>DT(n),[n]),v.createElement(OT,{basename:e,children:r,location:u.location,navigationType:u.action,navigator:c,future:n})}const WT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yi=v.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:c,state:u,target:f,to:h,preventScrollReset:p,viewTransition:g}=e,w=d1(e,$T),{basename:y}=v.useContext(Io),S,_=!1;if(typeof h=="string"&&HT.test(h)&&(S=h,WT))try{let E=new URL(window.location.href),k=h.startsWith("//")?new URL(E.protocol+h):new URL(h),A=Yl(k.pathname,y);k.origin===E.origin&&A!=null?h=A+k.search+k.hash:_=!0}catch{}let b=yT(h,{relative:s}),N=KT(h,{replace:c,state:u,target:f,preventScrollReset:p,relative:s,viewTransition:g});function C(E){n&&n(E),E.defaultPrevented||N(E)}return v.createElement("a",Jf({},w,{href:S||b,onClick:_||i?n:C,ref:r,target:f}))}),qT=v.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:c=!1,style:u,to:f,viewTransition:h,children:p}=e,g=d1(e,FT),w=Th(f,{relative:g.relative}),y=Lo(),S=v.useContext(s1),{navigator:_,basename:b}=v.useContext(Io),N=S!=null&&GT(w)&&h===!0,C=_.encodeLocation?_.encodeLocation(w).pathname:w.pathname,E=y.pathname,k=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;s||(E=E.toLowerCase(),k=k?k.toLowerCase():null,C=C.toLowerCase()),k&&b&&(k=Yl(k,b)||k);const A=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let T=E===C||!c&&E.startsWith(C)&&E.charAt(A)==="/",I=k!=null&&(k===C||!c&&k.startsWith(C)&&k.charAt(C.length)==="/"),L={isActive:T,isPending:I,isTransitioning:N},B=T?n:void 0,H;typeof i=="function"?H=i(L):H=[i,T?"active":null,I?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let X=typeof u=="function"?u(L):u;return v.createElement(yi,Jf({},g,{"aria-current":B,className:H,ref:r,style:X,to:f,viewTransition:h}),typeof p=="function"?p(L):p)});var Zg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Zg||(Zg={}));var Nb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Nb||(Nb={}));function YT(t){let e=v.useContext(Ph);return e||Xt(!1),e}function KT(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:c,viewTransition:u}=e===void 0?{}:e,f=er(),h=Lo(),p=Th(t,{relative:c});return v.useCallback(g=>{if(LT(g,r)){g.preventDefault();let w=n!==void 0?n:Gf(h)===Gf(p);f(t,{replace:w,state:s,preventScrollReset:i,relative:c,viewTransition:u})}},[h,f,p,n,s,r,t,i,c,u])}function GT(t,e){e===void 0&&(e={});let r=v.useContext(BT);r==null&&Xt(!1);let{basename:n}=YT(Zg.useViewTransitionState),s=Th(t,{relative:e.relative});if(!r.isTransitioning)return!1;let i=Yl(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=Yl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Jg(s.pathname,c)!=null||Jg(s.pathname,i)!=null}const JT="modulepreload",QT=function(t){return"/"+t},Cb={},Bu=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){let c=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=c(r.map(h=>{if(h=QT(h),h in Cb)return;Cb[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":JT,p||(w.as="script"),w.crossOrigin="",w.href=h,f&&w.setAttribute("nonce",f),document.head.appendChild(w),p)return new Promise((y,S)=>{w.addEventListener("load",y),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return s.then(c=>{for(const u of c||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})},ZT=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Bu(async()=>{const{default:n}=await Promise.resolve().then(()=>ac);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class dy extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class XT extends dy{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class kb extends dy{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Eb extends dy{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Xg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Xg||(Xg={}));var eR=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function u(p){try{h(n.next(p))}catch(g){c(g)}}function f(p){try{h(n.throw(p))}catch(g){c(g)}}function h(p){p.done?i(p.value):s(p.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};class tR{constructor(e,{headers:r={},customFetch:n,region:s=Xg.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=ZT(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return eR(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:c}=r;let u={},{region:f}=r;f||(f=this.region);const h=new URL(`${this.url}/${e}`);f&&f!=="any"&&(u["x-region"]=f,h.searchParams.set("forceFunctionRegion",f));let p;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",p=c):typeof c=="string"?(u["Content-Type"]="text/plain",p=c):typeof FormData<"u"&&c instanceof FormData?p=c:(u["Content-Type"]="application/json",p=JSON.stringify(c)));const g=yield this.fetch(h.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:p}).catch(_=>{throw new XT(_)}),w=g.headers.get("x-relay-error");if(w&&w==="true")throw new kb(g);if(!g.ok)throw new Eb(g);let y=((n=g.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),S;return y==="application/json"?S=yield g.json():y==="application/octet-stream"?S=yield g.blob():y==="text/event-stream"?S=g:y==="multipart/form-data"?S=yield g.formData():S=yield g.text(),{data:S,error:null,response:g}}catch(s){return{data:null,error:s,response:s instanceof Eb||s instanceof kb?s.context:void 0}}})}}var xr={},il={},ll={},cl={},ul={},dl={},rR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Kl=rR();const nR=Kl.fetch,f1=Kl.fetch.bind(Kl),h1=Kl.Headers,sR=Kl.Request,aR=Kl.Response,ac=Object.freeze(Object.defineProperty({__proto__:null,Headers:h1,Request:sR,Response:aR,default:f1,fetch:nR},Symbol.toStringTag,{value:"Module"})),oR=$A(ac);var Cf={},Pb;function m1(){if(Pb)return Cf;Pb=1,Object.defineProperty(Cf,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Cf.default=t,Cf}var Ab;function p1(){if(Ab)return dl;Ab=1;var t=dl&&dl.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(dl,"__esModule",{value:!0});const e=t(oR),r=t(m1());class n{constructor(i){var c,u;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(c=i.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=i.signal,this.isMaybeSingle=(u=i.isMaybeSingle)!==null&&u!==void 0?u:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,c){return this.headers=new Headers(this.headers),this.headers.set(i,c),this}then(i,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let f=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var p,g,w,y;let S=null,_=null,b=null,N=h.status,C=h.statusText;if(h.ok){if(this.method!=="HEAD"){const T=await h.text();T===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?_=T:_=JSON.parse(T))}const k=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),A=(w=h.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");k&&A&&A.length>1&&(b=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(S={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,b=null,N=406,C="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const k=await h.text();try{S=JSON.parse(k),Array.isArray(S)&&h.status===404&&(_=[],S=null,N=200,C="OK")}catch{h.status===404&&k===""?(N=204,C="No Content"):S={message:k}}if(S&&this.isMaybeSingle&&(!((y=S==null?void 0:S.details)===null||y===void 0)&&y.includes("0 rows"))&&(S=null,N=200,C="OK"),S&&this.shouldThrowOnError)throw new r.default(S)}return{error:S,data:_,count:b,status:N,statusText:C}});return this.shouldThrowOnError||(f=f.catch(h=>{var p,g,w;return{error:{message:`${(p=h==null?void 0:h.name)!==null&&p!==void 0?p:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(g=h==null?void 0:h.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(w=h==null?void 0:h.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),f.then(i,c)}returns(){return this}overrideTypes(){return this}}return dl.default=n,dl}var Tb;function g1(){if(Tb)return ul;Tb=1;var t=ul&&ul.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ul,"__esModule",{value:!0});const e=t(p1());class r extends e.default{select(s){let i=!1;const c=(s??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:c,foreignTable:u,referencedTable:f=u}={}){const h=f?`${f}.order`:"order",p=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${p?`${p},`:""}${s}.${i?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:c=i}={}){const u=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${s}`),this}range(s,i,{foreignTable:c,referencedTable:u=c}={}){const f=typeof u>"u"?"offset":`${u}.offset`,h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${s}`),this.url.searchParams.set(h,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:c=!1,buffers:u=!1,wal:f=!1,format:h="text"}={}){var p;const g=[s?"analyze":null,i?"verbose":null,c?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),w=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${w}"; options=${g};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return ul.default=r,ul}var Rb;function fy(){if(Rb)return cl;Rb=1;var t=cl&&cl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(cl,"__esModule",{value:!0});const e=t(g1());class r extends e.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const c=Array.from(new Set(i)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(s,`in.(${c})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:c,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const h=c===void 0?"":`(${c})`;return this.url.searchParams.append(s,`${f}fts${h}.${i}`),this}match(s){return Object.entries(s).forEach(([i,c])=>{this.url.searchParams.append(i,`eq.${c}`)}),this}not(s,i,c){return this.url.searchParams.append(s,`not.${i}.${c}`),this}or(s,{foreignTable:i,referencedTable:c=i}={}){const u=c?`${c}.or`:"or";return this.url.searchParams.append(u,`(${s})`),this}filter(s,i,c){return this.url.searchParams.append(s,`${i}.${c}`),this}}return cl.default=r,cl}var Db;function v1(){if(Db)return ll;Db=1;var t=ll&&ll.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ll,"__esModule",{value:!0});const e=t(fy());class r{constructor(s,{headers:i={},schema:c,fetch:u}){this.url=s,this.headers=new Headers(i),this.schema=c,this.fetch=u}select(s,{head:i=!1,count:c}={}){const u=i?"HEAD":"GET";let f=!1;const h=(s??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",h),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:c=!0}={}){var u;const f="POST";if(i&&this.headers.append("Prefer",`count=${i}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:c=!1,count:u,defaultToNull:f=!0}={}){var h;const p="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),u&&this.headers.append("Prefer",`count=${u}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const g=s.reduce((w,y)=>w.concat(Object.keys(y)),[]);if(g.length>0){const w=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(s,{count:i}={}){var c;const u="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:s}={}){var i;const c="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return ll.default=r,ll}var Ob;function iR(){if(Ob)return il;Ob=1;var t=il&&il.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(il,"__esModule",{value:!0});const e=t(v1()),r=t(fy());class n{constructor(i,{headers:c={},schema:u,fetch:f}={}){this.url=i,this.headers=new Headers(c),this.schemaName=u,this.fetch=f}from(i){const c=new URL(`${this.url}/${i}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,c={},{head:u=!1,get:f=!1,count:h}={}){var p;let g;const w=new URL(`${this.url}/rpc/${i}`);let y;u||f?(g=u?"HEAD":"GET",Object.entries(c).filter(([_,b])=>b!==void 0).map(([_,b])=>[_,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([_,b])=>{w.searchParams.append(_,b)})):(g="POST",y=c);const S=new Headers(this.headers);return h&&S.set("Prefer",`count=${h}`),new r.default({method:g,url:w,headers:S,schema:this.schemaName,body:y,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return il.default=n,il}var Ib;function lR(){if(Ib)return xr;Ib=1;var t=xr&&xr.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(xr,"__esModule",{value:!0}),xr.PostgrestError=xr.PostgrestBuilder=xr.PostgrestTransformBuilder=xr.PostgrestFilterBuilder=xr.PostgrestQueryBuilder=xr.PostgrestClient=void 0;const e=t(iR());xr.PostgrestClient=e.default;const r=t(v1());xr.PostgrestQueryBuilder=r.default;const n=t(fy());xr.PostgrestFilterBuilder=n.default;const s=t(g1());xr.PostgrestTransformBuilder=s.default;const i=t(p1());xr.PostgrestBuilder=i.default;const c=t(m1());return xr.PostgrestError=c.default,xr.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:i.default,PostgrestError:c.default},xr}var cR=lR();const uR=nc(cR),{PostgrestClient:dR,PostgrestQueryBuilder:I7,PostgrestFilterBuilder:M7,PostgrestTransformBuilder:L7,PostgrestBuilder:$7,PostgrestError:F7}=uR;class fR{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const hR="2.15.4",mR=`realtime-js/${hR}`,pR="1.0.0",ev=1e4,gR=1e3,vR=100;var fu;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(fu||(fu={}));var mr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(mr||(mr={}));var as;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(as||(as={}));var tv;(function(t){t.websocket="websocket"})(tv||(tv={}));var oi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(oi||(oi={}));class yR{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let c=this.HEADER_LENGTH+2;const u=n.decode(e.slice(c,c+s));c=c+s;const f=n.decode(e.slice(c,c+i));c=c+i;const h=JSON.parse(n.decode(e.slice(c,e.byteLength)));return{ref:null,topic:u,event:f,payload:h}}}class y1{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $t;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})($t||($t={}));const Mb=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,c)=>(i[c]=xR(c,t,e,s),i),{})},xR=(t,e,r,n)=>{const s=e.find(u=>u.name===t),i=s==null?void 0:s.type,c=r[t];return i&&!n.includes(i)?x1(i,c):rv(c)},x1=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return jR(e,r)}switch(t){case $t.bool:return wR(e);case $t.float4:case $t.float8:case $t.int2:case $t.int4:case $t.int8:case $t.numeric:case $t.oid:return bR(e);case $t.json:case $t.jsonb:return _R(e);case $t.timestamp:return SR(e);case $t.abstime:case $t.date:case $t.daterange:case $t.int4range:case $t.int8range:case $t.money:case $t.reltime:case $t.text:case $t.time:case $t.timestamptz:case $t.timetz:case $t.tsrange:case $t.tstzrange:return rv(e);default:return rv(e)}},rv=t=>t,wR=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},bR=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},_R=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},jR=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const c=t.slice(1,r);try{i=JSON.parse("["+c+"]")}catch{i=c?c.split(","):[]}return i.map(u=>x1(e,u))}return t},SR=t=>typeof t=="string"?t.replace(" ","T"):t,w1=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class ng{constructor(e,r,n={},s=ev){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Lb;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Lb||(Lb={}));class hu{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hu.syncState(this.state,s,i,c),this.pendingDiffs.forEach(f=>{this.state=hu.syncDiff(this.state,f,i,c)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=hu.syncDiff(this.state,s,i,c),u())}),this.onJoin((s,i,c)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:c})}),this.onLeave((s,i,c)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),c=this.transformState(r),u={},f={};return this.map(i,(h,p)=>{c[h]||(f[h]=p)}),this.map(c,(h,p)=>{const g=i[h];if(g){const w=p.map(b=>b.presence_ref),y=g.map(b=>b.presence_ref),S=p.filter(b=>y.indexOf(b.presence_ref)<0),_=g.filter(b=>w.indexOf(b.presence_ref)<0);S.length>0&&(u[h]=S),_.length>0&&(f[h]=_)}else u[h]=p}),this.syncDiff(i,{joins:u,leaves:f},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(u,f)=>{var h;const p=(h=e[u])!==null&&h!==void 0?h:[];if(e[u]=this.cloneDeep(f),p.length>0){const g=e[u].map(y=>y.presence_ref),w=p.filter(y=>g.indexOf(y.presence_ref)<0);e[u].unshift(...w)}n(u,p,f)}),this.map(c,(u,f)=>{let h=e[u];if(!h)return;const p=f.map(g=>g.presence_ref);h=h.filter(g=>p.indexOf(g.presence_ref)<0),e[u]=h,s(u,h,f),h.length===0&&delete e[u]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $b;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})($b||($b={}));var mu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(mu||(mu={}));var ma;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ma||(ma={}));class hy{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=mr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ng(this,as.join,this.params,this.timeout),this.rejoinTimer=new y1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=mr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=mr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=mr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=mr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(as.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new hu(this),this.broadcastEndpointURL=w1(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==mr.closed){const{config:{broadcast:c,presence:u,private:f}}=this.params,h=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&s!==void 0?s:[],p=!!this.bindings[mu.PRESENCE]&&this.bindings[mu.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,g={},w={broadcast:c,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(ma.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(ma.CLOSED)),this.updateJoinPayload(Object.assign({config:w},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var S;if(this.socket.setAuth(),y===void 0){e==null||e(ma.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,b=(S=_==null?void 0:_.length)!==null&&S!==void 0?S:0,N=[];for(let C=0;C<b;C++){const E=_[C],{filter:{event:k,schema:A,table:T,filter:I}}=E,L=y&&y[C];if(L&&L.event===k&&L.schema===A&&L.table===T&&L.filter===I)N.push(Object.assign(Object.assign({},E),{id:L.id}));else{this.unsubscribe(),this.state=mr.errored,e==null||e(ma.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,e&&e(ma.SUBSCRIBED);return}}).receive("error",y=>{this.state=mr.errored,e==null||e(ma.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ma.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===mr.joined&&e===mu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:c}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:c,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var c,u,f;const h=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&i("ok"),h.receive("ok",()=>i("ok")),h.receive("error",()=>i("error")),h.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=mr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(as.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new ng(this,as.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=mr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),c=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),c}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ng(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>vR){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const c=e.toLocaleLowerCase(),{close:u,error:f,leave:h,join:p}=as;if(n&&[u,f,h,p].indexOf(c)>=0&&n!==this._joinRef())return;let w=this._onMessage(c,r,n);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var S,_,b;return((S=y.filter)===null||S===void 0?void 0:S.event)==="*"||((b=(_=y.filter)===null||_===void 0?void 0:_.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===c}).map(y=>y.callback(w,n)):(i=this.bindings[c])===null||i===void 0||i.filter(y=>{var S,_,b,N,C,E;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in y){const k=y.id,A=(S=y.filter)===null||S===void 0?void 0:S.event;return k&&((_=r.ids)===null||_===void 0?void 0:_.includes(k))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const k=(C=(N=y==null?void 0:y.filter)===null||N===void 0?void 0:N.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return k==="*"||k===((E=r==null?void 0:r.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===c}).map(y=>{if(typeof w=="object"&&"ids"in w){const S=w.data,{schema:_,table:b,commit_timestamp:N,type:C,errors:E}=S;w=Object.assign(Object.assign({},{schema:_,table:b,commit_timestamp:N,eventType:C,new:{},old:{},errors:E}),this._getPayloadRecords(S))}y.callback(w,n)})}_isClosed(){return this.state===mr.closed}_isJoined(){return this.state===mr.joined}_isJoining(){return this.state===mr.joining}_isLeaving(){return this.state===mr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&hy.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(as.close,{},e)}_onError(e){this._on(as.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Mb(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Mb(e.columns,e.old_record)),r}}const sg=()=>{},kf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},NR=[1e3,2e3,5e3,1e4],CR=1e4,kR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ER{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ev,this.transport=null,this.heartbeatIntervalMs=kf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=sg,this.ref=0,this.reconnectTimer=null,this.logger=sg,this.conn=null,this.sendBuffer=[],this.serializer=new yR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...c)=>Bu(async()=>{const{default:u}=await Promise.resolve().then(()=>ac);return{default:u}},void 0).then(({default:u})=>u(...c)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...c)=>i(...c)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${tv.websocket}`,this.httpEndpoint=w1(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=fR.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:pR}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case fu.connecting:return oi.Connecting;case fu.open:return oi.Open;case fu.closing:return oi.Closing;default:return oi.Closed}}isConnected(){return this.connectionState()===oi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new hy(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,c=()=>{this.encode(e,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(gR,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},kf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:c}=r,u=c?`(${c})`:"",f=i.status||"";this.log("receive",`${f} ${n} ${s} ${u}`.trim(),i),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(s,i,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(as.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([kR],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:mR};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(as.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new y1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},kf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,c,u,f,h,p;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:ev,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:kf.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:sg,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:(g=>NR[g-1]||CR),this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:((g,w)=>w(JSON.stringify(g))),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class my extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function pr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class PR extends my{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class nv extends my{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var AR=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function u(p){try{h(n.next(p))}catch(g){c(g)}}function f(p){try{h(n.throw(p))}catch(g){c(g)}}function h(p){p.done?i(p.value):s(p.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const b1=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Bu(async()=>{const{default:n}=await Promise.resolve().then(()=>ac);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},TR=()=>AR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Bu(()=>Promise.resolve().then(()=>ac),void 0)).Response:Response}),sv=t=>{if(Array.isArray(t))return t.map(r=>sv(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=sv(n)}),e},RR=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Ei=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function u(p){try{h(n.next(p))}catch(g){c(g)}}function f(p){try{h(n.throw(p))}catch(g){c(g)}}function h(p){p.done?i(p.value):s(p.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const ag=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),DR=(t,e,r)=>Ei(void 0,void 0,void 0,function*(){const n=yield TR();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,c=(s==null?void 0:s.statusCode)||i+"";e(new PR(ag(s),i,c))}).catch(s=>{e(new nv(ag(s),s))}):e(new nv(ag(t),t))}),OR=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(RR(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function Vu(t,e,r,n,s,i){return Ei(this,void 0,void 0,function*(){return new Promise((c,u)=>{t(r,OR(e,n,s,i)).then(f=>{if(!f.ok)throw f;return n!=null&&n.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>DR(f,u,n))})})}function Qf(t,e,r,n){return Ei(this,void 0,void 0,function*(){return Vu(t,"GET",e,r,n)})}function Is(t,e,r,n,s){return Ei(this,void 0,void 0,function*(){return Vu(t,"POST",e,n,s,r)})}function av(t,e,r,n,s){return Ei(this,void 0,void 0,function*(){return Vu(t,"PUT",e,n,s,r)})}function IR(t,e,r,n){return Ei(this,void 0,void 0,function*(){return Vu(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function _1(t,e,r,n,s){return Ei(this,void 0,void 0,function*(){return Vu(t,"DELETE",e,n,s,r)})}var Vr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function u(p){try{h(n.next(p))}catch(g){c(g)}}function f(p){try{h(n.throw(p))}catch(g){c(g)}}function h(p){p.done?i(p.value):s(p.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const MR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class LR{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=b1(s)}uploadOrUpdate(e,r,n,s){return Vr(this,void 0,void 0,function*(){try{let i;const c=Object.assign(Object.assign({},Fb),s);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",c.cacheControl),f&&i.append("metadata",this.encodeMetadata(f)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",c.cacheControl),f&&i.append("metadata",this.encodeMetadata(f))):(i=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,f&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),s!=null&&s.headers&&(u=Object.assign(Object.assign({},u),s.headers));const h=this._removeEmptyFolders(r),p=this._getFinalPath(h),g=yield(e=="PUT"?av:Is)(this.fetch,`${this.url}/object/${p}`,i,Object.assign({headers:u},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:h,id:g.Id,fullPath:g.Key},error:null}}catch(i){if(pr(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Vr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Vr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),c=this._getFinalPath(i),u=new URL(this.url+`/object/upload/sign/${c}`);u.searchParams.set("token",r);try{let f;const h=Object.assign({upsert:Fb.upsert},s),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",h.cacheControl)):(f=n,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType);const g=yield av(this.fetch,u.toString(),f,{headers:p});return{data:{path:i,fullPath:g.Key},error:null}}catch(f){if(pr(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,r){return Vr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Is(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),c=new URL(this.url+i.url),u=c.searchParams.get("token");if(!u)throw new my("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:u},error:null}}catch(n){if(pr(n))return{data:null,error:n};throw n}})}update(e,r,n){return Vr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Vr(this,void 0,void 0,function*(){try{return{data:yield Is(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(pr(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Vr(this,void 0,void 0,function*(){try{return{data:{path:(yield Is(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(pr(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Vr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Is(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${c}`)},{data:i,error:null}}catch(s){if(pr(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Vr(this,void 0,void 0,function*(){try{const s=yield Is(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${i}`):null})),error:null}}catch(s){if(pr(s))return{data:null,error:s};throw s}})}download(e,r){return Vr(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),c=i?`?${i}`:"";try{const u=this._getFinalPath(e);return{data:yield(yield Qf(this.fetch,`${this.url}/${s}/${u}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(pr(u))return{data:null,error:u};throw u}})}info(e){return Vr(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Qf(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:sv(n),error:null}}catch(n){if(pr(n))return{data:null,error:n};throw n}})}exists(e){return Vr(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield IR(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(pr(n)&&n instanceof nv){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const u=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});f!==""&&s.push(f);let h=s.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${h}`)}}}remove(e){return Vr(this,void 0,void 0,function*(){try{return{data:yield _1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(pr(r))return{data:null,error:r};throw r}})}list(e,r,n){return Vr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},MR),r),{prefix:e||""});return{data:yield Is(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(pr(s))return{data:null,error:s};throw s}})}listV2(e,r){return Vr(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Is(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(pr(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const $R="2.11.1",FR={"X-Client-Info":`storage-js/${$R}`};var fl=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function u(p){try{h(n.next(p))}catch(g){c(g)}}function f(p){try{h(n.throw(p))}catch(g){c(g)}}function h(p){p.done?i(p.value):s(p.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};class UR{constructor(e,r={},n,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},FR),r),this.fetch=b1(n)}listBuckets(){return fl(this,void 0,void 0,function*(){try{return{data:yield Qf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(pr(e))return{data:null,error:e};throw e}})}getBucket(e){return fl(this,void 0,void 0,function*(){try{return{data:yield Qf(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(pr(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return fl(this,void 0,void 0,function*(){try{return{data:yield Is(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(pr(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return fl(this,void 0,void 0,function*(){try{return{data:yield av(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(pr(n))return{data:null,error:n};throw n}})}emptyBucket(e){return fl(this,void 0,void 0,function*(){try{return{data:yield Is(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(pr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return fl(this,void 0,void 0,function*(){try{return{data:yield _1(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(pr(r))return{data:null,error:r};throw r}})}}class BR extends UR{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new LR(this.url,this.headers,e,this.fetch)}}const VR="2.57.0";let su="";typeof Deno<"u"?su="deno":typeof document<"u"?su="web":typeof navigator<"u"&&navigator.product==="ReactNative"?su="react-native":su="node";const zR={"X-Client-Info":`supabase-js-${su}/${VR}`},WR={headers:zR},HR={schema:"public"},qR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},YR={};var KR=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function u(p){try{h(n.next(p))}catch(g){c(g)}}function f(p){try{h(n.throw(p))}catch(g){c(g)}}function h(p){p.done?i(p.value):s(p.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};const GR=t=>{let e;return t?e=t:typeof fetch>"u"?e=f1:e=fetch,(...r)=>e(...r)},JR=()=>typeof Headers>"u"?h1:Headers,QR=(t,e,r)=>{const n=GR(r),s=JR();return(i,c)=>KR(void 0,void 0,void 0,function*(){var u;const f=(u=yield e())!==null&&u!==void 0?u:t;let h=new s(c==null?void 0:c.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),n(i,Object.assign(Object.assign({},c),{headers:h}))})};var ZR=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function u(p){try{h(n.next(p))}catch(g){c(g)}}function f(p){try{h(n.throw(p))}catch(g){c(g)}}function h(p){p.done?i(p.value):s(p.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};function XR(t){return t.endsWith("/")?t:t+"/"}function eD(t,e){var r,n;const{db:s,auth:i,realtime:c,global:u}=t,{db:f,auth:h,realtime:p,global:g}=e,w={db:Object.assign(Object.assign({},f),s),auth:Object.assign(Object.assign({},h),i),realtime:Object.assign(Object.assign({},p),c),storage:{},global:Object.assign(Object.assign(Object.assign({},g),u),{headers:Object.assign(Object.assign({},(r=g==null?void 0:g.headers)!==null&&r!==void 0?r:{}),(n=u==null?void 0:u.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>ZR(this,void 0,void 0,function*(){return""})};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}const j1="2.71.1",_l=30*1e3,ov=3,og=ov*_l,tD="http://localhost:9999",rD="supabase.auth.token",nD={"X-Client-Info":`gotrue-js/${j1}`},iv="X-Supabase-Api-Version",S1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,aD=600*1e3;class py extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function st(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class oD extends py{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function iD(t){return st(t)&&t.name==="AuthApiError"}class N1 extends py{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class $o extends py{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class oo extends $o{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lD(t){return st(t)&&t.name==="AuthSessionMissingError"}class Ef extends $o{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pf extends $o{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Af extends $o{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function cD(t){return st(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ub extends $o{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lv extends $o{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ig(t){return st(t)&&t.name==="AuthRetryableFetchError"}class Bb extends $o{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class cv extends $o{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Vb=` 	
\r=`.split(""),uD=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Vb.length;e+=1)t[Vb[e].charCodeAt(0)]=-2;for(let e=0;e<Zf.length;e+=1)t[Zf[e].charCodeAt(0)]=e;return t})();function zb(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Zf[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Zf[n]),e.queuedBits-=6}}function C1(t,e,r){const n=uD[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Wb(t){const e=[],r=c=>{e.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=c=>{hD(c,n,r)};for(let c=0;c<t.length;c+=1)C1(t.charCodeAt(c),s,i);return e.join("")}function dD(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function fD(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}dD(n,e)}}function hD(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function mD(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)C1(t.charCodeAt(s),r,n);return new Uint8Array(e)}function pD(t){const e=[];return fD(t,r=>e.push(r)),new Uint8Array(e)}function gD(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>zb(s,r,n)),zb(null,r,n),e.join("")}function vD(t){return Math.round(Date.now()/1e3)+t}function yD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ts=()=>typeof window<"u"&&typeof document<"u",ri={tested:!1,writable:!1},k1=()=>{if(!ts())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ri.tested)return ri.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ri.tested=!0,ri.writable=!0}catch{ri.tested=!0,ri.writable=!1}return ri.writable};function xD(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const E1=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Bu(async()=>{const{default:n}=await Promise.resolve().then(()=>ac);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},wD=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",jl=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ni=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},to=async(t,e)=>{await t.removeItem(e)};class Rh{constructor(){this.promise=new Rh.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Rh.promiseConstructor=Promise;function lg(t){const e=t.split(".");if(e.length!==3)throw new cv("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!sD.test(e[n]))throw new cv("JWT not in base64url format");return{header:JSON.parse(Wb(e[0])),payload:JSON.parse(Wb(e[1])),signature:mD(e[2]),raw:{header:e[0],payload:e[1]}}}async function bD(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function _D(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const c=await t(i);if(!e(i,null,c)){n(c);return}}catch(c){if(!e(i,c)){s(c);return}}})()})}function jD(t){return("0"+t.toString(16)).substr(-2)}function SD(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,jD).join("")}async function ND(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function CD(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await ND(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hl(t,e,r=!1){const n=SD();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await jl(t,`${e}-code-verifier`,s);const i=await CD(n);return[i,n===i?"plain":"s256"]}const kD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ED(t){const e=t.headers.get(iv);if(!e||!e.match(kD))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function PD(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function AD(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const TD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ml(t){if(!TD.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function cg(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Hb(t){return JSON.parse(JSON.stringify(t))}var RD=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const si=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),DD=[502,503,504];async function qb(t){var e;if(!wD(t))throw new lv(si(t),0);if(DD.includes(t.status))throw new lv(si(t),t.status);let r;try{r=await t.json()}catch(i){throw new N1(si(i),i)}let n;const s=ED(t);if(s&&s.getTime()>=S1["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Bb(si(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new oo}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,c)=>i&&typeof c=="string",!0))throw new Bb(si(r),t.status,r.weak_password.reasons);throw new oD(si(r),t.status||500,n)}const OD=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ht(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[iv]||(i[iv]=S1["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const c=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(c.redirect_to=n.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await ID(t,e,r+u,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(f):{data:Object.assign({},f),error:null}}async function ID(t,e,r,n,s,i){const c=OD(e,n,s,i);let u;try{u=await t(r,Object.assign({},c))}catch(f){throw console.error(f),new lv(si(f),0)}if(u.ok||await qb(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(f){await qb(f)}}function fa(t){var e;let r=null;FD(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=vD(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Yb(t){const e=fa(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function uo(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function MD(t){return{data:t,error:null}}function LD(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,c=RD(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},f=Object.assign({},c);return{data:{properties:u,user:f},error:null}}function $D(t){return t}function FD(t){return t.access_token&&t.refresh_token&&t.expires_in}const ug=["global","local","others"];var UD=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class BD{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=E1(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=ug[0]){if(ug.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ug.join(", ")}`);try{return await ht(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(st(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ht(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:uo})}catch(n){if(st(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=UD(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ht(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:LD,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(st(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ht(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:uo})}catch(r){if(st(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,c,u,f;try{const h={nextPage:null,lastPage:0,total:0},p=await ht(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:$D});if(p.error)throw p.error;const g=await p.json(),w=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,y=(f=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return y.length>0&&(y.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(S.split(";")[1].split("=")[1]);h[`${b}Page`]=_}),h.total=parseInt(w)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(st(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){ml(e);try{return await ht(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:uo})}catch(r){if(st(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ml(e);try{return await ht(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:uo})}catch(n){if(st(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){ml(e);try{return await ht(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:uo})}catch(n){if(st(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){ml(e.userId);try{const{data:r,error:n}=await ht(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(st(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ml(e.userId),ml(e.id);try{return{data:await ht(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(st(r))return{data:null,error:r};throw r}}}function Kb(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function VD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const pl={debug:!!(globalThis&&k1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class P1 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class zD extends P1{}async function WD(t,e,r){pl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),pl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){pl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{pl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw pl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new zD(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(pl.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}VD();const HD={url:tD,storageKey:rD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Gb(t,e,r){return await r()}const gl={};class yu{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=yu.nextInstanceID,yu.nextInstanceID+=1,this.instanceID>0&&ts()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},HD),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new BD({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=E1(s.fetch),this.lock=s.lock||Gb,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ts()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=WD:this.lock=Gb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:k1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Kb(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Kb(this.memoryStorage)),ts()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=gl[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){gl[this.storageKey]=Object.assign(Object.assign({},gl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=gl[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){gl[this.storageKey]=Object.assign(Object.assign({},gl[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${j1}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=xD(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ts()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),cD(i)){const f=(e=i.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:c,redirectType:u}=s;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return st(r)?{error:r}:{error:new N1("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:fa}),{data:c,error:u}=i;if(u||!c)return{data:{user:null,session:null},error:u};const f=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(i){if(st(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:p,password:g,options:w}=e;let y=null,S=null;this.flowType==="pkce"&&([y,S]=await hl(this.storage,this.storageKey)),i=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:p,password:g,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:y,code_challenge_method:S},xform:fa})}else if("phone"in e){const{phone:p,password:g,options:w}=e;i=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(n=w==null?void 0:w.data)!==null&&n!==void 0?n:{},channel:(s=w==null?void 0:w.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:fa})}else throw new Pf("You must provide either an email or phone number and a password");const{data:c,error:u}=i;if(u||!c)return{data:{user:null,session:null},error:u};const f=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(i){if(st(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:c,options:u}=e;r=await ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Yb})}else if("phone"in e){const{phone:i,password:c,options:u}=e;r=await ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Yb})}else throw new Pf("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ef}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(st(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,c,u,f,h,p,g,w,y;let S,_;if("message"in e)S=e.message,_=e.signature;else{const{chain:b,wallet:N,statement:C,options:E}=e;let k;if(ts())if(typeof N=="object")k=N;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))k=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=N}const A=new URL((r=E==null?void 0:E.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const T=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),C?{statement:C}:null));let I;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")I=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)I=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)S=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),_=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${A.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(s=(n=E==null?void 0:E.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=E==null?void 0:E.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((c=E==null?void 0:E.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((u=E==null?void 0:E.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((f=E==null?void 0:E.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((h=E==null?void 0:E.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((g=(p=E==null?void 0:E.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...E.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const T=await k.signMessage(new TextEncoder().encode(S),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=T}}try{const{data:b,error:N}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:gD(_)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:fa});if(N)throw N;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Ef}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:N})}catch(b){if(st(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const r=await ni(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:c}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:fa});if(await to(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ef}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:c})}catch(i){if(st(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:c}=e,u=await ht(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:fa}),{data:f,error:h}=u;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Ef}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:h})}catch(r){if(st(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,c;try{if("email"in e){const{email:u,options:f}=e;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await hl(this.storage,this.storageKey));const{error:g}=await ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(n=f==null?void 0:f.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:u,options:f}=e,{data:h,error:p}=await ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},create_user:(i=f==null?void 0:f.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(c=f==null?void 0:f.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p}}throw new Pf("You must provide either an email or phone number.")}catch(u){if(st(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:u}=await ht(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:fa});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,h=c.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(s){if(st(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,c=null;return this.flowType==="pkce"&&([i,c]=await hl(this.storage,this.storageKey)),await ht(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:c}),headers:this.headers,xform:MD})}catch(i){if(st(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new oo;const{error:s}=await ht(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(st(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:c}=await ht(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:c,error:u}=await ht(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Pf("You must provide either an email or phone number and a type")}catch(r){if(st(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ni(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<og:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const c=await ni(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=cg()}if(this.storage.isServer&&e.user){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,h,p)=>(!c&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,h,p))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:uo}):await this._useSession(async r=>{var n,s,i;const{data:c,error:u}=r;if(u)throw u;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new oo}:await ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:uo})})}catch(r){if(st(r))return lD(r)&&(await this._removeSession(),await to(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new oo;const c=s.session;let u=null,f=null;this.flowType==="pkce"&&e.email!=null&&([u,f]=await hl(this.storage,this.storageKey));const{data:h,error:p}=await ht(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:f}),jwt:c.access_token,xform:uo});if(p)throw p;return c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(n){if(st(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new oo;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:c}=lg(e.access_token);if(c.exp&&(n=c.exp,s=n<=r),s){const{session:u,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!u)return{data:{user:null,session:null},error:null};i=u}else{const{data:u,error:f}=await this._getUser(e.access_token);if(f)throw f;i={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(st(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:c,error:u}=r;if(u)throw u;e=(n=c.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new oo;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(st(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!ts())throw new Af("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Af(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ub("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Af("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ub("No code detected.");const{data:C,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:c,expires_in:u,expires_at:f,token_type:h}=e;if(!i||!u||!c||!h)throw new Af("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(u);let w=p+g;f&&(w=parseInt(f));const y=w-p;y*1e3<=_l&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${g}s`);const S=w-g;p-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,w,p):p-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,w,p);const{data:_,error:b}=await this._getUser(i);if(b)throw b;const N={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:g,expires_at:w,refresh_token:c,token_type:h,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:e.type},error:null}}catch(n){if(st(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ni(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const c=(n=s.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:u}=await this.admin.signOut(c,e);if(u&&!(iD(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await to(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=yD(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await hl(this.storage,this.storageKey,!0));try{return await ht(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(st(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(st(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var c,u,f,h,p;const{data:g,error:w}=i;if(w)throw w;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await ht(this.fetch,"GET",y,{headers:this.headers,jwt:(p=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return ts()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(st(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:c}=r;if(c)throw c;return await ht(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(st(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await _D(async s=>(s>0&&await bD(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ht(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:fa})),(s,i)=>{const c=200*Math.pow(2,s);return i&&ig(i)&&Date.now()+c-n<_l})}catch(n){if(this._debug(r,"error",n),st(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ts()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ni(this.storage,this.storageKey);if(s&&this.userStorage){let c=await ni(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:s.user},await jl(this.userStorage,this.storageKey+"-user",c)),s.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:cg()}else if(s&&!s.user&&!s.user){const c=await ni(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(s.user=c.user,await to(this.storage,this.storageKey+"-user"),await jl(this.storage,this.storageKey,s)):s.user=cg()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<og;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${og}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:c}=await this._callRefreshToken(s.refresh_token);c&&(console.error(c),ig(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:u}=await this._getUser(s.access_token);!u&&(c!=null&&c.user)?(s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new oo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Rh;const{data:i,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!i.session)throw new oo;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const u={session:i.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(i){if(this._debug(s,"error",i),st(i)){const c={session:null,error:i};return ig(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,r)}catch(f){i.push(f)}});if(await Promise.all(c),i.length>0){for(let u=0;u<i.length;u+=1)console.error(i[u]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await jl(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Hb(s);await jl(this.storage,this.storageKey,i)}else{const s=Hb(r);await jl(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await to(this.storage,this.storageKey),await to(this.storage,this.storageKey+"-code-verifier"),await to(this.storage,this.storageKey+"-user"),this.userStorage&&await to(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ts()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_l);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/_l);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${_l}ms, refresh threshold is ${ov} ticks`),s<=ov&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof P1)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ts()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,c]=await hl(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(u.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ht(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(st(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:c}=r;if(c)return{data:null,error:c};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:f,error:h}=await ht(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&(!((s=f==null?void 0:f.totp)===null||s===void 0)&&s.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(r){if(st(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:c,error:u}=await ht(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:u})})}catch(r){if(st(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ht(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(st(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(c=>c.factor_type==="totp"&&c.status==="verified"),i=n.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=lg(s.access_token);let u=null;c.aal&&(u=c.aal);let f=u;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const p=c.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(u=>u.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(u=>u.kid===e),n&&this.jwks_cached_at+aD>s)return n;const{data:i,error:c}=await ht(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(u=>u.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:y,error:S}=await this.getSession();if(S||!y.session)return{data:null,error:S};n=y.session.access_token}const{header:s,payload:i,signature:c,raw:{header:u,payload:f}}=lg(n);r!=null&&r.allowExpired||PD(i.exp);const h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!h){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:c},error:null}}const p=AD(s.alg),g=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,c,pD(`${u}.${f}`)))throw new cv("Invalid JWT signature");return{data:{claims:i,header:s,signature:c},error:null}}catch(n){if(st(n))return{data:null,error:n};throw n}}}yu.nextInstanceID=0;const qD=yu;class YD extends qD{constructor(e){super(e)}}var KD=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function u(p){try{h(n.next(p))}catch(g){c(g)}}function f(p){try{h(n.throw(p))}catch(g){c(g)}}function h(p){p.done?i(p.value):s(p.value).then(u,f)}h((n=n.apply(t,e||[])).next())})};class GD{constructor(e,r,n){var s,i,c;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const u=XR(e),f=new URL(u);this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const h=`sb-${f.hostname.split(".")[0]}-auth-token`,p={db:HR,realtime:YR,auth:Object.assign(Object.assign({},qR),{storageKey:h}),global:WR},g=eD(n??{},p);this.storageKey=(s=g.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=g.global.headers)!==null&&i!==void 0?i:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(w,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=g.auth)!==null&&c!==void 0?c:{},this.headers,g.global.fetch),this.fetch=QR(r,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new dR(new URL("rest/v1",f).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new BR(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new tR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return KD(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:c,flowType:u,lock:f,debug:h},p,g){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new YD({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),p),storageKey:c,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:u,lock:f,debug:h,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new ER(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const JD=(t,e,r)=>new GD(t,e,r);function QD(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}QD()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ZD="https://hrastslmlkkfwsdsbbcn.supabase.co",XD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhyYXN0c2xtbGtrZndzZHNiYmNuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5MTQwMjQsImV4cCI6MjA3MjQ5MDAyNH0.IK4vYRIbV9WEuKy6-BqOIJ54UyUHlD_KgzZva_tlxEw",Ze=JD(ZD,XD,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}});var eO=t=>{switch(t){case"success":return nO;case"info":return aO;case"warning":return sO;case"error":return oO;default:return null}},tO=Array(12).fill(0),rO=({visible:t,className:e})=>ie.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ie.createElement("div",{className:"sonner-spinner"},tO.map((r,n)=>ie.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),nO=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),sO=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),aO=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),oO=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),iO=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ie.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ie.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),lO=()=>{let[t,e]=ie.useState(document.hidden);return ie.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},uv=1,cO=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:uv++,i=this.toasts.find(u=>u.id===s),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...t,id:s,title:r}),{...u,...t,id:s,dismissible:c,title:r}):u):this.addToast({title:r,...n,dismissible:c,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),s=r!==void 0,i,c=n.then(async f=>{if(i=["resolve",f],ie.isValidElement(f))s=!1,this.create({id:r,type:"default",message:f});else if(dO(f)&&!f.ok){s=!1;let h=typeof e.error=="function"?await e.error(`HTTP error! status: ${f.status}`):e.error,p=typeof e.description=="function"?await e.description(`HTTP error! status: ${f.status}`):e.description;this.create({id:r,type:"error",message:h,description:p})}else if(e.success!==void 0){s=!1;let h=typeof e.success=="function"?await e.success(f):e.success,p=typeof e.description=="function"?await e.description(f):e.description;this.create({id:r,type:"success",message:h,description:p})}}).catch(async f=>{if(i=["reject",f],e.error!==void 0){s=!1;let h=typeof e.error=="function"?await e.error(f):e.error,p=typeof e.description=="function"?await e.description(f):e.description;this.create({id:r,type:"error",message:h,description:p})}}).finally(()=>{var f;s&&(this.dismiss(r),r=void 0),(f=e.finally)==null||f.call(e)}),u=()=>new Promise((f,h)=>c.then(()=>i[0]==="reject"?h(i[1]):f(i[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||uv++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},an=new cO,uO=(t,e)=>{let r=(e==null?void 0:e.id)||uv++;return an.addToast({title:t,...e,id:r}),r},dO=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",fO=uO,hO=()=>an.toasts,mO=()=>an.getActiveToasts(),le=Object.assign(fO,{success:an.success,info:an.info,warning:an.warning,error:an.error,custom:an.custom,message:an.message,promise:an.promise,dismiss:an.dismiss,loading:an.loading},{getHistory:hO,getToasts:mO});function pO(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}pO(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Tf(t){return t.label!==void 0}var gO=3,vO="32px",yO="16px",Jb=4e3,xO=356,wO=14,bO=20,_O=200;function es(...t){return t.filter(Boolean).join(" ")}function jO(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var SO=t=>{var e,r,n,s,i,c,u,f,h,p,g;let{invert:w,toast:y,unstyled:S,interacting:_,setHeights:b,visibleToasts:N,heights:C,index:E,toasts:k,expanded:A,removeToast:T,defaultRichColors:I,closeButton:L,style:B,cancelButtonStyle:H,actionButtonStyle:X,className:Q="",descriptionClassName:Y="",duration:ee,position:ne,gap:J,loadingIcon:W,expandByDefault:D,classNames:M,icons:F,closeButtonAriaLabel:O="Close toast",pauseWhenPageIsHidden:R}=t,[Z,z]=ie.useState(null),[U,de]=ie.useState(null),[ae,me]=ie.useState(!1),[ve,je]=ie.useState(!1),[Ce,We]=ie.useState(!1),[At,Oe]=ie.useState(!1),[lt,bt]=ie.useState(!1),[Kt,Gr]=ie.useState(0),[Ar,V]=ie.useState(0),te=ie.useRef(y.duration||ee||Jb),ce=ie.useRef(null),Se=ie.useRef(null),_e=E===0,xe=E+1<=N,ke=y.type,it=y.dismissible!==!1,_t=y.className||"",jr=y.descriptionClassName||"",$r=ie.useMemo(()=>C.findIndex(Xe=>Xe.toastId===y.id)||0,[C,y.id]),Tr=ie.useMemo(()=>{var Xe;return(Xe=y.closeButton)!=null?Xe:L},[y.closeButton,L]),Ii=ie.useMemo(()=>y.duration||ee||Jb,[y.duration,ee]),ks=ie.useRef(0),hn=ie.useRef(0),Mi=ie.useRef(0),mn=ie.useRef(null),[Vo,Oa]=ne.split("-"),Li=ie.useMemo(()=>C.reduce((Xe,Et,Mt)=>Mt>=$r?Xe:Xe+Et.height,0),[C,$r]),$i=lO(),Ia=y.invert||w,Es=ke==="loading";hn.current=ie.useMemo(()=>$r*J+Li,[$r,Li]),ie.useEffect(()=>{te.current=Ii},[Ii]),ie.useEffect(()=>{me(!0)},[]),ie.useEffect(()=>{let Xe=Se.current;if(Xe){let Et=Xe.getBoundingClientRect().height;return V(Et),b(Mt=>[{toastId:y.id,height:Et,position:y.position},...Mt]),()=>b(Mt=>Mt.filter(Fr=>Fr.toastId!==y.id))}},[b,y.id]),ie.useLayoutEffect(()=>{if(!ae)return;let Xe=Se.current,Et=Xe.style.height;Xe.style.height="auto";let Mt=Xe.getBoundingClientRect().height;Xe.style.height=Et,V(Mt),b(Fr=>Fr.find(Jr=>Jr.toastId===y.id)?Fr.map(Jr=>Jr.toastId===y.id?{...Jr,height:Mt}:Jr):[{toastId:y.id,height:Mt,position:y.position},...Fr])},[ae,y.title,y.description,b,y.id]);let Hn=ie.useCallback(()=>{je(!0),Gr(hn.current),b(Xe=>Xe.filter(Et=>Et.toastId!==y.id)),setTimeout(()=>{T(y)},_O)},[y,T,b,hn]);ie.useEffect(()=>{if(y.promise&&ke==="loading"||y.duration===1/0||y.type==="loading")return;let Xe;return A||_||R&&$i?(()=>{if(Mi.current<ks.current){let Et=new Date().getTime()-ks.current;te.current=te.current-Et}Mi.current=new Date().getTime()})():te.current!==1/0&&(ks.current=new Date().getTime(),Xe=setTimeout(()=>{var Et;(Et=y.onAutoClose)==null||Et.call(y,y),Hn()},te.current)),()=>clearTimeout(Xe)},[A,_,y,ke,R,$i,Hn]),ie.useEffect(()=>{y.delete&&Hn()},[Hn,y.delete]);function pd(){var Xe,Et,Mt;return F!=null&&F.loading?ie.createElement("div",{className:es(M==null?void 0:M.loader,(Xe=y==null?void 0:y.classNames)==null?void 0:Xe.loader,"sonner-loader"),"data-visible":ke==="loading"},F.loading):W?ie.createElement("div",{className:es(M==null?void 0:M.loader,(Et=y==null?void 0:y.classNames)==null?void 0:Et.loader,"sonner-loader"),"data-visible":ke==="loading"},W):ie.createElement(rO,{className:es(M==null?void 0:M.loader,(Mt=y==null?void 0:y.classNames)==null?void 0:Mt.loader),visible:ke==="loading"})}return ie.createElement("li",{tabIndex:0,ref:Se,className:es(Q,_t,M==null?void 0:M.toast,(e=y==null?void 0:y.classNames)==null?void 0:e.toast,M==null?void 0:M.default,M==null?void 0:M[ke],(r=y==null?void 0:y.classNames)==null?void 0:r[ke]),"data-sonner-toast":"","data-rich-colors":(n=y.richColors)!=null?n:I,"data-styled":!(y.jsx||y.unstyled||S),"data-mounted":ae,"data-promise":!!y.promise,"data-swiped":lt,"data-removed":ve,"data-visible":xe,"data-y-position":Vo,"data-x-position":Oa,"data-index":E,"data-front":_e,"data-swiping":Ce,"data-dismissible":it,"data-type":ke,"data-invert":Ia,"data-swipe-out":At,"data-swipe-direction":U,"data-expanded":!!(A||D&&ae),style:{"--index":E,"--toasts-before":E,"--z-index":k.length-E,"--offset":`${ve?Kt:hn.current}px`,"--initial-height":D?"auto":`${Ar}px`,...B,...y.style},onDragEnd:()=>{We(!1),z(null),mn.current=null},onPointerDown:Xe=>{Es||!it||(ce.current=new Date,Gr(hn.current),Xe.target.setPointerCapture(Xe.pointerId),Xe.target.tagName!=="BUTTON"&&(We(!0),mn.current={x:Xe.clientX,y:Xe.clientY}))},onPointerUp:()=>{var Xe,Et,Mt,Fr;if(At||!it)return;mn.current=null;let Jr=Number(((Xe=Se.current)==null?void 0:Xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Qr=Number(((Et=Se.current)==null?void 0:Et.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),qn=new Date().getTime()-((Mt=ce.current)==null?void 0:Mt.getTime()),Sr=Z==="x"?Jr:Qr,Ps=Math.abs(Sr)/qn;if(Math.abs(Sr)>=bO||Ps>.11){Gr(hn.current),(Fr=y.onDismiss)==null||Fr.call(y,y),de(Z==="x"?Jr>0?"right":"left":Qr>0?"down":"up"),Hn(),Oe(!0),bt(!1);return}We(!1),z(null)},onPointerMove:Xe=>{var Et,Mt,Fr,Jr;if(!mn.current||!it||((Et=window.getSelection())==null?void 0:Et.toString().length)>0)return;let Qr=Xe.clientY-mn.current.y,qn=Xe.clientX-mn.current.x,Sr=(Mt=t.swipeDirections)!=null?Mt:jO(ne);!Z&&(Math.abs(qn)>1||Math.abs(Qr)>1)&&z(Math.abs(qn)>Math.abs(Qr)?"x":"y");let Ps={x:0,y:0};Z==="y"?(Sr.includes("top")||Sr.includes("bottom"))&&(Sr.includes("top")&&Qr<0||Sr.includes("bottom")&&Qr>0)&&(Ps.y=Qr):Z==="x"&&(Sr.includes("left")||Sr.includes("right"))&&(Sr.includes("left")&&qn<0||Sr.includes("right")&&qn>0)&&(Ps.x=qn),(Math.abs(Ps.x)>0||Math.abs(Ps.y)>0)&&bt(!0),(Fr=Se.current)==null||Fr.style.setProperty("--swipe-amount-x",`${Ps.x}px`),(Jr=Se.current)==null||Jr.style.setProperty("--swipe-amount-y",`${Ps.y}px`)}},Tr&&!y.jsx?ie.createElement("button",{"aria-label":O,"data-disabled":Es,"data-close-button":!0,onClick:Es||!it?()=>{}:()=>{var Xe;Hn(),(Xe=y.onDismiss)==null||Xe.call(y,y)},className:es(M==null?void 0:M.closeButton,(s=y==null?void 0:y.classNames)==null?void 0:s.closeButton)},(i=F==null?void 0:F.close)!=null?i:iO):null,y.jsx||v.isValidElement(y.title)?y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title:ie.createElement(ie.Fragment,null,ke||y.icon||y.promise?ie.createElement("div",{"data-icon":"",className:es(M==null?void 0:M.icon,(c=y==null?void 0:y.classNames)==null?void 0:c.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||pd():null,y.type!=="loading"?y.icon||(F==null?void 0:F[ke])||eO(ke):null):null,ie.createElement("div",{"data-content":"",className:es(M==null?void 0:M.content,(u=y==null?void 0:y.classNames)==null?void 0:u.content)},ie.createElement("div",{"data-title":"",className:es(M==null?void 0:M.title,(f=y==null?void 0:y.classNames)==null?void 0:f.title)},typeof y.title=="function"?y.title():y.title),y.description?ie.createElement("div",{"data-description":"",className:es(Y,jr,M==null?void 0:M.description,(h=y==null?void 0:y.classNames)==null?void 0:h.description)},typeof y.description=="function"?y.description():y.description):null),v.isValidElement(y.cancel)?y.cancel:y.cancel&&Tf(y.cancel)?ie.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||H,onClick:Xe=>{var Et,Mt;Tf(y.cancel)&&it&&((Mt=(Et=y.cancel).onClick)==null||Mt.call(Et,Xe),Hn())},className:es(M==null?void 0:M.cancelButton,(p=y==null?void 0:y.classNames)==null?void 0:p.cancelButton)},y.cancel.label):null,v.isValidElement(y.action)?y.action:y.action&&Tf(y.action)?ie.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||X,onClick:Xe=>{var Et,Mt;Tf(y.action)&&((Mt=(Et=y.action).onClick)==null||Mt.call(Et,Xe),!Xe.defaultPrevented&&Hn())},className:es(M==null?void 0:M.actionButton,(g=y==null?void 0:y.classNames)==null?void 0:g.actionButton)},y.action.label):null))};function Qb(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function NO(t,e){let r={};return[t,e].forEach((n,s)=>{let i=s===1,c=i?"--mobile-offset":"--offset",u=i?yO:vO;function f(h){["top","right","bottom","left"].forEach(p=>{r[`${c}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof n=="number"||typeof n=="string"?f(n):typeof n=="object"?["top","right","bottom","left"].forEach(h=>{n[h]===void 0?r[`${c}-${h}`]=u:r[`${c}-${h}`]=typeof n[h]=="number"?`${n[h]}px`:n[h]}):f(u)}),r}var CO=v.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:c,className:u,offset:f,mobileOffset:h,theme:p="light",richColors:g,duration:w,style:y,visibleToasts:S=gO,toastOptions:_,dir:b=Qb(),gap:N=wO,loadingIcon:C,icons:E,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:A}=t,[T,I]=ie.useState([]),L=ie.useMemo(()=>Array.from(new Set([n].concat(T.filter(R=>R.position).map(R=>R.position)))),[T,n]),[B,H]=ie.useState([]),[X,Q]=ie.useState(!1),[Y,ee]=ie.useState(!1),[ne,J]=ie.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=ie.useRef(null),D=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=ie.useRef(null),F=ie.useRef(!1),O=ie.useCallback(R=>{I(Z=>{var z;return(z=Z.find(U=>U.id===R.id))!=null&&z.delete||an.dismiss(R.id),Z.filter(({id:U})=>U!==R.id)})},[]);return ie.useEffect(()=>an.subscribe(R=>{if(R.dismiss){I(Z=>Z.map(z=>z.id===R.id?{...z,delete:!0}:z));return}setTimeout(()=>{Qj.flushSync(()=>{I(Z=>{let z=Z.findIndex(U=>U.id===R.id);return z!==-1?[...Z.slice(0,z),{...Z[z],...R},...Z.slice(z+1)]:[R,...Z]})})})}),[]),ie.useEffect(()=>{if(p!=="system"){J(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;let R=window.matchMedia("(prefers-color-scheme: dark)");try{R.addEventListener("change",({matches:Z})=>{J(Z?"dark":"light")})}catch{R.addListener(({matches:z})=>{try{J(z?"dark":"light")}catch(U){console.error(U)}})}},[p]),ie.useEffect(()=>{T.length<=1&&Q(!1)},[T]),ie.useEffect(()=>{let R=Z=>{var z,U;s.every(de=>Z[de]||Z.code===de)&&(Q(!0),(z=W.current)==null||z.focus()),Z.code==="Escape"&&(document.activeElement===W.current||(U=W.current)!=null&&U.contains(document.activeElement))&&Q(!1)};return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[s]),ie.useEffect(()=>{if(W.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,F.current=!1)}},[W.current]),ie.createElement("section",{ref:e,"aria-label":`${k} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},L.map((R,Z)=>{var z;let[U,de]=R.split("-");return T.length?ie.createElement("ol",{key:R,dir:b==="auto"?Qb():b,tabIndex:-1,ref:W,className:u,"data-sonner-toaster":!0,"data-theme":ne,"data-y-position":U,"data-lifted":X&&T.length>1&&!i,"data-x-position":de,style:{"--front-toast-height":`${((z=B[0])==null?void 0:z.height)||0}px`,"--width":`${xO}px`,"--gap":`${N}px`,...y,...NO(f,h)},onBlur:ae=>{F.current&&!ae.currentTarget.contains(ae.relatedTarget)&&(F.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||F.current||(F.current=!0,M.current=ae.relatedTarget)},onMouseEnter:()=>Q(!0),onMouseMove:()=>Q(!0),onMouseLeave:()=>{Y||Q(!1)},onDragEnd:()=>Q(!1),onPointerDown:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||ee(!0)},onPointerUp:()=>ee(!1)},T.filter(ae=>!ae.position&&Z===0||ae.position===R).map((ae,me)=>{var ve,je;return ie.createElement(SO,{key:ae.id,icons:E,index:me,toast:ae,defaultRichColors:g,duration:(ve=_==null?void 0:_.duration)!=null?ve:w,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:r,visibleToasts:S,closeButton:(je=_==null?void 0:_.closeButton)!=null?je:c,interacting:Y,position:R,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,removeToast:O,toasts:T.filter(Ce=>Ce.position==ae.position),heights:B.filter(Ce=>Ce.position==ae.position),setHeights:H,expandByDefault:i,gap:N,loadingIcon:C,expanded:X,pauseWhenPageIsHidden:A,swipeDirections:t.swipeDirections})})):null}))});const A1=v.createContext(void 0),kO=({children:t,initialSession:e,initialUser:r})=>{const[n,s]=v.useState(e),[i,c]=v.useState(r),[u,f]=v.useState(null),[h,p]=v.useState(void 0),[g,w]=v.useState(!0),y=er(),S=Lo(),_=v.useRef((r==null?void 0:r.id)||null);v.useEffect(()=>{let E=!0;console.log("AuthContextProvider: useEffect for auth state changes mounted."),Ze.auth.getSession().then(({data:A})=>{var T,I,L;E&&(console.log("AuthContextProvider: Initial getSession data:",A),s(A.session||null),c(((T=A.session)==null?void 0:T.user)||null),_.current=((L=(I=A.session)==null?void 0:I.user)==null?void 0:L.id)||null,w(!1))}).catch(A=>{console.error("AuthContextProvider: Error during initial getSession:",A),w(!1)});const{data:k}=Ze.auth.onAuthStateChange((A,T)=>{var I,L,B;console.log("AuthContextProvider: Supabase auth event:",A,"Session user ID:",(I=T==null?void 0:T.user)==null?void 0:I.id),E&&(A==="SIGNED_IN"?(L=T==null?void 0:T.user)!=null&&L.id&&T.user.id!==_.current?(console.log("AuthContextProvider: SIGNED_IN - New user detected."),s(T),c(T.user),_.current=T.user.id,w(!1)):!((B=T==null?void 0:T.user)!=null&&B.id)&&_.current?(console.log("AuthContextProvider: SIGNED_IN with no user, but ref had one. Treating as sign out."),s(null),c(null),_.current=null,w(!1)):console.log("AuthContextProvider: SIGNED_IN - Same user, no state change."):A==="SIGNED_OUT"?(console.log("AuthContextProvider: SIGNED_OUT event."),s(null),c(null),_.current=null,w(!1)):console.log(`AuthContextProvider: Auth event '${A}' - no explicit state change.`))});return()=>{E=!1,k.subscription.unsubscribe(),console.log("AuthContextProvider: useEffect for auth state changes unmounted.")}},[]);const b=v.useCallback(async E=>{if(console.log("AuthContextProvider: fetchProfile called for user:",E==null?void 0:E.id),f(null),p(void 0),!E){console.log("AuthContextProvider: No current user, skipping profile fetch.");return}try{const{data:k,error:A}=await Ze.from("profiles").select("*").eq("id",E.id).single();A&&A.code!=="PGRST116"?(console.error("AuthContextProvider: Error fetching profile from DB:",A),le.error("Failed to load user profile.")):k?(console.log("AuthContextProvider: Profile fetched successfully:",k),f(k),p(k.role||void 0)):(console.log("AuthContextProvider: No profile row found for this user."),le.error("No user profile found. Please contact an administrator."))}catch(k){console.error("AuthContextProvider: Unexpected error fetching profile:",k),le.error("An unexpected error occurred while fetching profile.")}},[]);v.useEffect(()=>{console.log("AuthContextProvider: useEffect for user/profile changes. User:",i==null?void 0:i.id,"isLoadingAuth:",g),i&&!g?b(i):i||(console.log("AuthContextProvider: No user, clearing profile/role."),f(null),p(void 0))},[i,b,g]),v.useEffect(()=>{console.log("AuthContextProvider: useEffect for redirection. isLoadingAuth:",g,"User:",i==null?void 0:i.id,"UserRole:",h,"Path:",S.pathname),!g&&i?S.pathname==="/login"&&(h==="admin"?(console.log("AuthContextProvider: Redirecting to /admin/users (admin)."),y("/admin/users")):h==="office"||h==="driver"?(console.log("AuthContextProvider: Redirecting to / (office/driver)."),y("/")):(console.log("AuthContextProvider: Redirecting to / (logged in, no specific role)."),y("/"))):!g&&!i&&S.pathname!=="/login"&&(console.log("AuthContextProvider: Not logged in, redirecting to /login."),y("/login"))},[g,i,h,y,S.pathname]);const N=async(E,k)=>{console.log("AuthContextProvider: login called for:",E);let A=E;E.includes("@")||(A=`${E}@login.local`);const{error:T}=await Ze.auth.signInWithPassword({email:A,password:k});return T?(console.error("AuthContextProvider: Login failed:",T.message),le.error(T.message),{success:!1,error:T.message}):(console.log("AuthContextProvider: Login successful."),le.success("Logged in successfully!"),{success:!0})},C=async()=>{console.log("AuthContextProvider: logout called.");const{error:E}=await Ze.auth.signOut();E?(console.error("AuthContextProvider: Logout failed:",E.message),le.error("Failed to log out: "+E.message)):(console.log("AuthContextProvider: Logout successful."),le.info("Logged out."))};return o.jsx(A1.Provider,{value:{session:n,user:i,profile:u,userRole:h,isLoadingAuth:g,login:N,logout:C},children:t})},tr=()=>{const t=v.useContext(A1);if(t===void 0)throw new Error("useAuth must be used within an AuthContextProvider");return t};function Zb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ba(...t){return e=>{let r=!1;const n=t.map(s=>{const i=Zb(s,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Zb(t[s],null)}}}}function ot(...t){return v.useCallback(ba(...t),t)}function Co(t){const e=EO(t),r=v.forwardRef((n,s)=>{const{children:i,...c}=n,u=v.Children.toArray(i),f=u.find(AO);if(f){const h=f.props.children,p=u.map(g=>g===f?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:g);return o.jsx(e,{...c,ref:s,children:v.isValidElement(h)?v.cloneElement(h,void 0,p):null})}return o.jsx(e,{...c,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}var gy=Co("Slot");function EO(t){const e=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const c=RO(s),u=TO(i,s.props);return s.type!==v.Fragment&&(u.ref=n?ba(n,c):c),v.cloneElement(s,u)}return v.Children.count(s)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var T1=Symbol("radix.slottable");function PO(t){const e=({children:r})=>o.jsx(o.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=T1,e}function AO(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===T1}function TO(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...u)=>{const f=i(...u);return s(...u),f}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function RO(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function R1(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=R1(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function D1(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=R1(t))&&(n&&(n+=" "),n+=e);return n}const Xb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,e_=D1,zu=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return e_(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=e,c=Object.keys(s).map(h=>{const p=r==null?void 0:r[h],g=i==null?void 0:i[h];if(p===null)return null;const w=Xb(p)||Xb(g);return s[h][w]}),u=r&&Object.entries(r).reduce((h,p)=>{let[g,w]=p;return w===void 0||(h[g]=w),h},{}),f=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((h,p)=>{let{class:g,className:w,...y}=p;return Object.entries(y).every(S=>{let[_,b]=S;return Array.isArray(b)?b.includes({...i,...u}[_]):{...i,...u}[_]===b})?[...h,g,w]:h},[]);return e_(t,c,f,r==null?void 0:r.class,r==null?void 0:r.className)},vy="-",DO=t=>{const e=IO(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:c=>{const u=c.split(vy);return u[0]===""&&u.length!==1&&u.shift(),O1(u,e)||OO(c)},getConflictingClassGroupIds:(c,u)=>{const f=r[c]||[];return u&&n[c]?[...f,...n[c]]:f}}},O1=(t,e)=>{var c;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?O1(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(vy);return(c=e.validators.find(({validator:u})=>u(i)))==null?void 0:c.classGroupId},t_=/^\[(.+)\]$/,OO=t=>{if(t_.test(t)){const e=t_.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},IO=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return LO(Object.entries(t.classGroups),r).forEach(([i,c])=>{dv(c,n,i,e)}),n},dv=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:r_(e,s);i.classGroupId=r;return}if(typeof s=="function"){if(MO(s)){dv(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,c])=>{dv(c,r_(e,i),r,n)})})},r_=(t,e)=>{let r=t;return e.split(vy).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},MO=t=>t.isThemeGetter,LO=(t,e)=>e?t.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([c,u])=>[e+c,u])):i);return[r,s]}):t,$O=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(i,c)=>{r.set(i,c),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let c=r.get(i);if(c!==void 0)return c;if((c=n.get(i))!==void 0)return s(i,c),c},set(i,c){r.has(i)?r.set(i,c):s(i,c)}}},I1="!",FO=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],i=e.length,c=u=>{const f=[];let h=0,p=0,g;for(let b=0;b<u.length;b++){let N=u[b];if(h===0){if(N===s&&(n||u.slice(b,b+i)===e)){f.push(u.slice(p,b)),p=b+i;continue}if(N==="/"){g=b;continue}}N==="["?h++:N==="]"&&h--}const w=f.length===0?u:u.substring(p),y=w.startsWith(I1),S=y?w.substring(1):w,_=g&&g>p?g-p:void 0;return{modifiers:f,hasImportantModifier:y,baseClassName:S,maybePostfixModifierPosition:_}};return r?u=>r({className:u,parseClassName:c}):c},UO=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},BO=t=>({cache:$O(t.cacheSize),parseClassName:FO(t),...DO(t)}),VO=/\s+/,zO=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,i=[],c=t.trim().split(VO);let u="";for(let f=c.length-1;f>=0;f-=1){const h=c[f],{modifiers:p,hasImportantModifier:g,baseClassName:w,maybePostfixModifierPosition:y}=r(h);let S=!!y,_=n(S?w.substring(0,y):w);if(!_){if(!S){u=h+(u.length>0?" "+u:u);continue}if(_=n(w),!_){u=h+(u.length>0?" "+u:u);continue}S=!1}const b=UO(p).join(":"),N=g?b+I1:b,C=N+_;if(i.includes(C))continue;i.push(C);const E=s(_,S);for(let k=0;k<E.length;++k){const A=E[k];i.push(N+A)}u=h+(u.length>0?" "+u:u)}return u};function WO(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=M1(e))&&(n&&(n+=" "),n+=r);return n}const M1=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=M1(t[n]))&&(r&&(r+=" "),r+=e);return r};function HO(t,...e){let r,n,s,i=c;function c(f){const h=e.reduce((p,g)=>g(p),t());return r=BO(h),n=r.cache.get,s=r.cache.set,i=u,u(f)}function u(f){const h=n(f);if(h)return h;const p=zO(f,r);return s(f,p),p}return function(){return i(WO.apply(null,arguments))}}const zt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},L1=/^\[(?:([a-z-]+):)?(.+)\]$/i,qO=/^\d+\/\d+$/,YO=new Set(["px","full","screen"]),KO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,GO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,JO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,QO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ZO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ca=t=>El(t)||YO.has(t)||qO.test(t),ro=t=>oc(t,"length",oI),El=t=>!!t&&!Number.isNaN(Number(t)),dg=t=>oc(t,"number",El),Jc=t=>!!t&&Number.isInteger(Number(t)),XO=t=>t.endsWith("%")&&El(t.slice(0,-1)),at=t=>L1.test(t),no=t=>KO.test(t),eI=new Set(["length","size","percentage"]),tI=t=>oc(t,eI,$1),rI=t=>oc(t,"position",$1),nI=new Set(["image","url"]),sI=t=>oc(t,nI,lI),aI=t=>oc(t,"",iI),Qc=()=>!0,oc=(t,e,r)=>{const n=L1.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},oI=t=>GO.test(t)&&!JO.test(t),$1=()=>!1,iI=t=>QO.test(t),lI=t=>ZO.test(t),cI=()=>{const t=zt("colors"),e=zt("spacing"),r=zt("blur"),n=zt("brightness"),s=zt("borderColor"),i=zt("borderRadius"),c=zt("borderSpacing"),u=zt("borderWidth"),f=zt("contrast"),h=zt("grayscale"),p=zt("hueRotate"),g=zt("invert"),w=zt("gap"),y=zt("gradientColorStops"),S=zt("gradientColorStopPositions"),_=zt("inset"),b=zt("margin"),N=zt("opacity"),C=zt("padding"),E=zt("saturate"),k=zt("scale"),A=zt("sepia"),T=zt("skew"),I=zt("space"),L=zt("translate"),B=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],X=()=>["auto",at,e],Q=()=>[at,e],Y=()=>["",ca,ro],ee=()=>["auto",El,at],ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",at],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[El,at];return{cacheSize:500,separator:":",theme:{colors:[Qc],spacing:[ca,ro],blur:["none","",no,at],brightness:O(),borderColor:[t],borderRadius:["none","","full",no,at],borderSpacing:Q(),borderWidth:Y(),contrast:O(),grayscale:M(),hueRotate:O(),invert:M(),gap:Q(),gradientColorStops:[t],gradientColorStopPositions:[XO,ro],inset:X(),margin:X(),opacity:O(),padding:Q(),saturate:O(),scale:O(),sepia:M(),skew:O(),space:Q(),translate:Q()},classGroups:{aspect:[{aspect:["auto","square","video",at]}],container:["container"],columns:[{columns:[no]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ne(),at]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Jc,at]}],basis:[{basis:X()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",at]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",Jc,at]}],"grid-cols":[{"grid-cols":[Qc]}],"col-start-end":[{col:["auto",{span:["full",Jc,at]},at]}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":[Qc]}],"row-start-end":[{row:["auto",{span:[Jc,at]},at]}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",at]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",at]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",at,e]}],"min-w":[{"min-w":[at,e,"min","max","fit"]}],"max-w":[{"max-w":[at,e,"none","full","min","max","fit","prose",{screen:[no]},no]}],h:[{h:[at,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[at,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[at,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[at,e,"auto","min","max","fit"]}],"font-size":[{text:["base",no,ro]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",dg]}],"font-family":[{font:[Qc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",at]}],"line-clamp":[{"line-clamp":["none",El,dg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ca,at]}],"list-image":[{"list-image":["none",at]}],"list-style-type":[{list:["none","disc","decimal",at]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ca,ro]}],"underline-offset":[{"underline-offset":["auto",ca,at]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",at]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",at]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ne(),rI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",tI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sI]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[ca,at]}],"outline-w":[{outline:[ca,ro]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[ca,ro]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",no,aI]}],"shadow-color":[{shadow:[Qc]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",no,at]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[g]}],saturate:[{saturate:[E]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",at]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",at]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",at]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Jc,at]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",at]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",at]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Q()}],"scroll-mx":[{"scroll-mx":Q()}],"scroll-my":[{"scroll-my":Q()}],"scroll-ms":[{"scroll-ms":Q()}],"scroll-me":[{"scroll-me":Q()}],"scroll-mt":[{"scroll-mt":Q()}],"scroll-mr":[{"scroll-mr":Q()}],"scroll-mb":[{"scroll-mb":Q()}],"scroll-ml":[{"scroll-ml":Q()}],"scroll-p":[{"scroll-p":Q()}],"scroll-px":[{"scroll-px":Q()}],"scroll-py":[{"scroll-py":Q()}],"scroll-ps":[{"scroll-ps":Q()}],"scroll-pe":[{"scroll-pe":Q()}],"scroll-pt":[{"scroll-pt":Q()}],"scroll-pr":[{"scroll-pr":Q()}],"scroll-pb":[{"scroll-pb":Q()}],"scroll-pl":[{"scroll-pl":Q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",at]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ca,ro,dg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},uI=HO(cI);function fe(...t){return uI(D1(t))}const xu=zu("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:scale-[1.02]",{variants:{variant:{default:"bg-white text-blue-600 border border-blue-500 hover:bg-blue-600 hover:text-white hover:shadow-md",destructive:"bg-red-600 text-white hover:bg-red-700 hover:shadow-md",outline:"border border-blue-500 bg-white text-blue-600 hover:bg-blue-600 hover:text-white hover:shadow-md",secondary:"bg-white text-blue-600 border border-blue-500 hover:bg-blue-600 hover:text-white hover:shadow-md",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ue=v.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},i)=>{const c=n?gy:"button";return o.jsx(c,{className:fe(xu({variant:e,size:r,className:t})),ref:i,...s})});ue.displayName="Button";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),F1=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:c,...u},f)=>v.createElement("svg",{ref:f,...fI,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:F1("lucide",s),...u},[...c.map(([h,p])=>v.createElement(h,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=(t,e)=>{const r=v.forwardRef(({className:n,...s},i)=>v.createElement(hI,{ref:i,iconNode:e,className:F1(`lucide-${dI(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=Ke("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=Ke("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=Ke("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=Ke("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=Ke("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=Ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=Ke("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=Ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=Ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=Ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=Ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=Ke("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=Ke("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=Ke("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=Ke("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=Ke("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=Ke("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=Ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=Ke("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=Ke("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=Ke("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=Ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=Ke("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=Ke("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=Ke("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=Ke("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=Ke("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=Ke("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=Ke("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=Ke("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=Ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=Ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=Ke("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=Ke("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=Ke("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=Ke("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=Ke("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=Ke("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=Ke("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=Ke("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=Ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=Ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=Ke("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=Ke("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=Ke("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=Ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=Ke("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=Ke("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=Ke("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=Ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=Ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=Ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),fg=768;function J1(){const[t,e]=v.useState(void 0);return v.useEffect(()=>{const r=window.matchMedia(`(max-width: ${fg-1}px)`),n=()=>{e(window.innerWidth<fg)};return r.addEventListener("change",n),e(window.innerWidth<fg),()=>r.removeEventListener("change",n)},[]),!!t}function EI(t,e){const r=v.createContext(e),n=i=>{const{children:c,...u}=i,f=v.useMemo(()=>u,Object.values(u));return o.jsx(r.Provider,{value:f,children:c})};n.displayName=t+"Provider";function s(i){const c=v.useContext(r);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,s]}function dn(t,e=[]){let r=[];function n(i,c){const u=v.createContext(c),f=r.length;r=[...r,c];const h=g=>{var N;const{scope:w,children:y,...S}=g,_=((N=w==null?void 0:w[t])==null?void 0:N[f])||u,b=v.useMemo(()=>S,Object.values(S));return o.jsx(_.Provider,{value:b,children:y})};h.displayName=i+"Provider";function p(g,w){var _;const y=((_=w==null?void 0:w[t])==null?void 0:_[f])||u,S=v.useContext(y);if(S)return S;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[h,p]}const s=()=>{const i=r.map(c=>v.createContext(c));return function(u){const f=(u==null?void 0:u[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...u,[t]:f}}),[u,f])}};return s.scopeName=t,[n,PI(s,...e)]}function PI(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const c=n.reduce((u,{useScope:f,scopeName:h})=>{const g=f(i)[`__scope${h}`];return{...u,...g}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return r.scopeName=e.scopeName,r}function br(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}var dr=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},AI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Le=AI.reduce((t,e)=>{const r=Co(`Primitive.${e}`),n=v.forwardRef((s,i)=>{const{asChild:c,...u}=s,f=c?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(f,{...u,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Q1(t,e){t&&Fu.flushSync(()=>t.dispatchEvent(e))}var hg={exports:{}},mg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function TI(){if(n_)return mg;n_=1;var t=$u();function e(g,w){return g===w&&(g!==0||1/g===1/w)||g!==g&&w!==w}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,s=t.useEffect,i=t.useLayoutEffect,c=t.useDebugValue;function u(g,w){var y=w(),S=n({inst:{value:y,getSnapshot:w}}),_=S[0].inst,b=S[1];return i(function(){_.value=y,_.getSnapshot=w,f(_)&&b({inst:_})},[g,y,w]),s(function(){return f(_)&&b({inst:_}),g(function(){f(_)&&b({inst:_})})},[g]),c(y),y}function f(g){var w=g.getSnapshot;g=g.value;try{var y=w();return!r(g,y)}catch{return!0}}function h(g,w){return w()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return mg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,mg}var s_;function RI(){return s_||(s_=1,hg.exports=TI()),hg.exports}var DI=RI();function OI(){return DI.useSyncExternalStore(II,()=>!0,()=>!1)}function II(){return()=>{}}var jy="Avatar",[MI,U7]=dn(jy),[LI,Z1]=MI(jy),X1=v.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[s,i]=v.useState("idle");return o.jsx(LI,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:o.jsx(Le.span,{...n,ref:e})})});X1.displayName=jy;var eS="AvatarImage",tS=v.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=t,c=Z1(eS,r),u=$I(n,i),f=br(h=>{s(h),c.onImageLoadingStatusChange(h)});return dr(()=>{u!=="idle"&&f(u)},[u,f]),u==="loaded"?o.jsx(Le.img,{...i,ref:e,src:n}):null});tS.displayName=eS;var rS="AvatarFallback",nS=v.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...s}=t,i=Z1(rS,r),[c,u]=v.useState(n===void 0);return v.useEffect(()=>{if(n!==void 0){const f=window.setTimeout(()=>u(!0),n);return()=>window.clearTimeout(f)}},[n]),c&&i.imageLoadingStatus!=="loaded"?o.jsx(Le.span,{...s,ref:e}):null});nS.displayName=rS;function a_(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function $I(t,{referrerPolicy:e,crossOrigin:r}){const n=OI(),s=v.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[c,u]=v.useState(()=>a_(i,t));return dr(()=>{u(a_(i,t))},[i,t]),dr(()=>{const f=g=>()=>{u(g)};if(!i)return;const h=f("loaded"),p=f("error");return i.addEventListener("load",h),i.addEventListener("error",p),e&&(i.referrerPolicy=e),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",h),i.removeEventListener("error",p)}},[i,r,e]),c}var sS=X1,aS=tS,oS=nS;const ja=v.forwardRef(({className:t,...e},r)=>o.jsx(sS,{ref:r,className:fe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));ja.displayName=sS.displayName;const FI=v.forwardRef(({className:t,...e},r)=>o.jsx(aS,{ref:r,className:fe("aspect-square h-full w-full",t),...e}));FI.displayName=aS.displayName;const Sa=v.forwardRef(({className:t,...e},r)=>o.jsx(oS,{ref:r,className:fe("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Sa.displayName=oS.displayName;function Ne(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}var UI=uy[" useInsertionEffect ".trim().toString()]||dr;function Na({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,i,c]=BI({defaultProp:e,onChange:r}),u=t!==void 0,f=u?t:s;{const p=v.useRef(t!==void 0);v.useEffect(()=>{const g=p.current;g!==u&&console.warn(`${n} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,n])}const h=v.useCallback(p=>{var g;if(u){const w=VI(p)?p(t):p;w!==t&&((g=c.current)==null||g.call(c,w))}else i(p)},[u,t,i,c]);return[f,h]}function BI({defaultProp:t,onChange:e}){const[r,n]=v.useState(t),s=v.useRef(r),i=v.useRef(e);return UI(()=>{i.current=e},[e]),v.useEffect(()=>{var c;s.current!==r&&((c=i.current)==null||c.call(i,r),s.current=r)},[r,s]),[r,n,i]}function VI(t){return typeof t=="function"}function Sy(t){const e=t+"CollectionProvider",[r,n]=dn(e),[s,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),c=_=>{const{scope:b,children:N}=_,C=ie.useRef(null),E=ie.useRef(new Map).current;return o.jsx(s,{scope:b,itemMap:E,collectionRef:C,children:N})};c.displayName=e;const u=t+"CollectionSlot",f=Co(u),h=ie.forwardRef((_,b)=>{const{scope:N,children:C}=_,E=i(u,N),k=ot(b,E.collectionRef);return o.jsx(f,{ref:k,children:C})});h.displayName=u;const p=t+"CollectionItemSlot",g="data-radix-collection-item",w=Co(p),y=ie.forwardRef((_,b)=>{const{scope:N,children:C,...E}=_,k=ie.useRef(null),A=ot(b,k),T=i(p,N);return ie.useEffect(()=>(T.itemMap.set(k,{ref:k,...E}),()=>void T.itemMap.delete(k))),o.jsx(w,{[g]:"",ref:A,children:C})});y.displayName=p;function S(_){const b=i(t+"CollectionConsumer",_);return ie.useCallback(()=>{const C=b.collectionRef.current;if(!C)return[];const E=Array.from(C.querySelectorAll(`[${g}]`));return Array.from(b.itemMap.values()).sort((T,I)=>E.indexOf(T.ref.current)-E.indexOf(I.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:c,Slot:h,ItemSlot:y},S,n]}var zI=v.createContext(void 0);function Hu(t){const e=v.useContext(zI);return t||e||"ltr"}function WI(t,e=globalThis==null?void 0:globalThis.document){const r=br(t);v.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var HI="DismissableLayer",pv="dismissableLayer.update",qI="dismissableLayer.pointerDownOutside",YI="dismissableLayer.focusOutside",o_,iS=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qu=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:c,onDismiss:u,...f}=t,h=v.useContext(iS),[p,g]=v.useState(null),w=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=v.useState({}),S=ot(e,I=>g(I)),_=Array.from(h.layers),[b]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=_.indexOf(b),C=p?_.indexOf(p):-1,E=h.layersWithOutsidePointerEventsDisabled.size>0,k=C>=N,A=JI(I=>{const L=I.target,B=[...h.branches].some(H=>H.contains(L));!k||B||(s==null||s(I),c==null||c(I),I.defaultPrevented||u==null||u())},w),T=QI(I=>{const L=I.target;[...h.branches].some(H=>H.contains(L))||(i==null||i(I),c==null||c(I),I.defaultPrevented||u==null||u())},w);return WI(I=>{C===h.layers.size-1&&(n==null||n(I),!I.defaultPrevented&&u&&(I.preventDefault(),u()))},w),v.useEffect(()=>{if(p)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(o_=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),i_(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=o_)}},[p,w,r,h]),v.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),i_())},[p,h]),v.useEffect(()=>{const I=()=>y({});return document.addEventListener(pv,I),()=>document.removeEventListener(pv,I)},[]),o.jsx(Le.div,{...f,ref:S,style:{pointerEvents:E?k?"auto":"none":void 0,...t.style},onFocusCapture:Ne(t.onFocusCapture,T.onFocusCapture),onBlurCapture:Ne(t.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Ne(t.onPointerDownCapture,A.onPointerDownCapture)})});qu.displayName=HI;var KI="DismissableLayerBranch",GI=v.forwardRef((t,e)=>{const r=v.useContext(iS),n=v.useRef(null),s=ot(e,n);return v.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(Le.div,{...t,ref:s})});GI.displayName=KI;function JI(t,e=globalThis==null?void 0:globalThis.document){const r=br(t),n=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=u=>{if(u.target&&!n.current){let f=function(){lS(qI,r,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=f,e.addEventListener("click",s.current,{once:!0})):f()}else e.removeEventListener("click",s.current);n.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function QI(t,e=globalThis==null?void 0:globalThis.document){const r=br(t),n=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!n.current&&lS(YI,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function i_(){const t=new CustomEvent(pv);document.dispatchEvent(t)}function lS(t,e,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Q1(s,i):s.dispatchEvent(i)}var pg=0;function Lh(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??l_()),document.body.insertAdjacentElement("beforeend",t[1]??l_()),pg++,()=>{pg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),pg--}},[])}function l_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var gg="focusScope.autoFocusOnMount",vg="focusScope.autoFocusOnUnmount",c_={bubbles:!1,cancelable:!0},ZI="FocusScope",Yu=v.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...c}=t,[u,f]=v.useState(null),h=br(s),p=br(i),g=v.useRef(null),w=ot(e,_=>f(_)),y=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let _=function(E){if(y.paused||!u)return;const k=E.target;u.contains(k)?g.current=k:io(g.current,{select:!0})},b=function(E){if(y.paused||!u)return;const k=E.relatedTarget;k!==null&&(u.contains(k)||io(g.current,{select:!0}))},N=function(E){if(document.activeElement===document.body)for(const A of E)A.removedNodes.length>0&&io(u)};document.addEventListener("focusin",_),document.addEventListener("focusout",b);const C=new MutationObserver(N);return u&&C.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",b),C.disconnect()}}},[n,u,y.paused]),v.useEffect(()=>{if(u){d_.add(y);const _=document.activeElement;if(!u.contains(_)){const N=new CustomEvent(gg,c_);u.addEventListener(gg,h),u.dispatchEvent(N),N.defaultPrevented||(XI(sM(cS(u)),{select:!0}),document.activeElement===_&&io(u))}return()=>{u.removeEventListener(gg,h),setTimeout(()=>{const N=new CustomEvent(vg,c_);u.addEventListener(vg,p),u.dispatchEvent(N),N.defaultPrevented||io(_??document.body,{select:!0}),u.removeEventListener(vg,p),d_.remove(y)},0)}}},[u,h,p,y]);const S=v.useCallback(_=>{if(!r&&!n||y.paused)return;const b=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,N=document.activeElement;if(b&&N){const C=_.currentTarget,[E,k]=eM(C);E&&k?!_.shiftKey&&N===k?(_.preventDefault(),r&&io(E,{select:!0})):_.shiftKey&&N===E&&(_.preventDefault(),r&&io(k,{select:!0})):N===C&&_.preventDefault()}},[r,n,y.paused]);return o.jsx(Le.div,{tabIndex:-1,...c,ref:w,onKeyDown:S})});Yu.displayName=ZI;function XI(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(io(n,{select:e}),document.activeElement!==r)return}function eM(t){const e=cS(t),r=u_(e,t),n=u_(e.reverse(),t);return[r,n]}function cS(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function u_(t,e){for(const r of t)if(!tM(r,{upTo:e}))return r}function tM(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function rM(t){return t instanceof HTMLInputElement&&"select"in t}function io(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&rM(t)&&e&&t.select()}}var d_=nM();function nM(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=f_(t,e),t.unshift(e)},remove(e){var r;t=f_(t,e),(r=t[0])==null||r.resume()}}}function f_(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function sM(t){return t.filter(e=>e.tagName!=="A")}var aM=uy[" useId ".trim().toString()]||(()=>{}),oM=0;function Pr(t){const[e,r]=v.useState(aM());return dr(()=>{r(n=>n??String(oM++))},[t]),e?`radix-${e}`:""}const iM=["top","right","bottom","left"],ko=Math.min,wn=Math.max,th=Math.round,Rf=Math.floor,Ws=t=>({x:t,y:t}),lM={left:"right",right:"left",bottom:"top",top:"bottom"},cM={start:"end",end:"start"};function gv(t,e,r){return wn(t,ko(e,r))}function Ca(t,e){return typeof t=="function"?t(e):t}function ka(t){return t.split("-")[0]}function ic(t){return t.split("-")[1]}function Ny(t){return t==="x"?"y":"x"}function Cy(t){return t==="y"?"height":"width"}const uM=new Set(["top","bottom"]);function Us(t){return uM.has(ka(t))?"y":"x"}function ky(t){return Ny(Us(t))}function dM(t,e,r){r===void 0&&(r=!1);const n=ic(t),s=ky(t),i=Cy(s);let c=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(c=rh(c)),[c,rh(c)]}function fM(t){const e=rh(t);return[vv(t),e,vv(e)]}function vv(t){return t.replace(/start|end/g,e=>cM[e])}const h_=["left","right"],m_=["right","left"],hM=["top","bottom"],mM=["bottom","top"];function pM(t,e,r){switch(t){case"top":case"bottom":return r?e?m_:h_:e?h_:m_;case"left":case"right":return e?hM:mM;default:return[]}}function gM(t,e,r,n){const s=ic(t);let i=pM(ka(t),r==="start",n);return s&&(i=i.map(c=>c+"-"+s),e&&(i=i.concat(i.map(vv)))),i}function rh(t){return t.replace(/left|right|bottom|top/g,e=>lM[e])}function vM(t){return{top:0,right:0,bottom:0,left:0,...t}}function uS(t){return typeof t!="number"?vM(t):{top:t,right:t,bottom:t,left:t}}function nh(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function p_(t,e,r){let{reference:n,floating:s}=t;const i=Us(e),c=ky(e),u=Cy(c),f=ka(e),h=i==="y",p=n.x+n.width/2-s.width/2,g=n.y+n.height/2-s.height/2,w=n[u]/2-s[u]/2;let y;switch(f){case"top":y={x:p,y:n.y-s.height};break;case"bottom":y={x:p,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:g};break;case"left":y={x:n.x-s.width,y:g};break;default:y={x:n.x,y:n.y}}switch(ic(e)){case"start":y[c]-=w*(r&&h?-1:1);break;case"end":y[c]+=w*(r&&h?-1:1);break}return y}const yM=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:c}=r,u=i.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(e));let h=await c.getElementRects({reference:t,floating:e,strategy:s}),{x:p,y:g}=p_(h,n,f),w=n,y={},S=0;for(let _=0;_<u.length;_++){const{name:b,fn:N}=u[_],{x:C,y:E,data:k,reset:A}=await N({x:p,y:g,initialPlacement:n,placement:w,strategy:s,middlewareData:y,rects:h,platform:c,elements:{reference:t,floating:e}});p=C??p,g=E??g,y={...y,[b]:{...y[b],...k}},A&&S<=50&&(S++,typeof A=="object"&&(A.placement&&(w=A.placement),A.rects&&(h=A.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:s}):A.rects),{x:p,y:g}=p_(h,w,f)),_=-1)}return{x:p,y:g,placement:w,strategy:s,middlewareData:y}};async function bu(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:i,rects:c,elements:u,strategy:f}=t,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:w=!1,padding:y=0}=Ca(e,t),S=uS(y),b=u[w?g==="floating"?"reference":"floating":g],N=nh(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:h,rootBoundary:p,strategy:f})),C=g==="floating"?{x:n,y:s,width:c.floating.width,height:c.floating.height}:c.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),k=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},A=nh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:C,offsetParent:E,strategy:f}):C);return{top:(N.top-A.top+S.top)/k.y,bottom:(A.bottom-N.bottom+S.bottom)/k.y,left:(N.left-A.left+S.left)/k.x,right:(A.right-N.right+S.right)/k.x}}const xM=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:i,platform:c,elements:u,middlewareData:f}=e,{element:h,padding:p=0}=Ca(t,e)||{};if(h==null)return{};const g=uS(p),w={x:r,y:n},y=ky(s),S=Cy(y),_=await c.getDimensions(h),b=y==="y",N=b?"top":"left",C=b?"bottom":"right",E=b?"clientHeight":"clientWidth",k=i.reference[S]+i.reference[y]-w[y]-i.floating[S],A=w[y]-i.reference[y],T=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let I=T?T[E]:0;(!I||!await(c.isElement==null?void 0:c.isElement(T)))&&(I=u.floating[E]||i.floating[S]);const L=k/2-A/2,B=I/2-_[S]/2-1,H=ko(g[N],B),X=ko(g[C],B),Q=H,Y=I-_[S]-X,ee=I/2-_[S]/2+L,ne=gv(Q,ee,Y),J=!f.arrow&&ic(s)!=null&&ee!==ne&&i.reference[S]/2-(ee<Q?H:X)-_[S]/2<0,W=J?ee<Q?ee-Q:ee-Y:0;return{[y]:w[y]+W,data:{[y]:ne,centerOffset:ee-ne-W,...J&&{alignmentOffset:W}},reset:J}}}),wM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:i,rects:c,initialPlacement:u,platform:f,elements:h}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:w,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:_=!0,...b}=Ca(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const N=ka(s),C=Us(u),E=ka(u)===u,k=await(f.isRTL==null?void 0:f.isRTL(h.floating)),A=w||(E||!_?[rh(u)]:fM(u)),T=S!=="none";!w&&T&&A.push(...gM(u,_,S,k));const I=[u,...A],L=await bu(e,b),B=[];let H=((n=i.flip)==null?void 0:n.overflows)||[];if(p&&B.push(L[N]),g){const ee=dM(s,c,k);B.push(L[ee[0]],L[ee[1]])}if(H=[...H,{placement:s,overflows:B}],!B.every(ee=>ee<=0)){var X,Q;const ee=(((X=i.flip)==null?void 0:X.index)||0)+1,ne=I[ee];if(ne&&(!(g==="alignment"?C!==Us(ne):!1)||H.every(D=>Us(D.placement)===C?D.overflows[0]>0:!0)))return{data:{index:ee,overflows:H},reset:{placement:ne}};let J=(Q=H.filter(W=>W.overflows[0]<=0).sort((W,D)=>W.overflows[1]-D.overflows[1])[0])==null?void 0:Q.placement;if(!J)switch(y){case"bestFit":{var Y;const W=(Y=H.filter(D=>{if(T){const M=Us(D.placement);return M===C||M==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(M=>M>0).reduce((M,F)=>M+F,0)]).sort((D,M)=>D[1]-M[1])[0])==null?void 0:Y[0];W&&(J=W);break}case"initialPlacement":J=u;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function g_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function v_(t){return iM.some(e=>t[e]>=0)}const bM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=Ca(t,e);switch(n){case"referenceHidden":{const i=await bu(e,{...s,elementContext:"reference"}),c=g_(i,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:v_(c)}}}case"escaped":{const i=await bu(e,{...s,altBoundary:!0}),c=g_(i,r.floating);return{data:{escapedOffsets:c,escaped:v_(c)}}}default:return{}}}}},dS=new Set(["left","top"]);async function _M(t,e){const{placement:r,platform:n,elements:s}=t,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),c=ka(r),u=ic(r),f=Us(r)==="y",h=dS.has(c)?-1:1,p=i&&f?-1:1,g=Ca(e,t);let{mainAxis:w,crossAxis:y,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof S=="number"&&(y=u==="end"?S*-1:S),f?{x:y*p,y:w*h}:{x:w*h,y:y*p}}const jM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:i,placement:c,middlewareData:u}=e,f=await _M(e,t);return c===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:s+f.x,y:i+f.y,data:{...f,placement:c}}}}},SM=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:i=!0,crossAxis:c=!1,limiter:u={fn:b=>{let{x:N,y:C}=b;return{x:N,y:C}}},...f}=Ca(t,e),h={x:r,y:n},p=await bu(e,f),g=Us(ka(s)),w=Ny(g);let y=h[w],S=h[g];if(i){const b=w==="y"?"top":"left",N=w==="y"?"bottom":"right",C=y+p[b],E=y-p[N];y=gv(C,y,E)}if(c){const b=g==="y"?"top":"left",N=g==="y"?"bottom":"right",C=S+p[b],E=S-p[N];S=gv(C,S,E)}const _=u.fn({...e,[w]:y,[g]:S});return{..._,data:{x:_.x-r,y:_.y-n,enabled:{[w]:i,[g]:c}}}}}},NM=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:i,middlewareData:c}=e,{offset:u=0,mainAxis:f=!0,crossAxis:h=!0}=Ca(t,e),p={x:r,y:n},g=Us(s),w=Ny(g);let y=p[w],S=p[g];const _=Ca(u,e),b=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(f){const E=w==="y"?"height":"width",k=i.reference[w]-i.floating[E]+b.mainAxis,A=i.reference[w]+i.reference[E]-b.mainAxis;y<k?y=k:y>A&&(y=A)}if(h){var N,C;const E=w==="y"?"width":"height",k=dS.has(ka(s)),A=i.reference[g]-i.floating[E]+(k&&((N=c.offset)==null?void 0:N[g])||0)+(k?0:b.crossAxis),T=i.reference[g]+i.reference[E]+(k?0:((C=c.offset)==null?void 0:C[g])||0)-(k?b.crossAxis:0);S<A?S=A:S>T&&(S=T)}return{[w]:y,[g]:S}}}},CM=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:i,platform:c,elements:u}=e,{apply:f=()=>{},...h}=Ca(t,e),p=await bu(e,h),g=ka(s),w=ic(s),y=Us(s)==="y",{width:S,height:_}=i.floating;let b,N;g==="top"||g==="bottom"?(b=g,N=w===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(N=g,b=w==="end"?"top":"bottom");const C=_-p.top-p.bottom,E=S-p.left-p.right,k=ko(_-p[b],C),A=ko(S-p[N],E),T=!e.middlewareData.shift;let I=k,L=A;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(L=E),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(I=C),T&&!w){const H=wn(p.left,0),X=wn(p.right,0),Q=wn(p.top,0),Y=wn(p.bottom,0);y?L=S-2*(H!==0||X!==0?H+X:wn(p.left,p.right)):I=_-2*(Q!==0||Y!==0?Q+Y:wn(p.top,p.bottom))}await f({...e,availableWidth:L,availableHeight:I});const B=await c.getDimensions(u.floating);return S!==B.width||_!==B.height?{reset:{rects:!0}}:{}}}};function $h(){return typeof window<"u"}function lc(t){return fS(t)?(t.nodeName||"").toLowerCase():"#document"}function _n(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Xs(t){var e;return(e=(fS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function fS(t){return $h()?t instanceof Node||t instanceof _n(t).Node:!1}function ms(t){return $h()?t instanceof Element||t instanceof _n(t).Element:!1}function Ys(t){return $h()?t instanceof HTMLElement||t instanceof _n(t).HTMLElement:!1}function y_(t){return!$h()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _n(t).ShadowRoot}const kM=new Set(["inline","contents"]);function Ku(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=ps(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!kM.has(s)}const EM=new Set(["table","td","th"]);function PM(t){return EM.has(lc(t))}const AM=[":popover-open",":modal"];function Fh(t){return AM.some(e=>{try{return t.matches(e)}catch{return!1}})}const TM=["transform","translate","scale","rotate","perspective"],RM=["transform","translate","scale","rotate","perspective","filter"],DM=["paint","layout","strict","content"];function Ey(t){const e=Py(),r=ms(t)?ps(t):t;return TM.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||RM.some(n=>(r.willChange||"").includes(n))||DM.some(n=>(r.contain||"").includes(n))}function OM(t){let e=Eo(t);for(;Ys(e)&&!Gl(e);){if(Ey(e))return e;if(Fh(e))return null;e=Eo(e)}return null}function Py(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const IM=new Set(["html","body","#document"]);function Gl(t){return IM.has(lc(t))}function ps(t){return _n(t).getComputedStyle(t)}function Uh(t){return ms(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Eo(t){if(lc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||y_(t)&&t.host||Xs(t);return y_(e)?e.host:e}function hS(t){const e=Eo(t);return Gl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ys(e)&&Ku(e)?e:hS(e)}function _u(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=hS(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),c=_n(s);if(i){const u=yv(c);return e.concat(c,c.visualViewport||[],Ku(s)?s:[],u&&r?_u(u):[])}return e.concat(s,_u(s,[],r))}function yv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function mS(t){const e=ps(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=Ys(t),i=s?t.offsetWidth:r,c=s?t.offsetHeight:n,u=th(r)!==i||th(n)!==c;return u&&(r=i,n=c),{width:r,height:n,$:u}}function Ay(t){return ms(t)?t:t.contextElement}function Pl(t){const e=Ay(t);if(!Ys(e))return Ws(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:i}=mS(e);let c=(i?th(r.width):r.width)/n,u=(i?th(r.height):r.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const MM=Ws(0);function pS(t){const e=_n(t);return!Py()||!e.visualViewport?MM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function LM(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==_n(t)?!1:e}function xi(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),i=Ay(t);let c=Ws(1);e&&(n?ms(n)&&(c=Pl(n)):c=Pl(t));const u=LM(i,r,n)?pS(i):Ws(0);let f=(s.left+u.x)/c.x,h=(s.top+u.y)/c.y,p=s.width/c.x,g=s.height/c.y;if(i){const w=_n(i),y=n&&ms(n)?_n(n):n;let S=w,_=yv(S);for(;_&&n&&y!==S;){const b=Pl(_),N=_.getBoundingClientRect(),C=ps(_),E=N.left+(_.clientLeft+parseFloat(C.paddingLeft))*b.x,k=N.top+(_.clientTop+parseFloat(C.paddingTop))*b.y;f*=b.x,h*=b.y,p*=b.x,g*=b.y,f+=E,h+=k,S=_n(_),_=yv(S)}}return nh({width:p,height:g,x:f,y:h})}function Bh(t,e){const r=Uh(t).scrollLeft;return e?e.left+r:xi(Xs(t)).left+r}function gS(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-Bh(t,r),s=r.top+e.scrollTop;return{x:n,y:s}}function $M(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const i=s==="fixed",c=Xs(n),u=e?Fh(e.floating):!1;if(n===c||u&&i)return r;let f={scrollLeft:0,scrollTop:0},h=Ws(1);const p=Ws(0),g=Ys(n);if((g||!g&&!i)&&((lc(n)!=="body"||Ku(c))&&(f=Uh(n)),Ys(n))){const y=xi(n);h=Pl(n),p.x=y.x+n.clientLeft,p.y=y.y+n.clientTop}const w=c&&!g&&!i?gS(c,f):Ws(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-f.scrollLeft*h.x+p.x+w.x,y:r.y*h.y-f.scrollTop*h.y+p.y+w.y}}function FM(t){return Array.from(t.getClientRects())}function UM(t){const e=Xs(t),r=Uh(t),n=t.ownerDocument.body,s=wn(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=wn(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+Bh(t);const u=-r.scrollTop;return ps(n).direction==="rtl"&&(c+=wn(e.clientWidth,n.clientWidth)-s),{width:s,height:i,x:c,y:u}}const x_=25;function BM(t,e){const r=_n(t),n=Xs(t),s=r.visualViewport;let i=n.clientWidth,c=n.clientHeight,u=0,f=0;if(s){i=s.width,c=s.height;const p=Py();(!p||p&&e==="fixed")&&(u=s.offsetLeft,f=s.offsetTop)}const h=Bh(n);if(h<=0){const p=n.ownerDocument,g=p.body,w=getComputedStyle(g),y=p.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,S=Math.abs(n.clientWidth-g.clientWidth-y);S<=x_&&(i-=S)}else h<=x_&&(i+=h);return{width:i,height:c,x:u,y:f}}const VM=new Set(["absolute","fixed"]);function zM(t,e){const r=xi(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,i=Ys(t)?Pl(t):Ws(1),c=t.clientWidth*i.x,u=t.clientHeight*i.y,f=s*i.x,h=n*i.y;return{width:c,height:u,x:f,y:h}}function w_(t,e,r){let n;if(e==="viewport")n=BM(t,r);else if(e==="document")n=UM(Xs(t));else if(ms(e))n=zM(e,r);else{const s=pS(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return nh(n)}function vS(t,e){const r=Eo(t);return r===e||!ms(r)||Gl(r)?!1:ps(r).position==="fixed"||vS(r,e)}function WM(t,e){const r=e.get(t);if(r)return r;let n=_u(t,[],!1).filter(u=>ms(u)&&lc(u)!=="body"),s=null;const i=ps(t).position==="fixed";let c=i?Eo(t):t;for(;ms(c)&&!Gl(c);){const u=ps(c),f=Ey(c);!f&&u.position==="fixed"&&(s=null),(i?!f&&!s:!f&&u.position==="static"&&!!s&&VM.has(s.position)||Ku(c)&&!f&&vS(t,c))?n=n.filter(p=>p!==c):s=u,c=Eo(c)}return e.set(t,n),n}function HM(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const c=[...r==="clippingAncestors"?Fh(e)?[]:WM(e,this._c):[].concat(r),n],u=c[0],f=c.reduce((h,p)=>{const g=w_(e,p,s);return h.top=wn(g.top,h.top),h.right=ko(g.right,h.right),h.bottom=ko(g.bottom,h.bottom),h.left=wn(g.left,h.left),h},w_(e,u,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function qM(t){const{width:e,height:r}=mS(t);return{width:e,height:r}}function YM(t,e,r){const n=Ys(e),s=Xs(e),i=r==="fixed",c=xi(t,!0,i,e);let u={scrollLeft:0,scrollTop:0};const f=Ws(0);function h(){f.x=Bh(s)}if(n||!n&&!i)if((lc(e)!=="body"||Ku(s))&&(u=Uh(e)),n){const y=xi(e,!0,i,e);f.x=y.x+e.clientLeft,f.y=y.y+e.clientTop}else s&&h();i&&!n&&s&&h();const p=s&&!n&&!i?gS(s,u):Ws(0),g=c.left+u.scrollLeft-f.x-p.x,w=c.top+u.scrollTop-f.y-p.y;return{x:g,y:w,width:c.width,height:c.height}}function yg(t){return ps(t).position==="static"}function b_(t,e){if(!Ys(t)||ps(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Xs(t)===r&&(r=r.ownerDocument.body),r}function yS(t,e){const r=_n(t);if(Fh(t))return r;if(!Ys(t)){let s=Eo(t);for(;s&&!Gl(s);){if(ms(s)&&!yg(s))return s;s=Eo(s)}return r}let n=b_(t,e);for(;n&&PM(n)&&yg(n);)n=b_(n,e);return n&&Gl(n)&&yg(n)&&!Ey(n)?r:n||OM(t)||r}const KM=async function(t){const e=this.getOffsetParent||yS,r=this.getDimensions,n=await r(t.floating);return{reference:YM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function GM(t){return ps(t).direction==="rtl"}const JM={convertOffsetParentRelativeRectToViewportRelativeRect:$M,getDocumentElement:Xs,getClippingRect:HM,getOffsetParent:yS,getElementRects:KM,getClientRects:FM,getDimensions:qM,getScale:Pl,isElement:ms,isRTL:GM};function xS(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function QM(t,e){let r=null,n;const s=Xs(t);function i(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),i();const h=t.getBoundingClientRect(),{left:p,top:g,width:w,height:y}=h;if(u||e(),!w||!y)return;const S=Rf(g),_=Rf(s.clientWidth-(p+w)),b=Rf(s.clientHeight-(g+y)),N=Rf(p),E={rootMargin:-S+"px "+-_+"px "+-b+"px "+-N+"px",threshold:wn(0,ko(1,f))||1};let k=!0;function A(T){const I=T[0].intersectionRatio;if(I!==f){if(!k)return c();I?c(!1,I):n=setTimeout(()=>{c(!1,1e-7)},1e3)}I===1&&!xS(h,t.getBoundingClientRect())&&c(),k=!1}try{r=new IntersectionObserver(A,{...E,root:s.ownerDocument})}catch{r=new IntersectionObserver(A,E)}r.observe(t)}return c(!0),i}function ZM(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,h=Ay(t),p=s||i?[...h?_u(h):[],..._u(e)]:[];p.forEach(N=>{s&&N.addEventListener("scroll",r,{passive:!0}),i&&N.addEventListener("resize",r)});const g=h&&u?QM(h,r):null;let w=-1,y=null;c&&(y=new ResizeObserver(N=>{let[C]=N;C&&C.target===h&&y&&(y.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var E;(E=y)==null||E.observe(e)})),r()}),h&&!f&&y.observe(h),y.observe(e));let S,_=f?xi(t):null;f&&b();function b(){const N=xi(t);_&&!xS(_,N)&&r(),_=N,S=requestAnimationFrame(b)}return r(),()=>{var N;p.forEach(C=>{s&&C.removeEventListener("scroll",r),i&&C.removeEventListener("resize",r)}),g==null||g(),(N=y)==null||N.disconnect(),y=null,f&&cancelAnimationFrame(S)}}const XM=jM,e4=SM,t4=wM,r4=CM,n4=bM,__=xM,s4=NM,a4=(t,e,r)=>{const n=new Map,s={platform:JM,...r},i={...s.platform,_c:n};return yM(t,e,{...s,platform:i})};var o4=typeof document<"u",i4=function(){},Vf=o4?v.useLayoutEffect:i4;function sh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!sh(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&t.$$typeof)&&!sh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function wS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function j_(t,e){const r=wS(t);return Math.round(e*r)/r}function xg(t){const e=v.useRef(t);return Vf(()=>{e.current=t}),e}function l4(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:c}={},transform:u=!0,whileElementsMounted:f,open:h}=t,[p,g]=v.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[w,y]=v.useState(n);sh(w,n)||y(n);const[S,_]=v.useState(null),[b,N]=v.useState(null),C=v.useCallback(D=>{D!==T.current&&(T.current=D,_(D))},[]),E=v.useCallback(D=>{D!==I.current&&(I.current=D,N(D))},[]),k=i||S,A=c||b,T=v.useRef(null),I=v.useRef(null),L=v.useRef(p),B=f!=null,H=xg(f),X=xg(s),Q=xg(h),Y=v.useCallback(()=>{if(!T.current||!I.current)return;const D={placement:e,strategy:r,middleware:w};X.current&&(D.platform=X.current),a4(T.current,I.current,D).then(M=>{const F={...M,isPositioned:Q.current!==!1};ee.current&&!sh(L.current,F)&&(L.current=F,Fu.flushSync(()=>{g(F)}))})},[w,e,r,X,Q]);Vf(()=>{h===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,g(D=>({...D,isPositioned:!1})))},[h]);const ee=v.useRef(!1);Vf(()=>(ee.current=!0,()=>{ee.current=!1}),[]),Vf(()=>{if(k&&(T.current=k),A&&(I.current=A),k&&A){if(H.current)return H.current(k,A,Y);Y()}},[k,A,Y,H,B]);const ne=v.useMemo(()=>({reference:T,floating:I,setReference:C,setFloating:E}),[C,E]),J=v.useMemo(()=>({reference:k,floating:A}),[k,A]),W=v.useMemo(()=>{const D={position:r,left:0,top:0};if(!J.floating)return D;const M=j_(J.floating,p.x),F=j_(J.floating,p.y);return u?{...D,transform:"translate("+M+"px, "+F+"px)",...wS(J.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:F}},[r,u,J.floating,p.x,p.y]);return v.useMemo(()=>({...p,update:Y,refs:ne,elements:J,floatingStyles:W}),[p,Y,ne,J,W])}const c4=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?__({element:n.current,padding:s}).fn(r):{}:n?__({element:n,padding:s}).fn(r):{}}}},u4=(t,e)=>({...XM(t),options:[t,e]}),d4=(t,e)=>({...e4(t),options:[t,e]}),f4=(t,e)=>({...s4(t),options:[t,e]}),h4=(t,e)=>({...t4(t),options:[t,e]}),m4=(t,e)=>({...r4(t),options:[t,e]}),p4=(t,e)=>({...n4(t),options:[t,e]}),g4=(t,e)=>({...c4(t),options:[t,e]});var v4="Arrow",bS=v.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...i}=t;return o.jsx(Le.svg,{...i,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});bS.displayName=v4;var y4=bS;function Ty(t){const[e,r]=v.useState(void 0);return dr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let c,u;if("borderBoxSize"in i){const f=i.borderBoxSize,h=Array.isArray(f)?f[0]:f;c=h.inlineSize,u=h.blockSize}else c=t.offsetWidth,u=t.offsetHeight;r({width:c,height:u})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var Ry="Popper",[_S,cc]=dn(Ry),[x4,jS]=_S(Ry),SS=t=>{const{__scopePopper:e,children:r}=t,[n,s]=v.useState(null);return o.jsx(x4,{scope:e,anchor:n,onAnchorChange:s,children:r})};SS.displayName=Ry;var NS="PopperAnchor",CS=v.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,i=jS(NS,r),c=v.useRef(null),u=ot(e,c),f=v.useRef(null);return v.useEffect(()=>{const h=f.current;f.current=(n==null?void 0:n.current)||c.current,h!==f.current&&i.onAnchorChange(f.current)}),n?null:o.jsx(Le.div,{...s,ref:u})});CS.displayName=NS;var Dy="PopperContent",[w4,b4]=_S(Dy),kS=v.forwardRef((t,e)=>{var ae,me,ve,je,Ce,We;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:w=!1,updatePositionStrategy:y="optimized",onPlaced:S,..._}=t,b=jS(Dy,r),[N,C]=v.useState(null),E=ot(e,At=>C(At)),[k,A]=v.useState(null),T=Ty(k),I=(T==null?void 0:T.width)??0,L=(T==null?void 0:T.height)??0,B=n+(i!=="center"?"-"+i:""),H=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},X=Array.isArray(h)?h:[h],Q=X.length>0,Y={padding:H,boundary:X.filter(j4),altBoundary:Q},{refs:ee,floatingStyles:ne,placement:J,isPositioned:W,middlewareData:D}=l4({strategy:"fixed",placement:B,whileElementsMounted:(...At)=>ZM(...At,{animationFrame:y==="always"}),elements:{reference:b.anchor},middleware:[u4({mainAxis:s+L,alignmentAxis:c}),f&&d4({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?f4():void 0,...Y}),f&&h4({...Y}),m4({...Y,apply:({elements:At,rects:Oe,availableWidth:lt,availableHeight:bt})=>{const{width:Kt,height:Gr}=Oe.reference,Ar=At.floating.style;Ar.setProperty("--radix-popper-available-width",`${lt}px`),Ar.setProperty("--radix-popper-available-height",`${bt}px`),Ar.setProperty("--radix-popper-anchor-width",`${Kt}px`),Ar.setProperty("--radix-popper-anchor-height",`${Gr}px`)}}),k&&g4({element:k,padding:u}),S4({arrowWidth:I,arrowHeight:L}),w&&p4({strategy:"referenceHidden",...Y})]}),[M,F]=AS(J),O=br(S);dr(()=>{W&&(O==null||O())},[W,O]);const R=(ae=D.arrow)==null?void 0:ae.x,Z=(me=D.arrow)==null?void 0:me.y,z=((ve=D.arrow)==null?void 0:ve.centerOffset)!==0,[U,de]=v.useState();return dr(()=>{N&&de(window.getComputedStyle(N).zIndex)},[N]),o.jsx("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:W?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:U,"--radix-popper-transform-origin":[(je=D.transformOrigin)==null?void 0:je.x,(Ce=D.transformOrigin)==null?void 0:Ce.y].join(" "),...((We=D.hide)==null?void 0:We.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(w4,{scope:r,placedSide:M,onArrowChange:A,arrowX:R,arrowY:Z,shouldHideArrow:z,children:o.jsx(Le.div,{"data-side":M,"data-align":F,..._,ref:E,style:{..._.style,animation:W?void 0:"none"}})})})});kS.displayName=Dy;var ES="PopperArrow",_4={top:"bottom",right:"left",bottom:"top",left:"right"},PS=v.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,i=b4(ES,n),c=_4[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(y4,{...s,ref:r,style:{...s.style,display:"block"}})})});PS.displayName=ES;function j4(t){return t!==null}var S4=t=>({name:"transformOrigin",options:t,fn(e){var b,N,C;const{placement:r,rects:n,middlewareData:s}=e,c=((b=s.arrow)==null?void 0:b.centerOffset)!==0,u=c?0:t.arrowWidth,f=c?0:t.arrowHeight,[h,p]=AS(r),g={start:"0%",center:"50%",end:"100%"}[p],w=(((N=s.arrow)==null?void 0:N.x)??0)+u/2,y=(((C=s.arrow)==null?void 0:C.y)??0)+f/2;let S="",_="";return h==="bottom"?(S=c?g:`${w}px`,_=`${-f}px`):h==="top"?(S=c?g:`${w}px`,_=`${n.floating.height+f}px`):h==="right"?(S=`${-f}px`,_=c?g:`${y}px`):h==="left"&&(S=`${n.floating.width+f}px`,_=c?g:`${y}px`),{data:{x:S,y:_}}}});function AS(t){const[e,r="center"]=t.split("-");return[e,r]}var Oy=SS,Vh=CS,Iy=kS,My=PS,N4="Portal",Gu=v.forwardRef((t,e)=>{var u;const{container:r,...n}=t,[s,i]=v.useState(!1);dr(()=>i(!0),[]);const c=r||s&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return c?Qj.createPortal(o.jsx(Le.div,{...n,ref:e}),c):null});Gu.displayName=N4;function C4(t,e){return v.useReducer((r,n)=>e[r][n]??r,t)}var Lr=t=>{const{present:e,children:r}=t,n=k4(e),s=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),i=ot(n.ref,E4(s));return typeof r=="function"||n.isPresent?v.cloneElement(s,{ref:i}):null};Lr.displayName="Presence";function k4(t){const[e,r]=v.useState(),n=v.useRef(null),s=v.useRef(t),i=v.useRef("none"),c=t?"mounted":"unmounted",[u,f]=C4(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const h=Df(n.current);i.current=u==="mounted"?h:"none"},[u]),dr(()=>{const h=n.current,p=s.current;if(p!==t){const w=i.current,y=Df(h);t?f("MOUNT"):y==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(p&&w!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,f]),dr(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,g=y=>{const _=Df(n.current).includes(CSS.escape(y.animationName));if(y.target===e&&_&&(f("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},w=y=>{y.target===e&&(i.current=Df(n.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:v.useCallback(h=>{n.current=h?getComputedStyle(h):null,r(h)},[])}}function Df(t){return(t==null?void 0:t.animationName)||"none"}function E4(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var wg="rovingFocusGroup.onEntryFocus",P4={bubbles:!1,cancelable:!0},Ju="RovingFocusGroup",[xv,TS,A4]=Sy(Ju),[T4,zh]=dn(Ju,[A4]),[R4,D4]=T4(Ju),RS=v.forwardRef((t,e)=>o.jsx(xv.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(xv.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(O4,{...t,ref:e})})}));RS.displayName=Ju;var O4=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...g}=t,w=v.useRef(null),y=ot(e,w),S=Hu(i),[_,b]=Na({prop:c,defaultProp:u??null,onChange:f,caller:Ju}),[N,C]=v.useState(!1),E=br(h),k=TS(r),A=v.useRef(!1),[T,I]=v.useState(0);return v.useEffect(()=>{const L=w.current;if(L)return L.addEventListener(wg,E),()=>L.removeEventListener(wg,E)},[E]),o.jsx(R4,{scope:r,orientation:n,dir:S,loop:s,currentTabStopId:_,onItemFocus:v.useCallback(L=>b(L),[b]),onItemShiftTab:v.useCallback(()=>C(!0),[]),onFocusableItemAdd:v.useCallback(()=>I(L=>L+1),[]),onFocusableItemRemove:v.useCallback(()=>I(L=>L-1),[]),children:o.jsx(Le.div,{tabIndex:N||T===0?-1:0,"data-orientation":n,...g,ref:y,style:{outline:"none",...t.style},onMouseDown:Ne(t.onMouseDown,()=>{A.current=!0}),onFocus:Ne(t.onFocus,L=>{const B=!A.current;if(L.target===L.currentTarget&&B&&!N){const H=new CustomEvent(wg,P4);if(L.currentTarget.dispatchEvent(H),!H.defaultPrevented){const X=k().filter(J=>J.focusable),Q=X.find(J=>J.active),Y=X.find(J=>J.id===_),ne=[Q,Y,...X].filter(Boolean).map(J=>J.ref.current);IS(ne,p)}}A.current=!1}),onBlur:Ne(t.onBlur,()=>C(!1))})})}),DS="RovingFocusGroupItem",OS=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:c,...u}=t,f=Pr(),h=i||f,p=D4(DS,r),g=p.currentTabStopId===h,w=TS(r),{onFocusableItemAdd:y,onFocusableItemRemove:S,currentTabStopId:_}=p;return v.useEffect(()=>{if(n)return y(),()=>S()},[n,y,S]),o.jsx(xv.ItemSlot,{scope:r,id:h,focusable:n,active:s,children:o.jsx(Le.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...u,ref:e,onMouseDown:Ne(t.onMouseDown,b=>{n?p.onItemFocus(h):b.preventDefault()}),onFocus:Ne(t.onFocus,()=>p.onItemFocus(h)),onKeyDown:Ne(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){p.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const N=L4(b,p.orientation,p.dir);if(N!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let E=w().filter(k=>k.focusable).map(k=>k.ref.current);if(N==="last")E.reverse();else if(N==="prev"||N==="next"){N==="prev"&&E.reverse();const k=E.indexOf(b.currentTarget);E=p.loop?$4(E,k+1):E.slice(k+1)}setTimeout(()=>IS(E))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:_!=null}):c})})});OS.displayName=DS;var I4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function M4(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function L4(t,e,r){const n=M4(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return I4[n]}function IS(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function $4(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var MS=RS,LS=OS,F4=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},vl=new WeakMap,Of=new WeakMap,If={},bg=0,$S=function(t){return t&&(t.host||$S(t.parentNode))},U4=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=$S(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},B4=function(t,e,r,n){var s=U4(e,Array.isArray(t)?t:[t]);If[r]||(If[r]=new WeakMap);var i=If[r],c=[],u=new Set,f=new Set(s),h=function(g){!g||u.has(g)||(u.add(g),h(g.parentNode))};s.forEach(h);var p=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(w){if(u.has(w))p(w);else try{var y=w.getAttribute(n),S=y!==null&&y!=="false",_=(vl.get(w)||0)+1,b=(i.get(w)||0)+1;vl.set(w,_),i.set(w,b),c.push(w),_===1&&S&&Of.set(w,!0),b===1&&w.setAttribute(r,"true"),S||w.setAttribute(n,"true")}catch(N){console.error("aria-hidden: cannot operate on ",w,N)}})};return p(e),u.clear(),bg++,function(){c.forEach(function(g){var w=vl.get(g)-1,y=i.get(g)-1;vl.set(g,w),i.set(g,y),w||(Of.has(g)||g.removeAttribute(n),Of.delete(g)),y||g.removeAttribute(r)}),bg--,bg||(vl=new WeakMap,vl=new WeakMap,Of=new WeakMap,If={})}},Wh=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=F4(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),B4(n,s,r,"aria-hidden")):function(){return null}},Fs=function(){return Fs=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Fs.apply(this,arguments)};function FS(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function V4(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var zf="right-scroll-bar-position",Wf="width-before-scroll-bar",z4="with-scroll-bars-hidden",W4="--removed-body-scroll-bar-size";function _g(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function H4(t,e){var r=v.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var q4=typeof window<"u"?v.useLayoutEffect:v.useEffect,S_=new WeakMap;function Y4(t,e){var r=H4(null,function(n){return t.forEach(function(s){return _g(s,n)})});return q4(function(){var n=S_.get(r);if(n){var s=new Set(n),i=new Set(t),c=r.current;s.forEach(function(u){i.has(u)||_g(u,null)}),i.forEach(function(u){s.has(u)||_g(u,c)})}S_.set(r,t)},[t]),r}function K4(t){return t}function G4(t,e){e===void 0&&(e=K4);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var c=e(i,n);return r.push(c),function(){r=r.filter(function(u){return u!==c})}},assignSyncMedium:function(i){for(n=!0;r.length;){var c=r;r=[],c.forEach(i)}r={push:function(u){return i(u)},filter:function(){return r}}},assignMedium:function(i){n=!0;var c=[];if(r.length){var u=r;r=[],u.forEach(i),c=r}var f=function(){var p=c;c=[],p.forEach(i)},h=function(){return Promise.resolve().then(f)};h(),r={push:function(p){c.push(p),h()},filter:function(p){return c=c.filter(p),r}}}};return s}function J4(t){t===void 0&&(t={});var e=G4(null);return e.options=Fs({async:!0,ssr:!1},t),e}var US=function(t){var e=t.sideCar,r=FS(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,Fs({},r))};US.isSideCarExport=!0;function Q4(t,e){return t.useMedium(e),US}var BS=J4(),jg=function(){},Hh=v.forwardRef(function(t,e){var r=v.useRef(null),n=v.useState({onScrollCapture:jg,onWheelCapture:jg,onTouchMoveCapture:jg}),s=n[0],i=n[1],c=t.forwardProps,u=t.children,f=t.className,h=t.removeScrollBar,p=t.enabled,g=t.shards,w=t.sideCar,y=t.noRelative,S=t.noIsolation,_=t.inert,b=t.allowPinchZoom,N=t.as,C=N===void 0?"div":N,E=t.gapMode,k=FS(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=w,T=Y4([r,e]),I=Fs(Fs({},k),s);return v.createElement(v.Fragment,null,p&&v.createElement(A,{sideCar:BS,removeScrollBar:h,shards:g,noRelative:y,noIsolation:S,inert:_,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:E}),c?v.cloneElement(v.Children.only(u),Fs(Fs({},I),{ref:T})):v.createElement(C,Fs({},I,{className:f,ref:T}),u))});Hh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hh.classNames={fullWidth:Wf,zeroRight:zf};var Z4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function X4(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Z4();return e&&t.setAttribute("nonce",e),t}function eL(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function tL(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var rL=function(){var t=0,e=null;return{add:function(r){t==0&&(e=X4())&&(eL(e,r),tL(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},nL=function(){var t=rL();return function(e,r){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},VS=function(){var t=nL(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},sL={left:0,top:0,right:0,gap:0},Sg=function(t){return parseInt(t||"",10)||0},aL=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Sg(r),Sg(n),Sg(s)]},oL=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return sL;var e=aL(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},iL=VS(),Al="data-scroll-locked",lL=function(t,e,r,n){var s=t.left,i=t.top,c=t.right,u=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(z4,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(Al,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zf,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Wf,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(zf," .").concat(zf,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Wf," .").concat(Wf,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Al,`] {
    `).concat(W4,": ").concat(u,`px;
  }
`)},N_=function(){var t=parseInt(document.body.getAttribute(Al)||"0",10);return isFinite(t)?t:0},cL=function(){v.useEffect(function(){return document.body.setAttribute(Al,(N_()+1).toString()),function(){var t=N_()-1;t<=0?document.body.removeAttribute(Al):document.body.setAttribute(Al,t.toString())}},[])},uL=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;cL();var i=v.useMemo(function(){return oL(s)},[s]);return v.createElement(iL,{styles:lL(i,!e,s,r?"":"!important")})},wv=!1;if(typeof window<"u")try{var Mf=Object.defineProperty({},"passive",{get:function(){return wv=!0,!0}});window.addEventListener("test",Mf,Mf),window.removeEventListener("test",Mf,Mf)}catch{wv=!1}var yl=wv?{passive:!1}:!1,dL=function(t){return t.tagName==="TEXTAREA"},zS=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!dL(t)&&r[e]==="visible")},fL=function(t){return zS(t,"overflowY")},hL=function(t){return zS(t,"overflowX")},C_=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=WS(t,n);if(s){var i=HS(t,n),c=i[1],u=i[2];if(c>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},mL=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},pL=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},WS=function(t,e){return t==="v"?fL(e):hL(e)},HS=function(t,e){return t==="v"?mL(e):pL(e)},gL=function(t,e){return t==="h"&&e==="rtl"?-1:1},vL=function(t,e,r,n,s){var i=gL(t,window.getComputedStyle(e).direction),c=i*n,u=r.target,f=e.contains(u),h=!1,p=c>0,g=0,w=0;do{if(!u)break;var y=HS(t,u),S=y[0],_=y[1],b=y[2],N=_-b-i*S;(S||N)&&WS(t,u)&&(g+=N,w+=S);var C=u.parentNode;u=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!f&&u!==document.body||f&&(e.contains(u)||e===u));return(p&&Math.abs(g)<1||!p&&Math.abs(w)<1)&&(h=!0),h},Lf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},k_=function(t){return[t.deltaX,t.deltaY]},E_=function(t){return t&&"current"in t?t.current:t},yL=function(t,e){return t[0]===e[0]&&t[1]===e[1]},xL=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},wL=0,xl=[];function bL(t){var e=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),s=v.useState(wL++)[0],i=v.useState(VS)[0],c=v.useRef(t);v.useEffect(function(){c.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var _=V4([t.lockRef.current],(t.shards||[]).map(E_),!0).filter(Boolean);return _.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),_.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var u=v.useCallback(function(_,b){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!c.current.allowPinchZoom;var N=Lf(_),C=r.current,E="deltaX"in _?_.deltaX:C[0]-N[0],k="deltaY"in _?_.deltaY:C[1]-N[1],A,T=_.target,I=Math.abs(E)>Math.abs(k)?"h":"v";if("touches"in _&&I==="h"&&T.type==="range")return!1;var L=C_(I,T);if(!L)return!0;if(L?A=I:(A=I==="v"?"h":"v",L=C_(I,T)),!L)return!1;if(!n.current&&"changedTouches"in _&&(E||k)&&(n.current=A),!A)return!0;var B=n.current||A;return vL(B,b,_,B==="h"?E:k)},[]),f=v.useCallback(function(_){var b=_;if(!(!xl.length||xl[xl.length-1]!==i)){var N="deltaY"in b?k_(b):Lf(b),C=e.current.filter(function(A){return A.name===b.type&&(A.target===b.target||b.target===A.shadowParent)&&yL(A.delta,N)})[0];if(C&&C.should){b.cancelable&&b.preventDefault();return}if(!C){var E=(c.current.shards||[]).map(E_).filter(Boolean).filter(function(A){return A.contains(b.target)}),k=E.length>0?u(b,E[0]):!c.current.noIsolation;k&&b.cancelable&&b.preventDefault()}}},[]),h=v.useCallback(function(_,b,N,C){var E={name:_,delta:b,target:N,should:C,shadowParent:_L(N)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(k){return k!==E})},1)},[]),p=v.useCallback(function(_){r.current=Lf(_),n.current=void 0},[]),g=v.useCallback(function(_){h(_.type,k_(_),_.target,u(_,t.lockRef.current))},[]),w=v.useCallback(function(_){h(_.type,Lf(_),_.target,u(_,t.lockRef.current))},[]);v.useEffect(function(){return xl.push(i),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:w}),document.addEventListener("wheel",f,yl),document.addEventListener("touchmove",f,yl),document.addEventListener("touchstart",p,yl),function(){xl=xl.filter(function(_){return _!==i}),document.removeEventListener("wheel",f,yl),document.removeEventListener("touchmove",f,yl),document.removeEventListener("touchstart",p,yl)}},[]);var y=t.removeScrollBar,S=t.inert;return v.createElement(v.Fragment,null,S?v.createElement(i,{styles:xL(s)}):null,y?v.createElement(uL,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function _L(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const jL=Q4(BS,bL);var Qu=v.forwardRef(function(t,e){return v.createElement(Hh,Fs({},t,{ref:e,sideCar:jL}))});Qu.classNames=Hh.classNames;var bv=["Enter"," "],SL=["ArrowDown","PageUp","Home"],qS=["ArrowUp","PageDown","End"],NL=[...SL,...qS],CL={ltr:[...bv,"ArrowRight"],rtl:[...bv,"ArrowLeft"]},kL={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Zu="Menu",[ju,EL,PL]=Sy(Zu),[Ai,YS]=dn(Zu,[PL,cc,zh]),qh=cc(),KS=zh(),[AL,Ti]=Ai(Zu),[TL,Xu]=Ai(Zu),GS=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:i,modal:c=!0}=t,u=qh(e),[f,h]=v.useState(null),p=v.useRef(!1),g=br(i),w=Hu(s);return v.useEffect(()=>{const y=()=>{p.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>p.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),o.jsx(Oy,{...u,children:o.jsx(AL,{scope:e,open:r,onOpenChange:g,content:f,onContentChange:h,children:o.jsx(TL,{scope:e,onClose:v.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:w,modal:c,children:n})})})};GS.displayName=Zu;var RL="MenuAnchor",Ly=v.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=qh(r);return o.jsx(Vh,{...s,...n,ref:e})});Ly.displayName=RL;var $y="MenuPortal",[DL,JS]=Ai($y,{forceMount:void 0}),QS=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,i=Ti($y,e);return o.jsx(DL,{scope:e,forceMount:r,children:o.jsx(Lr,{present:r||i.open,children:o.jsx(Gu,{asChild:!0,container:s,children:n})})})};QS.displayName=$y;var Fn="MenuContent",[OL,Fy]=Ai(Fn),ZS=v.forwardRef((t,e)=>{const r=JS(Fn,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,i=Ti(Fn,t.__scopeMenu),c=Xu(Fn,t.__scopeMenu);return o.jsx(ju.Provider,{scope:t.__scopeMenu,children:o.jsx(Lr,{present:n||i.open,children:o.jsx(ju.Slot,{scope:t.__scopeMenu,children:c.modal?o.jsx(IL,{...s,ref:e}):o.jsx(ML,{...s,ref:e})})})})}),IL=v.forwardRef((t,e)=>{const r=Ti(Fn,t.__scopeMenu),n=v.useRef(null),s=ot(e,n);return v.useEffect(()=>{const i=n.current;if(i)return Wh(i)},[]),o.jsx(Uy,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ne(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),ML=v.forwardRef((t,e)=>{const r=Ti(Fn,t.__scopeMenu);return o.jsx(Uy,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),LL=Co("MenuContent.ScrollLock"),Uy=v.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEntryFocus:f,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:w,onDismiss:y,disableOutsideScroll:S,..._}=t,b=Ti(Fn,r),N=Xu(Fn,r),C=qh(r),E=KS(r),k=EL(r),[A,T]=v.useState(null),I=v.useRef(null),L=ot(e,I,b.onContentChange),B=v.useRef(0),H=v.useRef(""),X=v.useRef(0),Q=v.useRef(null),Y=v.useRef("right"),ee=v.useRef(0),ne=S?Qu:v.Fragment,J=S?{as:LL,allowPinchZoom:!0}:void 0,W=M=>{var ae,me;const F=H.current+M,O=k().filter(ve=>!ve.disabled),R=document.activeElement,Z=(ae=O.find(ve=>ve.ref.current===R))==null?void 0:ae.textValue,z=O.map(ve=>ve.textValue),U=GL(z,F,Z),de=(me=O.find(ve=>ve.textValue===U))==null?void 0:me.ref.current;(function ve(je){H.current=je,window.clearTimeout(B.current),je!==""&&(B.current=window.setTimeout(()=>ve(""),1e3))})(F),de&&setTimeout(()=>de.focus())};v.useEffect(()=>()=>window.clearTimeout(B.current),[]),Lh();const D=v.useCallback(M=>{var O,R;return Y.current===((O=Q.current)==null?void 0:O.side)&&QL(M,(R=Q.current)==null?void 0:R.area)},[]);return o.jsx(OL,{scope:r,searchRef:H,onItemEnter:v.useCallback(M=>{D(M)&&M.preventDefault()},[D]),onItemLeave:v.useCallback(M=>{var F;D(M)||((F=I.current)==null||F.focus(),T(null))},[D]),onTriggerLeave:v.useCallback(M=>{D(M)&&M.preventDefault()},[D]),pointerGraceTimerRef:X,onPointerGraceIntentChange:v.useCallback(M=>{Q.current=M},[]),children:o.jsx(ne,{...J,children:o.jsx(Yu,{asChild:!0,trapped:s,onMountAutoFocus:Ne(i,M=>{var F;M.preventDefault(),(F=I.current)==null||F.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:o.jsx(qu,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:w,onDismiss:y,children:o.jsx(MS,{asChild:!0,...E,dir:N.dir,orientation:"vertical",loop:n,currentTabStopId:A,onCurrentTabStopIdChange:T,onEntryFocus:Ne(f,M=>{N.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Iy,{role:"menu","aria-orientation":"vertical","data-state":mN(b.open),"data-radix-menu-content":"",dir:N.dir,...C,..._,ref:L,style:{outline:"none",..._.style},onKeyDown:Ne(_.onKeyDown,M=>{const O=M.target.closest("[data-radix-menu-content]")===M.currentTarget,R=M.ctrlKey||M.altKey||M.metaKey,Z=M.key.length===1;O&&(M.key==="Tab"&&M.preventDefault(),!R&&Z&&W(M.key));const z=I.current;if(M.target!==z||!NL.includes(M.key))return;M.preventDefault();const de=k().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);qS.includes(M.key)&&de.reverse(),YL(de)}),onBlur:Ne(t.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(B.current),H.current="")}),onPointerMove:Ne(t.onPointerMove,Su(M=>{const F=M.target,O=ee.current!==M.clientX;if(M.currentTarget.contains(F)&&O){const R=M.clientX>ee.current?"right":"left";Y.current=R,ee.current=M.clientX}}))})})})})})})});ZS.displayName=Fn;var $L="MenuGroup",By=v.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return o.jsx(Le.div,{role:"group",...n,ref:e})});By.displayName=$L;var FL="MenuLabel",XS=v.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return o.jsx(Le.div,{...n,ref:e})});XS.displayName=FL;var ah="MenuItem",P_="menu.itemSelect",Yh=v.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,i=v.useRef(null),c=Xu(ah,t.__scopeMenu),u=Fy(ah,t.__scopeMenu),f=ot(e,i),h=v.useRef(!1),p=()=>{const g=i.current;if(!r&&g){const w=new CustomEvent(P_,{bubbles:!0,cancelable:!0});g.addEventListener(P_,y=>n==null?void 0:n(y),{once:!0}),Q1(g,w),w.defaultPrevented?h.current=!1:c.onClose()}};return o.jsx(eN,{...s,ref:f,disabled:r,onClick:Ne(t.onClick,p),onPointerDown:g=>{var w;(w=t.onPointerDown)==null||w.call(t,g),h.current=!0},onPointerUp:Ne(t.onPointerUp,g=>{var w;h.current||(w=g.currentTarget)==null||w.click()}),onKeyDown:Ne(t.onKeyDown,g=>{const w=u.searchRef.current!=="";r||w&&g.key===" "||bv.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Yh.displayName=ah;var eN=v.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=t,c=Fy(ah,r),u=KS(r),f=v.useRef(null),h=ot(e,f),[p,g]=v.useState(!1),[w,y]=v.useState("");return v.useEffect(()=>{const S=f.current;S&&y((S.textContent??"").trim())},[i.children]),o.jsx(ju.ItemSlot,{scope:r,disabled:n,textValue:s??w,children:o.jsx(LS,{asChild:!0,...u,focusable:!n,children:o.jsx(Le.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:h,onPointerMove:Ne(t.onPointerMove,Su(S=>{n?c.onItemLeave(S):(c.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ne(t.onPointerLeave,Su(S=>c.onItemLeave(S))),onFocus:Ne(t.onFocus,()=>g(!0)),onBlur:Ne(t.onBlur,()=>g(!1))})})})}),UL="MenuCheckboxItem",tN=v.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return o.jsx(oN,{scope:t.__scopeMenu,checked:r,children:o.jsx(Yh,{role:"menuitemcheckbox","aria-checked":oh(r)?"mixed":r,...s,ref:e,"data-state":zy(r),onSelect:Ne(s.onSelect,()=>n==null?void 0:n(oh(r)?!0:!r),{checkForDefaultPrevented:!1})})})});tN.displayName=UL;var rN="MenuRadioGroup",[BL,VL]=Ai(rN,{value:void 0,onValueChange:()=>{}}),nN=v.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,i=br(n);return o.jsx(BL,{scope:t.__scopeMenu,value:r,onValueChange:i,children:o.jsx(By,{...s,ref:e})})});nN.displayName=rN;var sN="MenuRadioItem",aN=v.forwardRef((t,e)=>{const{value:r,...n}=t,s=VL(sN,t.__scopeMenu),i=r===s.value;return o.jsx(oN,{scope:t.__scopeMenu,checked:i,children:o.jsx(Yh,{role:"menuitemradio","aria-checked":i,...n,ref:e,"data-state":zy(i),onSelect:Ne(n.onSelect,()=>{var c;return(c=s.onValueChange)==null?void 0:c.call(s,r)},{checkForDefaultPrevented:!1})})})});aN.displayName=sN;var Vy="MenuItemIndicator",[oN,zL]=Ai(Vy,{checked:!1}),iN=v.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,i=zL(Vy,r);return o.jsx(Lr,{present:n||oh(i.checked)||i.checked===!0,children:o.jsx(Le.span,{...s,ref:e,"data-state":zy(i.checked)})})});iN.displayName=Vy;var WL="MenuSeparator",lN=v.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return o.jsx(Le.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});lN.displayName=WL;var HL="MenuArrow",cN=v.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=qh(r);return o.jsx(My,{...s,...n,ref:e})});cN.displayName=HL;var qL="MenuSub",[B7,uN]=Ai(qL),au="MenuSubTrigger",dN=v.forwardRef((t,e)=>{const r=Ti(au,t.__scopeMenu),n=Xu(au,t.__scopeMenu),s=uN(au,t.__scopeMenu),i=Fy(au,t.__scopeMenu),c=v.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:f}=i,h={__scopeMenu:t.__scopeMenu},p=v.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return v.useEffect(()=>p,[p]),v.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),f(null)}},[u,f]),o.jsx(Ly,{asChild:!0,...h,children:o.jsx(eN,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":mN(r.open),...t,ref:ba(e,s.onTriggerChange),onClick:g=>{var w;(w=t.onClick)==null||w.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ne(t.onPointerMove,Su(g=>{i.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!r.open&&!c.current&&(i.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{r.onOpenChange(!0),p()},100))})),onPointerLeave:Ne(t.onPointerLeave,Su(g=>{var y,S;p();const w=(y=r.content)==null?void 0:y.getBoundingClientRect();if(w){const _=(S=r.content)==null?void 0:S.dataset.side,b=_==="right",N=b?-5:5,C=w[b?"left":"right"],E=w[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:g.clientX+N,y:g.clientY},{x:C,y:w.top},{x:E,y:w.top},{x:E,y:w.bottom},{x:C,y:w.bottom}],side:_}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(g),g.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ne(t.onKeyDown,g=>{var y;const w=i.searchRef.current!=="";t.disabled||w&&g.key===" "||CL[n.dir].includes(g.key)&&(r.onOpenChange(!0),(y=r.content)==null||y.focus(),g.preventDefault())})})})});dN.displayName=au;var fN="MenuSubContent",hN=v.forwardRef((t,e)=>{const r=JS(Fn,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,i=Ti(Fn,t.__scopeMenu),c=Xu(Fn,t.__scopeMenu),u=uN(fN,t.__scopeMenu),f=v.useRef(null),h=ot(e,f);return o.jsx(ju.Provider,{scope:t.__scopeMenu,children:o.jsx(Lr,{present:n||i.open,children:o.jsx(ju.Slot,{scope:t.__scopeMenu,children:o.jsx(Uy,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:h,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var g;c.isUsingKeyboardRef.current&&((g=f.current)==null||g.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:Ne(t.onFocusOutside,p=>{p.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ne(t.onEscapeKeyDown,p=>{c.onClose(),p.preventDefault()}),onKeyDown:Ne(t.onKeyDown,p=>{var y;const g=p.currentTarget.contains(p.target),w=kL[c.dir].includes(p.key);g&&w&&(i.onOpenChange(!1),(y=u.trigger)==null||y.focus(),p.preventDefault())})})})})})});hN.displayName=fN;function mN(t){return t?"open":"closed"}function oh(t){return t==="indeterminate"}function zy(t){return oh(t)?"indeterminate":t?"checked":"unchecked"}function YL(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function KL(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function GL(t,e,r){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let c=KL(t,Math.max(i,0));s.length===1&&(c=c.filter(h=>h!==r));const f=c.find(h=>h.toLowerCase().startsWith(s.toLowerCase()));return f!==r?f:void 0}function JL(t,e){const{x:r,y:n}=t;let s=!1;for(let i=0,c=e.length-1;i<e.length;c=i++){const u=e[i],f=e[c],h=u.x,p=u.y,g=f.x,w=f.y;p>n!=w>n&&r<(g-h)*(n-p)/(w-p)+h&&(s=!s)}return s}function QL(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return JL(r,e)}function Su(t){return e=>e.pointerType==="mouse"?t(e):void 0}var ZL=GS,XL=Ly,e$=QS,t$=ZS,r$=By,n$=XS,s$=Yh,a$=tN,o$=nN,i$=aN,l$=iN,c$=lN,u$=cN,d$=dN,f$=hN,Kh="DropdownMenu",[h$,V7]=dn(Kh,[YS]),Kr=YS(),[m$,pN]=h$(Kh),gN=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:c,modal:u=!0}=t,f=Kr(e),h=v.useRef(null),[p,g]=Na({prop:s,defaultProp:i??!1,onChange:c,caller:Kh});return o.jsx(m$,{scope:e,triggerId:Pr(),triggerRef:h,contentId:Pr(),open:p,onOpenChange:g,onOpenToggle:v.useCallback(()=>g(w=>!w),[g]),modal:u,children:o.jsx(ZL,{...f,open:p,onOpenChange:g,dir:n,modal:u,children:r})})};gN.displayName=Kh;var vN="DropdownMenuTrigger",yN=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,i=pN(vN,r),c=Kr(r);return o.jsx(XL,{asChild:!0,...c,children:o.jsx(Le.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:ba(e,i.triggerRef),onPointerDown:Ne(t.onPointerDown,u=>{!n&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:Ne(t.onKeyDown,u=>{n||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});yN.displayName=vN;var p$="DropdownMenuPortal",xN=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Kr(e);return o.jsx(e$,{...n,...r})};xN.displayName=p$;var wN="DropdownMenuContent",bN=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=pN(wN,r),i=Kr(r),c=v.useRef(!1);return o.jsx(t$,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:e,onCloseAutoFocus:Ne(t.onCloseAutoFocus,u=>{var f;c.current||(f=s.triggerRef.current)==null||f.focus(),c.current=!1,u.preventDefault()}),onInteractOutside:Ne(t.onInteractOutside,u=>{const f=u.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,p=f.button===2||h;(!s.modal||p)&&(c.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bN.displayName=wN;var g$="DropdownMenuGroup",v$=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Kr(r);return o.jsx(r$,{...s,...n,ref:e})});v$.displayName=g$;var y$="DropdownMenuLabel",_N=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Kr(r);return o.jsx(n$,{...s,...n,ref:e})});_N.displayName=y$;var x$="DropdownMenuItem",jN=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Kr(r);return o.jsx(s$,{...s,...n,ref:e})});jN.displayName=x$;var w$="DropdownMenuCheckboxItem",SN=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Kr(r);return o.jsx(a$,{...s,...n,ref:e})});SN.displayName=w$;var b$="DropdownMenuRadioGroup",_$=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Kr(r);return o.jsx(o$,{...s,...n,ref:e})});_$.displayName=b$;var j$="DropdownMenuRadioItem",NN=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Kr(r);return o.jsx(i$,{...s,...n,ref:e})});NN.displayName=j$;var S$="DropdownMenuItemIndicator",CN=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Kr(r);return o.jsx(l$,{...s,...n,ref:e})});CN.displayName=S$;var N$="DropdownMenuSeparator",kN=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Kr(r);return o.jsx(c$,{...s,...n,ref:e})});kN.displayName=N$;var C$="DropdownMenuArrow",k$=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Kr(r);return o.jsx(u$,{...s,...n,ref:e})});k$.displayName=C$;var E$="DropdownMenuSubTrigger",EN=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Kr(r);return o.jsx(d$,{...s,...n,ref:e})});EN.displayName=E$;var P$="DropdownMenuSubContent",PN=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Kr(r);return o.jsx(f$,{...s,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});PN.displayName=P$;var A$=gN,T$=yN,R$=xN,AN=bN,TN=_N,RN=jN,DN=SN,ON=NN,IN=CN,MN=kN,LN=EN,$N=PN;const ih=A$,lh=T$,D$=v.forwardRef(({className:t,inset:e,children:r,...n},s)=>o.jsxs(LN,{ref:s,className:fe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...n,children:[r,o.jsx(yy,{className:"ml-auto h-4 w-4"})]}));D$.displayName=LN.displayName;const O$=v.forwardRef(({className:t,...e},r)=>o.jsx($N,{ref:r,className:fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));O$.displayName=$N.displayName;const Nu=v.forwardRef(({className:t,sideOffset:e=4,...r},n)=>o.jsx(R$,{children:o.jsx(AN,{ref:n,sideOffset:e,className:fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Nu.displayName=AN.displayName;const us=v.forwardRef(({className:t,inset:e,...r},n)=>o.jsx(RN,{ref:n,className:fe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...r}));us.displayName=RN.displayName;const I$=v.forwardRef(({className:t,children:e,checked:r,...n},s)=>o.jsxs(DN,{ref:s,className:fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(IN,{children:o.jsx(Dh,{className:"h-4 w-4"})})}),e]}));I$.displayName=DN.displayName;const M$=v.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(ON,{ref:n,className:fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(IN,{children:o.jsx(vI,{className:"h-2 w-2 fill-current"})})}),e]}));M$.displayName=ON.displayName;const ch=v.forwardRef(({className:t,inset:e,...r},n)=>o.jsx(TN,{ref:n,className:fe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));ch.displayName=TN.displayName;const Cu=v.forwardRef(({className:t,...e},r)=>o.jsx(MN,{ref:r,className:fe("-mx-1 my-1 h-px bg-muted",t),...e}));Cu.displayName=MN.displayName;const FN=v.forwardRef(({...t},e)=>o.jsx("nav",{ref:e,"aria-label":"breadcrumb",...t}));FN.displayName="Breadcrumb";const UN=v.forwardRef(({className:t,...e},r)=>o.jsx("ol",{ref:r,className:fe("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...e}));UN.displayName="BreadcrumbList";const _v=v.forwardRef(({className:t,...e},r)=>o.jsx("li",{ref:r,className:fe("inline-flex items-center gap-1.5",t),...e}));_v.displayName="BreadcrumbItem";const jv=v.forwardRef(({asChild:t,className:e,...r},n)=>{const s=t?gy:"a";return o.jsx(s,{ref:n,className:fe("transition-colors hover:text-foreground",e),...r})});jv.displayName="BreadcrumbLink";const BN=v.forwardRef(({className:t,...e},r)=>o.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:fe("font-normal text-foreground",t),...e}));BN.displayName="BreadcrumbPage";const Sv=({children:t,className:e,...r})=>o.jsx("li",{role:"presentation","aria-hidden":"true",className:fe("[&>svg]:size-3.5",e),...r,children:t??o.jsx(yy,{})});Sv.displayName="BreadcrumbSeparator";const L$=()=>{const{user:t,profile:e,userRole:r,logout:n}=tr();J1();const s=er(),i=Lo(),c=r==="admin"||r==="office",u=e!=null&&e.full_name?e.full_name.split(" ").map(g=>g[0]).join("").substring(0,2).toUpperCase():"JD",f=(e==null?void 0:e.full_name)||"John Doe",h=i.pathname.split("/").filter(g=>g),p=h.map((g,w)=>{const y=`/${h.slice(0,w+1).join("/")}`,S=w===h.length-1,_=g.replace(/-/g," ").split(" ").map(b=>b.charAt(0).toUpperCase()+b.slice(1)).join(" ");return o.jsxs(ie.Fragment,{children:[o.jsx(_v,{children:S?o.jsx(BN,{className:"text-gray-700",children:_}):o.jsx(jv,{asChild:!0,children:o.jsx(yi,{to:y,className:"text-gray-500 hover:text-gray-700",children:_})})}),!S&&o.jsx(Sv,{})]},y)});return o.jsxs("header",{className:"flex items-center justify-between px-6 py-4 bg-[var(--saas-header-bg)] shadow-sm",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsx(FN,{children:o.jsxs(UN,{children:[o.jsx(_v,{children:o.jsx(jv,{asChild:!0,children:o.jsx(yi,{to:"/",className:"text-gray-500 hover:text-gray-700",children:"Dashboard"})})}),h.length>0&&o.jsx(Sv,{}),p]})})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[c&&o.jsxs(ue,{onClick:()=>s("/jobs/new"),className:"bg-blue-600 text-white hover:bg-blue-700 rounded-md",children:[o.jsx(qs,{className:"h-4 w-4 mr-2"})," New Job"]}),t&&e&&o.jsxs(ih,{children:[o.jsx(lh,{asChild:!0,children:o.jsx(ue,{variant:"ghost",className:"relative h-9 w-9 rounded-full",children:o.jsx(ja,{className:"h-9 w-9",children:o.jsx(Sa,{className:"bg-blue-100 text-blue-600",children:u})})})}),o.jsxs(Nu,{className:"w-56 bg-white shadow-lg rounded-md",align:"end",forceMount:!0,children:[o.jsx(ch,{className:"font-normal",children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:f}),o.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:t.email})]})}),o.jsx(Cu,{}),o.jsxs(us,{onClick:()=>s("/settings"),children:[o.jsx(K1,{className:"mr-2 h-4 w-4"}),"Settings"]}),o.jsx(Cu,{}),o.jsxs(us,{onClick:n,children:[o.jsx(jI,{className:"mr-2 h-4 w-4"}),"Log Out"]})]})]})]})]})};var Gh="Dialog",[VN,zN]=dn(Gh),[$$,Cs]=VN(Gh),WN=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:c=!0}=t,u=v.useRef(null),f=v.useRef(null),[h,p]=Na({prop:n,defaultProp:s??!1,onChange:i,caller:Gh});return o.jsx($$,{scope:e,triggerRef:u,contentRef:f,contentId:Pr(),titleId:Pr(),descriptionId:Pr(),open:h,onOpenChange:p,onOpenToggle:v.useCallback(()=>p(g=>!g),[p]),modal:c,children:r})};WN.displayName=Gh;var HN="DialogTrigger",qN=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Cs(HN,r),i=ot(e,s.triggerRef);return o.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":qy(s.open),...n,ref:i,onClick:Ne(t.onClick,s.onOpenToggle)})});qN.displayName=HN;var Wy="DialogPortal",[F$,YN]=VN(Wy,{forceMount:void 0}),KN=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,i=Cs(Wy,e);return o.jsx(F$,{scope:e,forceMount:r,children:v.Children.map(n,c=>o.jsx(Lr,{present:r||i.open,children:o.jsx(Gu,{asChild:!0,container:s,children:c})}))})};KN.displayName=Wy;var uh="DialogOverlay",GN=v.forwardRef((t,e)=>{const r=YN(uh,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=Cs(uh,t.__scopeDialog);return i.modal?o.jsx(Lr,{present:n||i.open,children:o.jsx(B$,{...s,ref:e})}):null});GN.displayName=uh;var U$=Co("DialogOverlay.RemoveScroll"),B$=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Cs(uh,r);return o.jsx(Qu,{as:U$,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Le.div,{"data-state":qy(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),wi="DialogContent",JN=v.forwardRef((t,e)=>{const r=YN(wi,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=Cs(wi,t.__scopeDialog);return o.jsx(Lr,{present:n||i.open,children:i.modal?o.jsx(V$,{...s,ref:e}):o.jsx(z$,{...s,ref:e})})});JN.displayName=wi;var V$=v.forwardRef((t,e)=>{const r=Cs(wi,t.__scopeDialog),n=v.useRef(null),s=ot(e,r.contentRef,n);return v.useEffect(()=>{const i=n.current;if(i)return Wh(i)},[]),o.jsx(QN,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(t.onCloseAutoFocus,i=>{var c;i.preventDefault(),(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Ne(t.onPointerDownOutside,i=>{const c=i.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&i.preventDefault()}),onFocusOutside:Ne(t.onFocusOutside,i=>i.preventDefault())})}),z$=v.forwardRef((t,e)=>{const r=Cs(wi,t.__scopeDialog),n=v.useRef(!1),s=v.useRef(!1);return o.jsx(QN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var c,u;(c=t.onCloseAutoFocus)==null||c.call(t,i),i.defaultPrevented||(n.current||(u=r.triggerRef.current)==null||u.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var f,h;(f=t.onInteractOutside)==null||f.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=i.target;((h=r.triggerRef.current)==null?void 0:h.contains(c))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),QN=v.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...c}=t,u=Cs(wi,r),f=v.useRef(null),h=ot(e,f);return Lh(),o.jsxs(o.Fragment,{children:[o.jsx(Yu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(qu,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":qy(u.open),...c,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(H$,{titleId:u.titleId}),o.jsx(Y$,{contentRef:f,descriptionId:u.descriptionId})]})]})}),Hy="DialogTitle",ZN=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Cs(Hy,r);return o.jsx(Le.h2,{id:s.titleId,...n,ref:e})});ZN.displayName=Hy;var XN="DialogDescription",eC=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Cs(XN,r);return o.jsx(Le.p,{id:s.descriptionId,...n,ref:e})});eC.displayName=XN;var tC="DialogClose",rC=v.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Cs(tC,r);return o.jsx(Le.button,{type:"button",...n,ref:e,onClick:Ne(t.onClick,()=>s.onOpenChange(!1))})});rC.displayName=tC;function qy(t){return t?"open":"closed"}var nC="DialogTitleWarning",[W$,sC]=EI(nC,{contentName:wi,titleName:Hy,docsSlug:"dialog"}),H$=({titleId:t})=>{const e=sC(nC),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},q$="DialogDescriptionWarning",Y$=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sC(q$).contentName}}.`;return v.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},Jh=WN,Yy=qN,Qh=KN,uc=GN,ed=JN,td=ZN,rd=eC,Zh=rC;const K$=Jh,G$=Yy,J$=Qh,aC=v.forwardRef(({className:t,...e},r)=>o.jsx(uc,{className:fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));aC.displayName=uc.displayName;const Q$=zu("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),oC=v.forwardRef(({side:t="right",className:e,children:r,...n},s)=>o.jsxs(J$,{children:[o.jsx(aC,{}),o.jsxs(ed,{ref:s,className:fe(Q$({side:t}),e),...n,children:[r,o.jsxs(Zh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[o.jsx(Mh,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));oC.displayName=ed.displayName;const Z$=v.forwardRef(({className:t,...e},r)=>o.jsx(td,{ref:r,className:fe("text-lg font-semibold text-foreground",t),...e}));Z$.displayName=td.displayName;const X$=v.forwardRef(({className:t,...e},r)=>o.jsx(rd,{ref:r,className:fe("text-sm text-muted-foreground",t),...e}));X$.displayName=rd.displayName;const eF=[{to:"/",icon:Mr,label:"Jobs",roles:["admin","office","driver"]},{to:"/drivers",icon:Wu,label:"Drivers",roles:["admin","office"]},{to:"/daily-check",icon:V1,label:"Daily Check",roles:["driver"]},{to:"/map",icon:SI,label:"Map",roles:["admin","office","driver"]},{to:"/quotes",icon:In,label:"Quotes",roles:["admin","office"]},{to:"/admin/checklists",icon:kI,label:"Admin Checklists",roles:["admin"]},{to:"/admin/users",icon:G1,label:"Admin Users",roles:["admin"]},{to:"/admin/saved-addresses",icon:$n,label:"Saved Addresses",roles:["admin","office"]},{to:"/settings",icon:K1,label:"Settings",roles:["admin","office","driver"]}],tF=()=>{const t=J1(),[e,r]=v.useState(!1),{user:n,profile:s,userRole:i,logout:c}=tr(),u=er(),f=eF.filter(y=>!y.roles||i&&y.roles.includes(i)),h=()=>o.jsx("nav",{className:"flex flex-col gap-1 p-2",children:f.map(y=>o.jsxs(qT,{to:y.to,className:({isActive:S})=>fe("flex items-center gap-3 rounded-lg px-3 py-2 transition-all text-sm font-medium",S?"bg-[var(--saas-sidebar-active-bg)] text-[var(--saas-sidebar-active-text)] shadow-sm":"text-[var(--saas-sidebar-text)] hover:bg-[var(--saas-sidebar-hover-bg)] hover:text-blue-600"),onClick:()=>r(!1),children:[o.jsx(y.icon,{className:"h-4 w-4",size:18}),y.label]},y.to))}),p=s!=null&&s.full_name?s.full_name.split(" ").map(y=>y[0]).join("").substring(0,2).toUpperCase():"JD",g=(s==null?void 0:s.full_name)||"John Doe",w=i?i.charAt(0).toUpperCase()+i.slice(1):"User";return t?o.jsxs(K$,{open:e,onOpenChange:r,children:[o.jsx(G$,{asChild:!0,children:o.jsx(ue,{variant:"outline",size:"icon",className:"fixed top-4 left-4 z-50 bg-white shadow-md",children:o.jsx(NI,{className:"h-4 w-4"})})}),o.jsxs(oC,{side:"left",className:"flex flex-col w-[250px] sm:w-[280px] bg-[var(--saas-sidebar-bg)] p-0",children:[o.jsx("div",{className:"flex h-14 items-center border-b border-[var(--saas-border)] px-4 lg:h-[60px] lg:px-6",children:o.jsxs(yi,{to:"/",className:"flex items-center gap-2 font-semibold",onClick:()=>r(!1),children:[o.jsx("img",{src:"/FRS_Logo_NO_BG.png",alt:"FRS Haulage Logo",className:"h-8 w-auto"}),o.jsx("span",{className:"text-lg text-gray-900",children:"FRS Haulage"})]})}),o.jsxs("div",{className:"flex-1 overflow-auto py-2",children:[n&&s&&o.jsx("div",{className:"p-4 border-b border-[var(--saas-border)] mb-2",children:o.jsxs(ih,{children:[o.jsx(lh,{asChild:!0,children:o.jsxs(ue,{variant:"ghost",className:"w-full justify-between h-auto py-2 px-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ja,{className:"h-8 w-8",children:o.jsx(Sa,{className:"bg-blue-100 text-blue-600",children:p})}),o.jsxs("div",{className:"flex flex-col items-start",children:[o.jsx("span",{className:"font-medium text-gray-900",children:g}),o.jsx("span",{className:"text-xs text-gray-500",children:w})]})]}),o.jsx(Xf,{className:"h-4 w-4 text-gray-500"})]})}),o.jsxs(Nu,{className:"w-56 bg-white shadow-lg rounded-md",children:[o.jsx(ch,{children:"My Account"}),o.jsx(Cu,{}),o.jsx(us,{onClick:()=>u("/settings"),children:"Settings"}),o.jsx(us,{onClick:c,children:"Log Out"})]})]})}),h()]})]})]}):o.jsxs("aside",{className:"flex h-screen w-64 flex-col bg-[var(--saas-sidebar-bg)] shadow-sm",children:[o.jsx("div",{className:"flex h-14 items-center border-b border-[var(--saas-border)] px-4 lg:h-[60px] lg:px-6",children:o.jsxs(yi,{to:"/",className:"flex items-center gap-2 font-semibold",children:[o.jsx("img",{src:"/FRS_Logo_NO_BG.png",alt:"FRS Haulage Logo",className:"h-8 w-auto"}),o.jsx("span",{className:"text-lg text-gray-900",children:"FRS Haulage"})]})}),o.jsxs("div",{className:"flex-1 overflow-auto py-2",children:[n&&s&&o.jsx("div",{className:"p-4 border-b border-[var(--saas-border)] mb-2",children:o.jsxs(ih,{children:[o.jsx(lh,{asChild:!0,children:o.jsxs(ue,{variant:"ghost",className:"w-full justify-between h-auto py-2 px-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ja,{className:"h-8 w-8",children:o.jsx(Sa,{className:"bg-blue-100 text-blue-600",children:p})}),o.jsxs("div",{className:"flex flex-col items-start",children:[o.jsx("span",{className:"font-medium text-gray-900",children:g}),o.jsx("span",{className:"text-xs text-gray-500",children:w})]})]}),o.jsx(Xf,{className:"h-4 w-4 text-gray-500"})]})}),o.jsxs(Nu,{className:"w-56 bg-white shadow-lg rounded-md",children:[o.jsx(ch,{children:"My Account"}),o.jsx(Cu,{}),o.jsx(us,{onClick:()=>u("/settings"),children:"Settings"}),o.jsx(us,{onClick:c,children:"Log Out"})]})]})}),h()]})]})},rF=()=>o.jsx("div",{className:"p-4 text-center",children:o.jsx("a",{href:"https://www.dyad.sh/",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"Made with Dyad"})});function Nv(t,[e,r]){return Math.min(r,Math.max(e,t))}function Ky(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var iC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),nF="VisuallyHidden",sF=v.forwardRef((t,e)=>o.jsx(Le.span,{...t,ref:e,style:{...iC,...t.style}}));sF.displayName=nF;var aF=[" ","Enter","ArrowUp","ArrowDown"],oF=[" ","Enter"],bi="Select",[Xh,em,iF]=Sy(bi),[dc,z7]=dn(bi,[iF,cc]),tm=cc(),[lF,Fo]=dc(bi),[cF,uF]=dc(bi),lC=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:i,value:c,defaultValue:u,onValueChange:f,dir:h,name:p,autoComplete:g,disabled:w,required:y,form:S}=t,_=tm(e),[b,N]=v.useState(null),[C,E]=v.useState(null),[k,A]=v.useState(!1),T=Hu(h),[I,L]=Na({prop:n,defaultProp:s??!1,onChange:i,caller:bi}),[B,H]=Na({prop:c,defaultProp:u,onChange:f,caller:bi}),X=v.useRef(null),Q=b?S||!!b.closest("form"):!0,[Y,ee]=v.useState(new Set),ne=Array.from(Y).map(J=>J.props.value).join(";");return o.jsx(Oy,{..._,children:o.jsxs(lF,{required:y,scope:e,trigger:b,onTriggerChange:N,valueNode:C,onValueNodeChange:E,valueNodeHasChildren:k,onValueNodeHasChildrenChange:A,contentId:Pr(),value:B,onValueChange:H,open:I,onOpenChange:L,dir:T,triggerPointerDownPosRef:X,disabled:w,children:[o.jsx(Xh.Provider,{scope:e,children:o.jsx(cF,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(J=>{ee(W=>new Set(W).add(J))},[]),onNativeOptionRemove:v.useCallback(J=>{ee(W=>{const D=new Set(W);return D.delete(J),D})},[]),children:r})}),Q?o.jsxs(RC,{"aria-hidden":!0,required:y,tabIndex:-1,name:p,autoComplete:g,value:B,onChange:J=>H(J.target.value),disabled:w,form:S,children:[B===void 0?o.jsx("option",{value:""}):null,Array.from(Y)]},ne):null]})})};lC.displayName=bi;var cC="SelectTrigger",uC=v.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,i=tm(r),c=Fo(cC,r),u=c.disabled||n,f=ot(e,c.onTriggerChange),h=em(r),p=v.useRef("touch"),[g,w,y]=OC(_=>{const b=h().filter(E=>!E.disabled),N=b.find(E=>E.value===c.value),C=IC(b,_,N);C!==void 0&&c.onValueChange(C.value)}),S=_=>{u||(c.onOpenChange(!0),y()),_&&(c.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return o.jsx(Vh,{asChild:!0,...i,children:o.jsx(Le.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":DC(c.value)?"":void 0,...s,ref:f,onClick:Ne(s.onClick,_=>{_.currentTarget.focus(),p.current!=="mouse"&&S(_)}),onPointerDown:Ne(s.onPointerDown,_=>{p.current=_.pointerType;const b=_.target;b.hasPointerCapture(_.pointerId)&&b.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(S(_),_.preventDefault())}),onKeyDown:Ne(s.onKeyDown,_=>{const b=g.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&w(_.key),!(b&&_.key===" ")&&aF.includes(_.key)&&(S(),_.preventDefault())})})})});uC.displayName=cC;var dC="SelectValue",fC=v.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:c="",...u}=t,f=Fo(dC,r),{onValueNodeHasChildrenChange:h}=f,p=i!==void 0,g=ot(e,f.onValueNodeChange);return dr(()=>{h(p)},[h,p]),o.jsx(Le.span,{...u,ref:g,style:{pointerEvents:"none"},children:DC(f.value)?o.jsx(o.Fragment,{children:c}):i})});fC.displayName=dC;var dF="SelectIcon",hC=v.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return o.jsx(Le.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});hC.displayName=dF;var fF="SelectPortal",mC=t=>o.jsx(Gu,{asChild:!0,...t});mC.displayName=fF;var _i="SelectContent",pC=v.forwardRef((t,e)=>{const r=Fo(_i,t.__scopeSelect),[n,s]=v.useState();if(dr(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Fu.createPortal(o.jsx(gC,{scope:t.__scopeSelect,children:o.jsx(Xh.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),i):null}return o.jsx(vC,{...t,ref:e})});pC.displayName=_i;var rs=10,[gC,Uo]=dc(_i),hF="SelectContentImpl",mF=Co("SelectContent.RemoveScroll"),vC=v.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:c,side:u,sideOffset:f,align:h,alignOffset:p,arrowPadding:g,collisionBoundary:w,collisionPadding:y,sticky:S,hideWhenDetached:_,avoidCollisions:b,...N}=t,C=Fo(_i,r),[E,k]=v.useState(null),[A,T]=v.useState(null),I=ot(e,ae=>k(ae)),[L,B]=v.useState(null),[H,X]=v.useState(null),Q=em(r),[Y,ee]=v.useState(!1),ne=v.useRef(!1);v.useEffect(()=>{if(E)return Wh(E)},[E]),Lh();const J=v.useCallback(ae=>{const[me,...ve]=Q().map(We=>We.ref.current),[je]=ve.slice(-1),Ce=document.activeElement;for(const We of ae)if(We===Ce||(We==null||We.scrollIntoView({block:"nearest"}),We===me&&A&&(A.scrollTop=0),We===je&&A&&(A.scrollTop=A.scrollHeight),We==null||We.focus(),document.activeElement!==Ce))return},[Q,A]),W=v.useCallback(()=>J([L,E]),[J,L,E]);v.useEffect(()=>{Y&&W()},[Y,W]);const{onOpenChange:D,triggerPointerDownPosRef:M}=C;v.useEffect(()=>{if(E){let ae={x:0,y:0};const me=je=>{var Ce,We;ae={x:Math.abs(Math.round(je.pageX)-(((Ce=M.current)==null?void 0:Ce.x)??0)),y:Math.abs(Math.round(je.pageY)-(((We=M.current)==null?void 0:We.y)??0))}},ve=je=>{ae.x<=10&&ae.y<=10?je.preventDefault():E.contains(je.target)||D(!1),document.removeEventListener("pointermove",me),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",ve,{capture:!0})}}},[E,D,M]),v.useEffect(()=>{const ae=()=>D(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[D]);const[F,O]=OC(ae=>{const me=Q().filter(Ce=>!Ce.disabled),ve=me.find(Ce=>Ce.ref.current===document.activeElement),je=IC(me,ae,ve);je&&setTimeout(()=>je.ref.current.focus())}),R=v.useCallback((ae,me,ve)=>{const je=!ne.current&&!ve;(C.value!==void 0&&C.value===me||je)&&(B(ae),je&&(ne.current=!0))},[C.value]),Z=v.useCallback(()=>E==null?void 0:E.focus(),[E]),z=v.useCallback((ae,me,ve)=>{const je=!ne.current&&!ve;(C.value!==void 0&&C.value===me||je)&&X(ae)},[C.value]),U=n==="popper"?Cv:yC,de=U===Cv?{side:u,sideOffset:f,align:h,alignOffset:p,arrowPadding:g,collisionBoundary:w,collisionPadding:y,sticky:S,hideWhenDetached:_,avoidCollisions:b}:{};return o.jsx(gC,{scope:r,content:E,viewport:A,onViewportChange:T,itemRefCallback:R,selectedItem:L,onItemLeave:Z,itemTextRefCallback:z,focusSelectedItem:W,selectedItemText:H,position:n,isPositioned:Y,searchRef:F,children:o.jsx(Qu,{as:mF,allowPinchZoom:!0,children:o.jsx(Yu,{asChild:!0,trapped:C.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Ne(s,ae=>{var me;(me=C.trigger)==null||me.focus({preventScroll:!0}),ae.preventDefault()}),children:o.jsx(qu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:o.jsx(U,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:ae=>ae.preventDefault(),...N,...de,onPlaced:()=>ee(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Ne(N.onKeyDown,ae=>{const me=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!me&&ae.key.length===1&&O(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let je=Q().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const Ce=ae.target,We=je.indexOf(Ce);je=je.slice(We+1)}setTimeout(()=>J(je)),ae.preventDefault()}})})})})})})});vC.displayName=hF;var pF="SelectItemAlignedPosition",yC=v.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,i=Fo(_i,r),c=Uo(_i,r),[u,f]=v.useState(null),[h,p]=v.useState(null),g=ot(e,I=>p(I)),w=em(r),y=v.useRef(!1),S=v.useRef(!0),{viewport:_,selectedItem:b,selectedItemText:N,focusSelectedItem:C}=c,E=v.useCallback(()=>{if(i.trigger&&i.valueNode&&u&&h&&_&&b&&N){const I=i.trigger.getBoundingClientRect(),L=h.getBoundingClientRect(),B=i.valueNode.getBoundingClientRect(),H=N.getBoundingClientRect();if(i.dir!=="rtl"){const Ce=H.left-L.left,We=B.left-Ce,At=I.left-We,Oe=I.width+At,lt=Math.max(Oe,L.width),bt=window.innerWidth-rs,Kt=Nv(We,[rs,Math.max(rs,bt-lt)]);u.style.minWidth=Oe+"px",u.style.left=Kt+"px"}else{const Ce=L.right-H.right,We=window.innerWidth-B.right-Ce,At=window.innerWidth-I.right-We,Oe=I.width+At,lt=Math.max(Oe,L.width),bt=window.innerWidth-rs,Kt=Nv(We,[rs,Math.max(rs,bt-lt)]);u.style.minWidth=Oe+"px",u.style.right=Kt+"px"}const X=w(),Q=window.innerHeight-rs*2,Y=_.scrollHeight,ee=window.getComputedStyle(h),ne=parseInt(ee.borderTopWidth,10),J=parseInt(ee.paddingTop,10),W=parseInt(ee.borderBottomWidth,10),D=parseInt(ee.paddingBottom,10),M=ne+J+Y+D+W,F=Math.min(b.offsetHeight*5,M),O=window.getComputedStyle(_),R=parseInt(O.paddingTop,10),Z=parseInt(O.paddingBottom,10),z=I.top+I.height/2-rs,U=Q-z,de=b.offsetHeight/2,ae=b.offsetTop+de,me=ne+J+ae,ve=M-me;if(me<=z){const Ce=X.length>0&&b===X[X.length-1].ref.current;u.style.bottom="0px";const We=h.clientHeight-_.offsetTop-_.offsetHeight,At=Math.max(U,de+(Ce?Z:0)+We+W),Oe=me+At;u.style.height=Oe+"px"}else{const Ce=X.length>0&&b===X[0].ref.current;u.style.top="0px";const At=Math.max(z,ne+_.offsetTop+(Ce?R:0)+de)+ve;u.style.height=At+"px",_.scrollTop=me-z+_.offsetTop}u.style.margin=`${rs}px 0`,u.style.minHeight=F+"px",u.style.maxHeight=Q+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[w,i.trigger,i.valueNode,u,h,_,b,N,i.dir,n]);dr(()=>E(),[E]);const[k,A]=v.useState();dr(()=>{h&&A(window.getComputedStyle(h).zIndex)},[h]);const T=v.useCallback(I=>{I&&S.current===!0&&(E(),C==null||C(),S.current=!1)},[E,C]);return o.jsx(vF,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:y,onScrollButtonChange:T,children:o.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:o.jsx(Le.div,{...s,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});yC.displayName=pF;var gF="SelectPopperPosition",Cv=v.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=rs,...i}=t,c=tm(r);return o.jsx(Iy,{...c,...i,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Cv.displayName=gF;var[vF,Gy]=dc(_i,{}),kv="SelectViewport",xC=v.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,i=Uo(kv,r),c=Gy(kv,r),u=ot(e,i.onViewportChange),f=v.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(Xh.Slot,{scope:r,children:o.jsx(Le.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ne(s.onScroll,h=>{const p=h.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:w}=c;if(w!=null&&w.current&&g){const y=Math.abs(f.current-p.scrollTop);if(y>0){const S=window.innerHeight-rs*2,_=parseFloat(g.style.minHeight),b=parseFloat(g.style.height),N=Math.max(_,b);if(N<S){const C=N+y,E=Math.min(S,C),k=C-E;g.style.height=E+"px",g.style.bottom==="0px"&&(p.scrollTop=k>0?k:0,g.style.justifyContent="flex-end")}}}f.current=p.scrollTop})})})]})});xC.displayName=kv;var wC="SelectGroup",[yF,xF]=dc(wC),wF=v.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Pr();return o.jsx(yF,{scope:r,id:s,children:o.jsx(Le.div,{role:"group","aria-labelledby":s,...n,ref:e})})});wF.displayName=wC;var bC="SelectLabel",_C=v.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=xF(bC,r);return o.jsx(Le.div,{id:s.id,...n,ref:e})});_C.displayName=bC;var dh="SelectItem",[bF,jC]=dc(dh),SC=v.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...c}=t,u=Fo(dh,r),f=Uo(dh,r),h=u.value===n,[p,g]=v.useState(i??""),[w,y]=v.useState(!1),S=ot(e,C=>{var E;return(E=f.itemRefCallback)==null?void 0:E.call(f,C,n,s)}),_=Pr(),b=v.useRef("touch"),N=()=>{s||(u.onValueChange(n),u.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(bF,{scope:r,value:n,disabled:s,textId:_,isSelected:h,onItemTextChange:v.useCallback(C=>{g(E=>E||((C==null?void 0:C.textContent)??"").trim())},[]),children:o.jsx(Xh.ItemSlot,{scope:r,value:n,disabled:s,textValue:p,children:o.jsx(Le.div,{role:"option","aria-labelledby":_,"data-highlighted":w?"":void 0,"aria-selected":h&&w,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...c,ref:S,onFocus:Ne(c.onFocus,()=>y(!0)),onBlur:Ne(c.onBlur,()=>y(!1)),onClick:Ne(c.onClick,()=>{b.current!=="mouse"&&N()}),onPointerUp:Ne(c.onPointerUp,()=>{b.current==="mouse"&&N()}),onPointerDown:Ne(c.onPointerDown,C=>{b.current=C.pointerType}),onPointerMove:Ne(c.onPointerMove,C=>{var E;b.current=C.pointerType,s?(E=f.onItemLeave)==null||E.call(f):b.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ne(c.onPointerLeave,C=>{var E;C.currentTarget===document.activeElement&&((E=f.onItemLeave)==null||E.call(f))}),onKeyDown:Ne(c.onKeyDown,C=>{var k;((k=f.searchRef)==null?void 0:k.current)!==""&&C.key===" "||(oF.includes(C.key)&&N(),C.key===" "&&C.preventDefault())})})})})});SC.displayName=dh;var ou="SelectItemText",NC=v.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...i}=t,c=Fo(ou,r),u=Uo(ou,r),f=jC(ou,r),h=uF(ou,r),[p,g]=v.useState(null),w=ot(e,N=>g(N),f.onItemTextChange,N=>{var C;return(C=u.itemTextRefCallback)==null?void 0:C.call(u,N,f.value,f.disabled)}),y=p==null?void 0:p.textContent,S=v.useMemo(()=>o.jsx("option",{value:f.value,disabled:f.disabled,children:y},f.value),[f.disabled,f.value,y]),{onNativeOptionAdd:_,onNativeOptionRemove:b}=h;return dr(()=>(_(S),()=>b(S)),[_,b,S]),o.jsxs(o.Fragment,{children:[o.jsx(Le.span,{id:f.textId,...i,ref:w}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Fu.createPortal(i.children,c.valueNode):null]})});NC.displayName=ou;var CC="SelectItemIndicator",kC=v.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return jC(CC,r).isSelected?o.jsx(Le.span,{"aria-hidden":!0,...n,ref:e}):null});kC.displayName=CC;var Ev="SelectScrollUpButton",EC=v.forwardRef((t,e)=>{const r=Uo(Ev,t.__scopeSelect),n=Gy(Ev,t.__scopeSelect),[s,i]=v.useState(!1),c=ot(e,n.onScrollButtonChange);return dr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const h=f.scrollTop>0;i(h)};const f=r.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),s?o.jsx(AC,{...t,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=r;u&&f&&(u.scrollTop=u.scrollTop-f.offsetHeight)}}):null});EC.displayName=Ev;var Pv="SelectScrollDownButton",PC=v.forwardRef((t,e)=>{const r=Uo(Pv,t.__scopeSelect),n=Gy(Pv,t.__scopeSelect),[s,i]=v.useState(!1),c=ot(e,n.onScrollButtonChange);return dr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const h=f.scrollHeight-f.clientHeight,p=Math.ceil(f.scrollTop)<h;i(p)};const f=r.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),s?o.jsx(AC,{...t,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=r;u&&f&&(u.scrollTop=u.scrollTop+f.offsetHeight)}}):null});PC.displayName=Pv;var AC=v.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,i=Uo("SelectScrollButton",r),c=v.useRef(null),u=em(r),f=v.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return v.useEffect(()=>()=>f(),[f]),dr(()=>{var p;const h=u().find(g=>g.ref.current===document.activeElement);(p=h==null?void 0:h.ref.current)==null||p.scrollIntoView({block:"nearest"})},[u]),o.jsx(Le.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ne(s.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:Ne(s.onPointerMove,()=>{var h;(h=i.onItemLeave)==null||h.call(i),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:Ne(s.onPointerLeave,()=>{f()})})}),_F="SelectSeparator",TC=v.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return o.jsx(Le.div,{"aria-hidden":!0,...n,ref:e})});TC.displayName=_F;var Av="SelectArrow",jF=v.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=tm(r),i=Fo(Av,r),c=Uo(Av,r);return i.open&&c.position==="popper"?o.jsx(My,{...s,...n,ref:e}):null});jF.displayName=Av;var SF="SelectBubbleInput",RC=v.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const s=v.useRef(null),i=ot(n,s),c=Ky(e);return v.useEffect(()=>{const u=s.current;if(!u)return;const f=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==e&&p){const g=new Event("change",{bubbles:!0});p.call(u,e),u.dispatchEvent(g)}},[c,e]),o.jsx(Le.select,{...r,style:{...iC,...r.style},ref:i,defaultValue:e})});RC.displayName=SF;function DC(t){return t===""||t===void 0}function OC(t){const e=br(t),r=v.useRef(""),n=v.useRef(0),s=v.useCallback(c=>{const u=r.current+c;e(u),(function f(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>f(""),1e3))})(u)},[e]),i=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function IC(t,e,r){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let c=NF(t,Math.max(i,0));s.length===1&&(c=c.filter(h=>h!==r));const f=c.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return f!==r?f:void 0}function NF(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var CF=lC,MC=uC,kF=fC,EF=hC,PF=mC,LC=pC,AF=xC,$C=_C,FC=SC,TF=NC,RF=kC,UC=EC,BC=PC,VC=TC;const Un=CF,Bn=kF,jn=v.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(MC,{ref:n,className:fe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,o.jsx(EF,{asChild:!0,children:o.jsx(Xf,{className:"h-4 w-4 opacity-50"})})]}));jn.displayName=MC.displayName;const zC=v.forwardRef(({className:t,...e},r)=>o.jsx(UC,{ref:r,className:fe("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(gI,{className:"h-4 w-4"})}));zC.displayName=UC.displayName;const WC=v.forwardRef(({className:t,...e},r)=>o.jsx(BC,{ref:r,className:fe("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(Xf,{className:"h-4 w-4"})}));WC.displayName=BC.displayName;const Sn=v.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>o.jsx(PF,{children:o.jsxs(LC,{ref:s,className:fe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[o.jsx(zC,{}),o.jsx(AF,{className:fe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(WC,{})]})}));Sn.displayName=LC.displayName;const DF=v.forwardRef(({className:t,...e},r)=>o.jsx($C,{ref:r,className:fe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));DF.displayName=$C.displayName;const Ft=v.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(FC,{ref:n,className:fe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(RF,{children:o.jsx(Dh,{className:"h-4 w-4"})})}),o.jsx(TF,{children:e})]}));Ft.displayName=FC.displayName;const OF=v.forwardRef(({className:t,...e},r)=>o.jsx(VC,{ref:r,className:fe("-mx-1 my-1 h-px bg-muted",t),...e}));OF.displayName=VC.displayName;const kr=[];for(let t=0;t<256;++t)kr.push((t+256).toString(16).slice(1));function IF(t,e=0){return(kr[t[e+0]]+kr[t[e+1]]+kr[t[e+2]]+kr[t[e+3]]+"-"+kr[t[e+4]]+kr[t[e+5]]+"-"+kr[t[e+6]]+kr[t[e+7]]+"-"+kr[t[e+8]]+kr[t[e+9]]+"-"+kr[t[e+10]]+kr[t[e+11]]+kr[t[e+12]]+kr[t[e+13]]+kr[t[e+14]]+kr[t[e+15]]).toLowerCase()}let Ng;const MF=new Uint8Array(16);function LF(){if(!Ng){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ng=crypto.getRandomValues.bind(crypto)}return Ng(MF)}const $F=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),A_={randomUUID:$F};function bn(t,e,r){var s;if(A_.randomUUID&&!t)return A_.randomUUID();t=t||{};const n=t.random??((s=t.rng)==null?void 0:s.call(t))??LF();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,IF(n)}const ds=bn(),FF=bn(),UF=bn(),BF=bn(),VF=[{id:ds,name:"Demo Haulage",created_at:new Date().toISOString()}];new Date().toISOString(),new Date().toISOString(),new Date().toISOString();const iu=[{id:BF,org_id:ds,name:"Pre-shift Vehicle Check",items:[{id:"lights",text:"All lights working?",type:"checkbox"},{id:"tires",text:"Tire pressure and condition OK?",type:"checkbox"},{id:"fuel",text:"Fuel level sufficient?",type:"checkbox"},{id:"brakes",text:"Brakes functioning correctly?",type:"checkbox"},{id:"oil",text:"Engine oil level OK?",type:"checkbox"},{id:"notes",text:"Any additional notes?",type:"text"}],active:!0,created_at:new Date().toISOString()}];bn(),new Date().toISOString(),bn(),new Date().toISOString(),bn(),new Date().toISOString(),bn(),new Date().toISOString();const HC=new Date,zF=new Date(HC);zF.setDate(HC.getDate()+1);let WF=[];bn(),new Date().toISOString(),bn(),new Date().toISOString(),bn(),new Date().toISOString();const Jy=t=>new Promise(e=>setTimeout(e,t)),qC=async()=>(await Jy(200),VF);async function _r(t,e){const{data:{session:r}}=await Ze.auth.getSession(),n=`https://hrastslmlkkfwsdsbbcn.supabase.co/functions/v1/${t}`,s=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json",...r!=null&&r.access_token?{Authorization:`Bearer ${r.access_token}`}:{}},body:e?JSON.stringify(e):void 0});let i={};try{i=await s.json()}catch{}if(!s.ok||(i==null?void 0:i.ok)===!1){const c=(i==null?void 0:i.error)||`Function ${t} failed (${s.status})`;throw new Error(c)}return i}const Ra=async(t,e)=>{if(e==="driver"){const{data:r,error:n}=await Ze.from("profiles").select("id, org_id, full_name, dob, phone, role, user_id, truck_reg, trailer_no, created_at, last_location, last_job_status, is_demo").eq("org_id",t);if(n)throw console.error("Error fetching profiles for driver:",n),new Error(n.message);return r}else if(e==="admin"||e==="office")return await _r("admin-users-management",{op:"read_all",org_id:t});return[]},HF=async t=>await _r("admin-users-management",{op:"read_all",org_id:t}),YC=async(t,e,r,n)=>{const s={op:"create",org_id:t,actor_id:r,actor_role:n,...e};return await _r("admin-users-management",s)},qF=async(t,e,r,n,s)=>await _r("admin-users-management",{op:"update",org_id:t,profile_id:e,actor_id:n,actor_role:s,updates:r}),KC=async(t,e,r,n)=>(await _r("admin-users-management",{op:"reset_password",org_id:t,user_id:e,actor_id:r,actor_role:n}),!0),YF=async(t,e,r,n)=>(await _r("admin-users-management",{op:"delete",org_id:t,profile_id:e,actor_id:r,actor_role:n}),!0),KF=async(t,e,r)=>await _r("admin-users-management",{op:"purge_demo",org_id:t,actor_id:e,actor_role:r}),GF=async(t,e,r)=>await _r("admin-users-management",{op:"purge_all_non_admin",org_id:t,actor_id:e,actor_role:r}),Tv=async(t,e,r,n,s="active")=>{let i;e==="driver"?i=Ze.from("jobs").select("*").eq("org_id",t).order("created_at",{ascending:!1}):i=Ze.from("jobs_with_stop_details").select("*").eq("org_id",t).order("created_at",{ascending:!1}),s==="active"?i=i.filter("status","not.in",'("delivered","pod_received","cancelled")'):s==="completed"?i=i.in("status",["delivered","pod_received"]):s==="cancelled"&&(i=i.eq("status","cancelled")),r&&(i=i.gte("created_at",r)),n&&(i=i.lte("created_at",n));const{data:c,error:u}=await i;if(u)throw console.error("Error fetching jobs:",u),new Error(u.message);return c},JF=async(t,e,r)=>{let n;r==="driver"?n=Ze.from("jobs").select("*").eq("order_number",e).eq("org_id",t).single():n=Ze.from("jobs_with_stop_details").select("*").eq("order_number",e).eq("org_id",t).single();const{data:s,error:i}=await n;if(i&&i.code!=="PGRST116")throw console.error("Error fetching job by ID:",i),new Error(i.message);if(s)return s},QF=async(t,e)=>{const{data:r,error:n}=await Ze.from("job_stops").select("*").eq("job_id",e).eq("org_id",t).order("seq",{ascending:!0});if(n)throw console.error("Error fetching job stops:",n),new Error(n.message);return r},GC=async(t,e)=>{const{data:r,error:n}=await Ze.from("documents").select("*").eq("job_id",e).eq("org_id",t).order("created_at",{ascending:!1});if(n)throw console.error("Error fetching job documents:",n),new Error(n.message);return r},ZF=async(t,e)=>{const{data:r,error:n}=await Ze.from("job_progress_log").select("*").eq("job_id",e).eq("org_id",t).order("timestamp",{ascending:!1});if(n)throw console.error("Error fetching job progress logs:",n),new Error(n.message);return r},JC=async(t,e,r,n,s)=>{const i={jobData:{order_number:e.order_number,status:e.status,date_created:e.date_created,price:e.price,assigned_driver_id:e.assigned_driver_id,notes:e.notes},stopsData:r,org_id:t,actor_id:n,actor_role:s};return await _r("create-job",i)},Rv=async t=>await _r("update-job",t),Qy=async t=>await _r("update-job-progress",t),XF=async t=>await _r("update-timeline-visibility",t),e5=async(t,e,r,n)=>{const{data:s,error:i}=await Ze.from("job_progress_log").insert({org_id:e,job_id:t,actor_id:r,action_type:"pod_requested",actor_role:n,notes:"POD requested by office.",timestamp:new Date().toISOString()});if(i)throw console.error("Error requesting POD:",i),new Error(i.message);return!0},t5=async(t,e,r)=>(console.log(`Simulating generate_job_pdf for job ${t}`),`https://example.com/pdfs/job_${t}_report.pdf?token=signed_url_token`),r5=async(t,e,r,n)=>{const{data:s,error:i}=await Ze.from("jobs_with_stop_details").select("status").eq("id",t).eq("org_id",e).single();if(i||!s)throw console.error("Error fetching job for cancellation:",i),new Error((i==null?void 0:i.message)||"Job not found.");const{data:c,error:u}=await Ze.from("jobs").update({status:"cancelled",deleted_at:new Date().toISOString(),last_status_update_at:new Date().toISOString()}).eq("id",t).eq("org_id",e).select().single();if(u)throw console.error("Error cancelling job:",u),new Error(u.message);const{error:f}=await Ze.from("job_progress_log").insert({org_id:e,job_id:t,actor_id:r,action_type:"cancelled",actor_role:n,notes:"Job cancelled by office.",timestamp:new Date().toISOString()});f&&console.error("DEBUG: progress log insert failed for cancel job",f.message);const{error:h}=await Ze.from("audit_logs").insert({org_id:e,actor_id:r,entity:"jobs",entity_id:t,action:"cancel",before:{status:s.status},after:{status:"cancelled",deleted_at:c.deleted_at}});return h&&console.error("DEBUG: audit insert failed",h.message),c},QC=async(t,e,r,n,s,i,c)=>{const u={org_id:e,job_id:t,stop_id:c,type:n,storage_path:s,uploaded_by:r,created_at:new Date().toISOString()},{data:f,error:h}=await Ze.from("documents").insert(u).select().single();if(h)throw console.error("Error inserting document:",h),new Error(h.message);const{error:p}=await Ze.from("job_progress_log").insert({org_id:e,job_id:t,stop_id:c,actor_id:r,actor_role:"driver",action_type:i,notes:`${n.replace(/_/g," ")} uploaded.`,timestamp:new Date().toISOString(),file_path:s});return p&&console.error("Error inserting document upload log:",p),f},T_=async t=>(await Jy(200),iu.filter(e=>e.org_id===t)),n5=async(t,e,r,n)=>{await Jy(500);const s=iu.findIndex(i=>i.id===e&&i.org_id===t);if(s>-1){const i={...iu[s]};return iu[s]={...i,items:r,created_at:new Date().toISOString()},WF.push({id:bn(),org_id:t,actor_id:n,entity:"daily_checklists",entity_id:e,action:"update",before:{items:i.items},after:{items:r},created_at:new Date().toISOString()}),iu[s]}},s5=async t=>{const{data:e,error:r}=await Ze.functions.invoke("admin-daily-check-items",{method:"POST",body:JSON.stringify({op:"read",org_id:t})});if(r)throw console.error("Error fetching daily check items:",r),new Error((e==null?void 0:e.error)||"Failed to fetch daily check items.");return e},a5=async(t,e)=>{var u;const{data:r}=await Ze.auth.getUser(),{data:n,error:s}=await Ze.from("profiles").select("role").eq("id",(u=r==null?void 0:r.user)==null?void 0:u.id).single();if(s)throw new Error("Failed to fetch user role for daily check item creation.");const{data:i,error:c}=await Ze.functions.invoke("admin-daily-check-items",{method:"POST",body:JSON.stringify({op:"create",org_id:t,actor_role:n.role,...e})});if(c)throw console.error("Error creating daily check item:",c),new Error((i==null?void 0:i.error)||"Failed to create daily check item.");return i},R_=async(t,e,r)=>{var f;const{data:n}=await Ze.auth.getUser(),{data:s,error:i}=await Ze.from("profiles").select("role").eq("id",(f=n==null?void 0:n.user)==null?void 0:f.id).single();if(i)throw new Error("Failed to fetch user role for daily check item update.");const{data:c,error:u}=await Ze.functions.invoke(`admin-daily-check-items/${e}`,{method:"PUT",body:JSON.stringify({op:"update",org_id:t,actor_role:s.role,changes:r})});if(u)throw console.error("Error updating daily check item:",u),new Error((c==null?void 0:c.error)||"Failed to update daily check item.");return c},o5=async(t,e)=>{var u;const{data:r}=await Ze.auth.getUser(),{data:n,error:s}=await Ze.from("profiles").select("role").eq("id",(u=r==null?void 0:r.user)==null?void 0:u.id).single();if(s)throw new Error("Failed to fetch user role for daily check item deletion.");const{data:i,error:c}=await Ze.functions.invoke(`admin-daily-check-items/${e}`,{method:"DELETE",body:JSON.stringify({op:"delete",org_id:t,actor_role:n.role})});if(c)throw console.error("Error deleting daily check item:",c),new Error((i==null?void 0:i.error)||"Failed to delete daily check item.");return i},i5=async(t,e)=>await _r("saved-addresses-crud",{op:"read_all",org_id:t,searchTerm:e}),l5=async(t,e)=>await _r("saved-addresses-crud",{op:"search_autocomplete",org_id:t,searchTerm:e}),c5=async(t,e,r)=>{const n={op:"create",org_id:t,actor_role:r,...e};return await _r("saved-addresses-crud",n)},D_=async(t,e,r,n)=>await _r("saved-addresses-crud",{op:"update",id:e,org_id:t,actor_role:n,updates:r}),u5=async(t,e,r)=>{await _r("saved-addresses-crud",{op:"delete",id:e,org_id:t,actor_role:r})};var Hf={exports:{}},d5=Hf.exports,O_;function f5(){return O_||(O_=1,(function(t,e){(function(r,n){t.exports=n()})(d5,(function(){var r=1e3,n=6e4,s=36e5,i="millisecond",c="second",u="minute",f="hour",h="day",p="week",g="month",w="quarter",y="year",S="date",_="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,N=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ee){var ne=["th","st","nd","rd"],J=ee%100;return"["+ee+(ne[(J-20)%10]||ne[J]||ne[0])+"]"}},E=function(ee,ne,J){var W=String(ee);return!W||W.length>=ne?ee:""+Array(ne+1-W.length).join(J)+ee},k={s:E,z:function(ee){var ne=-ee.utcOffset(),J=Math.abs(ne),W=Math.floor(J/60),D=J%60;return(ne<=0?"+":"-")+E(W,2,"0")+":"+E(D,2,"0")},m:function ee(ne,J){if(ne.date()<J.date())return-ee(J,ne);var W=12*(J.year()-ne.year())+(J.month()-ne.month()),D=ne.clone().add(W,g),M=J-D<0,F=ne.clone().add(W+(M?-1:1),g);return+(-(W+(J-D)/(M?D-F:F-D))||0)},a:function(ee){return ee<0?Math.ceil(ee)||0:Math.floor(ee)},p:function(ee){return{M:g,y,w:p,d:h,D:S,h:f,m:u,s:c,ms:i,Q:w}[ee]||String(ee||"").toLowerCase().replace(/s$/,"")},u:function(ee){return ee===void 0}},A="en",T={};T[A]=C;var I="$isDayjsObject",L=function(ee){return ee instanceof Q||!(!ee||!ee[I])},B=function ee(ne,J,W){var D;if(!ne)return A;if(typeof ne=="string"){var M=ne.toLowerCase();T[M]&&(D=M),J&&(T[M]=J,D=M);var F=ne.split("-");if(!D&&F.length>1)return ee(F[0])}else{var O=ne.name;T[O]=ne,D=O}return!W&&D&&(A=D),D||!W&&A},H=function(ee,ne){if(L(ee))return ee.clone();var J=typeof ne=="object"?ne:{};return J.date=ee,J.args=arguments,new Q(J)},X=k;X.l=B,X.i=L,X.w=function(ee,ne){return H(ee,{locale:ne.$L,utc:ne.$u,x:ne.$x,$offset:ne.$offset})};var Q=(function(){function ee(J){this.$L=B(J.locale,null,!0),this.parse(J),this.$x=this.$x||J.x||{},this[I]=!0}var ne=ee.prototype;return ne.parse=function(J){this.$d=(function(W){var D=W.date,M=W.utc;if(D===null)return new Date(NaN);if(X.u(D))return new Date;if(D instanceof Date)return new Date(D);if(typeof D=="string"&&!/Z$/i.test(D)){var F=D.match(b);if(F){var O=F[2]-1||0,R=(F[7]||"0").substring(0,3);return M?new Date(Date.UTC(F[1],O,F[3]||1,F[4]||0,F[5]||0,F[6]||0,R)):new Date(F[1],O,F[3]||1,F[4]||0,F[5]||0,F[6]||0,R)}}return new Date(D)})(J),this.init()},ne.init=function(){var J=this.$d;this.$y=J.getFullYear(),this.$M=J.getMonth(),this.$D=J.getDate(),this.$W=J.getDay(),this.$H=J.getHours(),this.$m=J.getMinutes(),this.$s=J.getSeconds(),this.$ms=J.getMilliseconds()},ne.$utils=function(){return X},ne.isValid=function(){return this.$d.toString()!==_},ne.isSame=function(J,W){var D=H(J);return this.startOf(W)<=D&&D<=this.endOf(W)},ne.isAfter=function(J,W){return H(J)<this.startOf(W)},ne.isBefore=function(J,W){return this.endOf(W)<H(J)},ne.$g=function(J,W,D){return X.u(J)?this[W]:this.set(D,J)},ne.unix=function(){return Math.floor(this.valueOf()/1e3)},ne.valueOf=function(){return this.$d.getTime()},ne.startOf=function(J,W){var D=this,M=!!X.u(W)||W,F=X.p(J),O=function(ve,je){var Ce=X.w(D.$u?Date.UTC(D.$y,je,ve):new Date(D.$y,je,ve),D);return M?Ce:Ce.endOf(h)},R=function(ve,je){return X.w(D.toDate()[ve].apply(D.toDate("s"),(M?[0,0,0,0]:[23,59,59,999]).slice(je)),D)},Z=this.$W,z=this.$M,U=this.$D,de="set"+(this.$u?"UTC":"");switch(F){case y:return M?O(1,0):O(31,11);case g:return M?O(1,z):O(0,z+1);case p:var ae=this.$locale().weekStart||0,me=(Z<ae?Z+7:Z)-ae;return O(M?U-me:U+(6-me),z);case h:case S:return R(de+"Hours",0);case f:return R(de+"Minutes",1);case u:return R(de+"Seconds",2);case c:return R(de+"Milliseconds",3);default:return this.clone()}},ne.endOf=function(J){return this.startOf(J,!1)},ne.$set=function(J,W){var D,M=X.p(J),F="set"+(this.$u?"UTC":""),O=(D={},D[h]=F+"Date",D[S]=F+"Date",D[g]=F+"Month",D[y]=F+"FullYear",D[f]=F+"Hours",D[u]=F+"Minutes",D[c]=F+"Seconds",D[i]=F+"Milliseconds",D)[M],R=M===h?this.$D+(W-this.$W):W;if(M===g||M===y){var Z=this.clone().set(S,1);Z.$d[O](R),Z.init(),this.$d=Z.set(S,Math.min(this.$D,Z.daysInMonth())).$d}else O&&this.$d[O](R);return this.init(),this},ne.set=function(J,W){return this.clone().$set(J,W)},ne.get=function(J){return this[X.p(J)]()},ne.add=function(J,W){var D,M=this;J=Number(J);var F=X.p(W),O=function(z){var U=H(M);return X.w(U.date(U.date()+Math.round(z*J)),M)};if(F===g)return this.set(g,this.$M+J);if(F===y)return this.set(y,this.$y+J);if(F===h)return O(1);if(F===p)return O(7);var R=(D={},D[u]=n,D[f]=s,D[c]=r,D)[F]||1,Z=this.$d.getTime()+J*R;return X.w(Z,this)},ne.subtract=function(J,W){return this.add(-1*J,W)},ne.format=function(J){var W=this,D=this.$locale();if(!this.isValid())return D.invalidDate||_;var M=J||"YYYY-MM-DDTHH:mm:ssZ",F=X.z(this),O=this.$H,R=this.$m,Z=this.$M,z=D.weekdays,U=D.months,de=D.meridiem,ae=function(je,Ce,We,At){return je&&(je[Ce]||je(W,M))||We[Ce].slice(0,At)},me=function(je){return X.s(O%12||12,je,"0")},ve=de||function(je,Ce,We){var At=je<12?"AM":"PM";return We?At.toLowerCase():At};return M.replace(N,(function(je,Ce){return Ce||(function(We){switch(We){case"YY":return String(W.$y).slice(-2);case"YYYY":return X.s(W.$y,4,"0");case"M":return Z+1;case"MM":return X.s(Z+1,2,"0");case"MMM":return ae(D.monthsShort,Z,U,3);case"MMMM":return ae(U,Z);case"D":return W.$D;case"DD":return X.s(W.$D,2,"0");case"d":return String(W.$W);case"dd":return ae(D.weekdaysMin,W.$W,z,2);case"ddd":return ae(D.weekdaysShort,W.$W,z,3);case"dddd":return z[W.$W];case"H":return String(O);case"HH":return X.s(O,2,"0");case"h":return me(1);case"hh":return me(2);case"a":return ve(O,R,!0);case"A":return ve(O,R,!1);case"m":return String(R);case"mm":return X.s(R,2,"0");case"s":return String(W.$s);case"ss":return X.s(W.$s,2,"0");case"SSS":return X.s(W.$ms,3,"0");case"Z":return F}return null})(je)||F.replace(":","")}))},ne.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ne.diff=function(J,W,D){var M,F=this,O=X.p(W),R=H(J),Z=(R.utcOffset()-this.utcOffset())*n,z=this-R,U=function(){return X.m(F,R)};switch(O){case y:M=U()/12;break;case g:M=U();break;case w:M=U()/3;break;case p:M=(z-Z)/6048e5;break;case h:M=(z-Z)/864e5;break;case f:M=z/s;break;case u:M=z/n;break;case c:M=z/r;break;default:M=z}return D?M:X.a(M)},ne.daysInMonth=function(){return this.endOf(g).$D},ne.$locale=function(){return T[this.$L]},ne.locale=function(J,W){if(!J)return this.$L;var D=this.clone(),M=B(J,W,!0);return M&&(D.$L=M),D},ne.clone=function(){return X.w(this.$d,this)},ne.toDate=function(){return new Date(this.valueOf())},ne.toJSON=function(){return this.isValid()?this.toISOString():null},ne.toISOString=function(){return this.$d.toISOString()},ne.toString=function(){return this.$d.toUTCString()},ee})(),Y=Q.prototype;return H.prototype=Y,[["$ms",i],["$s",c],["$m",u],["$H",f],["$W",h],["$M",g],["$y",y],["$D",S]].forEach((function(ee){Y[ee[1]]=function(ne){return this.$g(ne,ee[0],ee[1])}})),H.extend=function(ee,ne){return ee.$i||(ee(ne,Q,H),ee.$i=!0),H},H.locale=B,H.isDayjs=L,H.unix=function(ee){return H(1e3*ee)},H.en=T[A],H.Ls=T,H.p={},H}))})(Hf)),Hf.exports}var h5=f5();const Tl=nc(h5);var rm="Popover",[ZC,W7]=dn(rm,[cc]),nd=cc(),[m5,Bo]=ZC(rm),XC=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:c=!1}=t,u=nd(e),f=v.useRef(null),[h,p]=v.useState(!1),[g,w]=Na({prop:n,defaultProp:s??!1,onChange:i,caller:rm});return o.jsx(Oy,{...u,children:o.jsx(m5,{scope:e,contentId:Pr(),triggerRef:f,open:g,onOpenChange:w,onOpenToggle:v.useCallback(()=>w(y=>!y),[w]),hasCustomAnchor:h,onCustomAnchorAdd:v.useCallback(()=>p(!0),[]),onCustomAnchorRemove:v.useCallback(()=>p(!1),[]),modal:c,children:r})})};XC.displayName=rm;var ek="PopoverAnchor",p5=v.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Bo(ek,r),i=nd(r),{onCustomAnchorAdd:c,onCustomAnchorRemove:u}=s;return v.useEffect(()=>(c(),()=>u()),[c,u]),o.jsx(Vh,{...i,...n,ref:e})});p5.displayName=ek;var tk="PopoverTrigger",rk=v.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Bo(tk,r),i=nd(r),c=ot(e,s.triggerRef),u=o.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ik(s.open),...n,ref:c,onClick:Ne(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?u:o.jsx(Vh,{asChild:!0,...i,children:u})});rk.displayName=tk;var Zy="PopoverPortal",[g5,v5]=ZC(Zy,{forceMount:void 0}),nk=t=>{const{__scopePopover:e,forceMount:r,children:n,container:s}=t,i=Bo(Zy,e);return o.jsx(g5,{scope:e,forceMount:r,children:o.jsx(Lr,{present:r||i.open,children:o.jsx(Gu,{asChild:!0,container:s,children:n})})})};nk.displayName=Zy;var Jl="PopoverContent",sk=v.forwardRef((t,e)=>{const r=v5(Jl,t.__scopePopover),{forceMount:n=r.forceMount,...s}=t,i=Bo(Jl,t.__scopePopover);return o.jsx(Lr,{present:n||i.open,children:i.modal?o.jsx(x5,{...s,ref:e}):o.jsx(w5,{...s,ref:e})})});sk.displayName=Jl;var y5=Co("PopoverContent.RemoveScroll"),x5=v.forwardRef((t,e)=>{const r=Bo(Jl,t.__scopePopover),n=v.useRef(null),s=ot(e,n),i=v.useRef(!1);return v.useEffect(()=>{const c=n.current;if(c)return Wh(c)},[]),o.jsx(Qu,{as:y5,allowPinchZoom:!0,children:o.jsx(ak,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(t.onCloseAutoFocus,c=>{var u;c.preventDefault(),i.current||(u=r.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Ne(t.onPointerDownOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,h=u.button===2||f;i.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:Ne(t.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),w5=v.forwardRef((t,e)=>{const r=Bo(Jl,t.__scopePopover),n=v.useRef(!1),s=v.useRef(!1);return o.jsx(ak,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var c,u;(c=t.onCloseAutoFocus)==null||c.call(t,i),i.defaultPrevented||(n.current||(u=r.triggerRef.current)==null||u.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var f,h;(f=t.onInteractOutside)==null||f.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=i.target;((h=r.triggerRef.current)==null?void 0:h.contains(c))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),ak=v.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p,...g}=t,w=Bo(Jl,r),y=nd(r);return Lh(),o.jsx(Yu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(qu,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:p,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>w.onOpenChange(!1),children:o.jsx(Iy,{"data-state":ik(w.open),role:"dialog",id:w.contentId,...y,...g,ref:e,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ok="PopoverClose",b5=v.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Bo(ok,r);return o.jsx(Le.button,{type:"button",...n,ref:e,onClick:Ne(t.onClick,()=>s.onOpenChange(!1))})});b5.displayName=ok;var _5="PopoverArrow",j5=v.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=nd(r);return o.jsx(My,{...s,...n,ref:e})});j5.displayName=_5;function ik(t){return t?"open":"closed"}var S5=XC,N5=rk,C5=nk,lk=sk;const Po=S5,Ao=N5,Ea=v.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},s)=>o.jsx(C5,{children:o.jsx(lk,{ref:s,align:e,sideOffset:r,className:fe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Ea.displayName=lk.displayName;function mt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Nn(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function qr(t,e){const r=mt(t);return isNaN(e)?Nn(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function gs(t,e){const r=mt(t);if(isNaN(e))return Nn(t,NaN);if(!e)return r;const n=r.getDate(),s=Nn(t,r.getTime());s.setMonth(r.getMonth()+e+1,0);const i=s.getDate();return n>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const Xy=6048e5,k5=864e5,ck=6e4,uk=36e5;let E5={};function sd(){return E5}function Ks(t,e){var u,f,h,p;const r=sd(),n=(e==null?void 0:e.weekStartsOn)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,s=mt(t),i=s.getDay(),c=(i<n?7:0)+i-n;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function ji(t){return Ks(t,{weekStartsOn:1})}function dk(t){const e=mt(t),r=e.getFullYear(),n=Nn(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=ji(n),i=Nn(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const c=ji(i);return e.getTime()>=s.getTime()?r+1:e.getTime()>=c.getTime()?r:r-1}function Ql(t){const e=mt(t);return e.setHours(0,0,0,0),e}function fh(t){const e=mt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Bs(t,e){const r=Ql(t),n=Ql(e),s=+r-fh(r),i=+n-fh(n);return Math.round((s-i)/k5)}function P5(t){const e=dk(t),r=Nn(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),ji(r)}function Dv(t,e){const r=e*7;return qr(t,r)}function A5(t,e){return gs(t,e*12)}function T5(t){let e;return t.forEach(function(r){const n=mt(r);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function R5(t){let e;return t.forEach(r=>{const n=mt(r);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function ln(t,e){const r=Ql(t),n=Ql(e);return+r==+n}function ex(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function D5(t){if(!ex(t)&&typeof t!="number")return!1;const e=mt(t);return!isNaN(Number(e))}function ku(t,e){const r=mt(t),n=mt(e),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function O5(t,e,r){const n=Ks(t,r),s=Ks(e,r),i=+n-fh(n),c=+s-fh(s);return Math.round((i-c)/Xy)}function tx(t){const e=mt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function un(t){const e=mt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function fk(t){const e=mt(t),r=Nn(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function rx(t,e){var u,f,h,p;const r=sd(),n=(e==null?void 0:e.weekStartsOn)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,s=mt(t),i=s.getDay(),c=(i<n?-7:0)+6-(i-n);return s.setDate(s.getDate()+c),s.setHours(23,59,59,999),s}function hk(t){return rx(t,{weekStartsOn:1})}const I5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},M5=(t,e,r)=>{let n;const s=I5[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Cg(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const L5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},F5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},U5={date:Cg({formats:L5,defaultWidth:"full"}),time:Cg({formats:$5,defaultWidth:"full"}),dateTime:Cg({formats:F5,defaultWidth:"full"})},B5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},V5=(t,e,r,n)=>B5[t];function Zc(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,u=r!=null&&r.width?String(r.width):c;s=t.formattingValues[u]||t.formattingValues[c]}else{const c=t.defaultWidth,u=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[u]||t.values[c]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const z5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},W5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},H5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},q5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Y5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},K5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},G5=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},J5={ordinalNumber:G5,era:Zc({values:z5,defaultWidth:"wide"}),quarter:Zc({values:W5,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Zc({values:H5,defaultWidth:"wide"}),day:Zc({values:q5,defaultWidth:"wide"}),dayPeriod:Zc({values:Y5,defaultWidth:"wide",formattingValues:K5,defaultFormattingWidth:"wide"})};function Xc(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const c=i[0],u=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(u)?Z5(u,g=>g.test(c)):Q5(u,g=>g.test(c));let h;h=t.valueCallback?t.valueCallback(f):f,h=r.valueCallback?r.valueCallback(h):h;const p=e.slice(c.length);return{value:h,rest:p}}}function Q5(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Z5(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function X5(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],i=e.match(t.parsePattern);if(!i)return null;let c=t.valueCallback?t.valueCallback(i[0]):i[0];c=r.valueCallback?r.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}const e3=/^(\d+)(th|st|nd|rd)?/i,t3=/\d+/i,r3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},n3={any:[/^b/i,/^(a|c)/i]},s3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},a3={any:[/1/i,/2/i,/3/i,/4/i]},o3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},i3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},l3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},c3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},u3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},d3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},f3={ordinalNumber:X5({matchPattern:e3,parsePattern:t3,valueCallback:t=>parseInt(t,10)}),era:Xc({matchPatterns:r3,defaultMatchWidth:"wide",parsePatterns:n3,defaultParseWidth:"any"}),quarter:Xc({matchPatterns:s3,defaultMatchWidth:"wide",parsePatterns:a3,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Xc({matchPatterns:o3,defaultMatchWidth:"wide",parsePatterns:i3,defaultParseWidth:"any"}),day:Xc({matchPatterns:l3,defaultMatchWidth:"wide",parsePatterns:c3,defaultParseWidth:"any"}),dayPeriod:Xc({matchPatterns:u3,defaultMatchWidth:"any",parsePatterns:d3,defaultParseWidth:"any"})},mk={code:"en-US",formatDistance:M5,formatLong:U5,formatRelative:V5,localize:J5,match:f3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function h3(t){const e=mt(t);return Bs(e,fk(e))+1}function pk(t){const e=mt(t),r=+ji(e)-+P5(e);return Math.round(r/Xy)+1}function gk(t,e){var p,g,w,y;const r=mt(t),n=r.getFullYear(),s=sd(),i=(e==null?void 0:e.firstWeekContainsDate)??((g=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(w=s.locale)==null?void 0:w.options)==null?void 0:y.firstWeekContainsDate)??1,c=Nn(t,0);c.setFullYear(n+1,0,i),c.setHours(0,0,0,0);const u=Ks(c,e),f=Nn(t,0);f.setFullYear(n,0,i),f.setHours(0,0,0,0);const h=Ks(f,e);return r.getTime()>=u.getTime()?n+1:r.getTime()>=h.getTime()?n:n-1}function m3(t,e){var u,f,h,p;const r=sd(),n=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=gk(t,e),i=Nn(t,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Ks(i,e)}function vk(t,e){const r=mt(t),n=+Ks(r,e)-+m3(r,e);return Math.round(n/Xy)+1}function It(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const so={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return It(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):It(r+1,2)},d(t,e){return It(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return It(t.getHours()%12||12,e.length)},H(t,e){return It(t.getHours(),e.length)},m(t,e){return It(t.getMinutes(),e.length)},s(t,e){return It(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return It(s,e.length)}},wl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},I_={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return so.y(t,e)},Y:function(t,e,r,n){const s=gk(t,n),i=s>0?s:1-s;if(e==="YY"){const c=i%100;return It(c,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):It(i,e.length)},R:function(t,e){const r=dk(t);return It(r,e.length)},u:function(t,e){const r=t.getFullYear();return It(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return It(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return It(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return so.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return It(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=vk(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):It(s,e.length)},I:function(t,e,r){const n=pk(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):It(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):so.d(t,e)},D:function(t,e,r){const n=h3(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):It(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return It(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return It(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return It(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=wl.noon:n===0?s=wl.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=wl.evening:n>=12?s=wl.afternoon:n>=4?s=wl.morning:s=wl.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return so.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):so.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):It(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):It(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):so.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):so.s(t,e)},S:function(t,e){return so.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return L_(n);case"XXXX":case"XX":return ai(n);case"XXXXX":case"XXX":default:return ai(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return L_(n);case"xxxx":case"xx":return ai(n);case"xxxxx":case"xxx":default:return ai(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+M_(n,":");case"OOOO":default:return"GMT"+ai(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+M_(n,":");case"zzzz":default:return"GMT"+ai(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return It(n,e.length)},T:function(t,e,r){const n=t.getTime();return It(n,e.length)}};function M_(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+e+It(i,2)}function L_(t,e){return t%60===0?(t>0?"-":"+")+It(Math.abs(t)/60,2):ai(t,e)}function ai(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=It(Math.trunc(n/60),2),i=It(n%60,2);return r+s+e+i}const $_=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},yk=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},p3=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return $_(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",$_(n,e)).replace("{{time}}",yk(s,e))},g3={p:yk,P:p3},v3=/^D+$/,y3=/^Y+$/,x3=["D","DD","YY","YYYY"];function w3(t){return v3.test(t)}function b3(t){return y3.test(t)}function _3(t,e,r){const n=j3(t,e,r);if(console.warn(n),x3.includes(t))throw new RangeError(n)}function j3(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const S3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,N3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,C3=/^'([^]*?)'?$/,k3=/''/g,E3=/[a-zA-Z]/;function xt(t,e,r){var p,g,w,y,S,_,b,N;const n=sd(),s=(r==null?void 0:r.locale)??n.locale??mk,i=(r==null?void 0:r.firstWeekContainsDate)??((g=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(w=n.locale)==null?void 0:w.options)==null?void 0:y.firstWeekContainsDate)??1,c=(r==null?void 0:r.weekStartsOn)??((_=(S=r==null?void 0:r.locale)==null?void 0:S.options)==null?void 0:_.weekStartsOn)??n.weekStartsOn??((N=(b=n.locale)==null?void 0:b.options)==null?void 0:N.weekStartsOn)??0,u=mt(t);if(!D5(u))throw new RangeError("Invalid time value");let f=e.match(N3).map(C=>{const E=C[0];if(E==="p"||E==="P"){const k=g3[E];return k(C,s.formatLong)}return C}).join("").match(S3).map(C=>{if(C==="''")return{isToken:!1,value:"'"};const E=C[0];if(E==="'")return{isToken:!1,value:P3(C)};if(I_[E])return{isToken:!0,value:C};if(E.match(E3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:C}});s.localize.preprocessor&&(f=s.localize.preprocessor(u,f));const h={firstWeekContainsDate:i,weekStartsOn:c,locale:s};return f.map(C=>{if(!C.isToken)return C.value;const E=C.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&b3(E)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&w3(E))&&_3(E,e,String(t));const k=I_[E[0]];return k(u,E,s.localize,h)}).join("")}function P3(t){const e=t.match(C3);return e?e[1].replace(k3,"'"):t}function A3(t){const e=mt(t),r=e.getFullYear(),n=e.getMonth(),s=Nn(t,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function T3(t){return Math.trunc(+mt(t)/1e3)}function R3(t){const e=mt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function D3(t,e){return O5(R3(t),un(t),e)+1}function Ov(t,e){const r=mt(t),n=mt(e);return r.getTime()>n.getTime()}function xk(t,e){const r=mt(t),n=mt(e);return+r<+n}function nx(t,e){const r=mt(t),n=mt(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function O3(t,e){const r=mt(t),n=mt(e);return r.getFullYear()===n.getFullYear()}function kg(t,e){return qr(t,-e)}function cr(t,e){const n=$3(t);let s;if(n.date){const f=F3(n.date,2);s=U3(f.restDateString,f.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let c=0,u;if(n.time&&(c=B3(n.time),isNaN(c)))return new Date(NaN);if(n.timezone){if(u=V3(n.timezone),isNaN(u))return new Date(NaN)}else{const f=new Date(i+c),h=new Date(0);return h.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),h.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),h}return new Date(i+c+u)}const $f={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},I3=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,M3=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,L3=/^([+-])(\d{2})(?::?(\d{2}))?$/;function $3(t){const e={},r=t.split($f.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],$f.timeZoneDelimiter.test(e.date)&&(e.date=t.split($f.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const s=$f.timezone.exec(n);s?(e.time=n.replace(s[1],""),e.timezone=s[1]):e.time=n}return e}function F3(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((n[1]||n[2]).length)}}function U3(t,e){if(e===null)return new Date(NaN);const r=t.match(I3);if(!r)return new Date(NaN);const n=!!r[4],s=eu(r[1]),i=eu(r[2])-1,c=eu(r[3]),u=eu(r[4]),f=eu(r[5])-1;if(n)return Y3(e,u,f)?z3(e,u,f):new Date(NaN);{const h=new Date(0);return!H3(e,i,c)||!q3(e,s)?new Date(NaN):(h.setUTCFullYear(e,i,Math.max(s,c)),h)}}function eu(t){return t?parseInt(t):1}function B3(t){const e=t.match(M3);if(!e)return NaN;const r=Eg(e[1]),n=Eg(e[2]),s=Eg(e[3]);return K3(r,n,s)?r*uk+n*ck+s*1e3:NaN}function Eg(t){return t&&parseFloat(t.replace(",","."))||0}function V3(t){if(t==="Z")return 0;const e=t.match(L3);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return G3(n,s)?r*(n*uk+s*ck):NaN}function z3(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const s=n.getUTCDay()||7,i=(e-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const W3=[31,null,31,30,31,30,31,31,30,31,30,31];function wk(t){return t%400===0||t%4===0&&t%100!==0}function H3(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(W3[e]||(wk(t)?29:28))}function q3(t,e){return e>=1&&e<=(wk(t)?366:365)}function Y3(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function K3(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function G3(t,e){return e>=0&&e<=59}function Pg(t,e){const r=mt(t),n=r.getFullYear(),s=r.getDate(),i=Nn(t,0);i.setFullYear(n,e,15),i.setHours(0,0,0,0);const c=A3(i);return r.setMonth(e,Math.min(s,c)),r}function os(t,e){const r=mt(t);return r.setHours(e),r}function is(t,e){const r=mt(t);return r.setMinutes(e),r}function ls(t,e){const r=mt(t);return r.setSeconds(e),r}function F_(t,e){const r=mt(t);return isNaN(+r)?Nn(t,NaN):(r.setFullYear(e),r)}var Je=function(){return Je=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Je.apply(this,arguments)};function J3(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function bk(t,e,r){for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function ad(t){return t.mode==="multiple"}function od(t){return t.mode==="range"}function nm(t){return t.mode==="single"}var Q3={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Z3(t,e){return xt(t,"LLLL y",e)}function X3(t,e){return xt(t,"d",e)}function e6(t,e){return xt(t,"LLLL",e)}function t6(t){return"".concat(t)}function r6(t,e){return xt(t,"cccccc",e)}function n6(t,e){return xt(t,"yyyy",e)}var s6=Object.freeze({__proto__:null,formatCaption:Z3,formatDay:X3,formatMonthCaption:e6,formatWeekNumber:t6,formatWeekdayName:r6,formatYearCaption:n6}),a6=function(t,e,r){return xt(t,"do MMMM (EEEE)",r)},o6=function(){return"Month: "},i6=function(){return"Go to next month"},l6=function(){return"Go to previous month"},c6=function(t,e){return xt(t,"cccc",e)},u6=function(t){return"Week n. ".concat(t)},d6=function(){return"Year: "},f6=Object.freeze({__proto__:null,labelDay:a6,labelMonthDropdown:o6,labelNext:i6,labelPrevious:l6,labelWeekNumber:u6,labelWeekday:c6,labelYearDropdown:d6});function h6(){var t="buttons",e=Q3,r=mk,n={},s={},i=1,c={},u=new Date;return{captionLayout:t,classNames:e,formatters:s6,labels:f6,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:i,styles:c,today:u,mode:"default"}}function m6(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,s=t.toMonth,i=t.fromDate,c=t.toDate;return n?i=un(n):e&&(i=new Date(e,0,1)),s?c=tx(s):r&&(c=new Date(r,11,31)),{fromDate:i?Ql(i):void 0,toDate:c?Ql(c):void 0}}var _k=v.createContext(void 0);function p6(t){var e,r=t.initialProps,n=h6(),s=m6(r),i=s.fromDate,c=s.toDate,u=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;u!=="buttons"&&(!i||!c)&&(u="buttons");var f;(nm(r)||ad(r)||od(r))&&(f=r.onSelect);var h=Je(Je(Je({},n),r),{captionLayout:u,classNames:Je(Je({},n.classNames),r.classNames),components:Je({},r.components),formatters:Je(Je({},n.formatters),r.formatters),fromDate:i,labels:Je(Je({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Je(Je({},n.modifiers),r.modifiers),modifiersClassNames:Je(Je({},n.modifiersClassNames),r.modifiersClassNames),onSelect:f,styles:Je(Je({},n.styles),r.styles),toDate:c});return o.jsx(_k.Provider,{value:h,children:t.children})}function Ut(){var t=v.useContext(_k);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function jk(t){var e=Ut(),r=e.locale,n=e.classNames,s=e.styles,i=e.formatters.formatCaption;return o.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:r})})}function g6(t){return o.jsx("svg",Je({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Sk(t){var e,r,n=t.onChange,s=t.value,i=t.children,c=t.caption,u=t.className,f=t.style,h=Ut(),p=(r=(e=h.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:g6;return o.jsxs("div",{className:u,style:f,children:[o.jsx("span",{className:h.classNames.vhidden,children:t["aria-label"]}),o.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:h.classNames.dropdown,style:h.styles.dropdown,value:s,onChange:n,children:i}),o.jsxs("div",{className:h.classNames.caption_label,style:h.styles.caption_label,"aria-hidden":"true",children:[c,o.jsx(p,{className:h.classNames.dropdown_icon,style:h.styles.dropdown_icon})]})]})}function v6(t){var e,r=Ut(),n=r.fromDate,s=r.toDate,i=r.styles,c=r.locale,u=r.formatters.formatMonthCaption,f=r.classNames,h=r.components,p=r.labels.labelMonthDropdown;if(!n)return o.jsx(o.Fragment,{});if(!s)return o.jsx(o.Fragment,{});var g=[];if(O3(n,s))for(var w=un(n),y=n.getMonth();y<=s.getMonth();y++)g.push(Pg(w,y));else for(var w=un(new Date),y=0;y<=11;y++)g.push(Pg(w,y));var S=function(b){var N=Number(b.target.value),C=Pg(un(t.displayMonth),N);t.onChange(C)},_=(e=h==null?void 0:h.Dropdown)!==null&&e!==void 0?e:Sk;return o.jsx(_,{name:"months","aria-label":p(),className:f.dropdown_month,style:i.dropdown_month,onChange:S,value:t.displayMonth.getMonth(),caption:u(t.displayMonth,{locale:c}),children:g.map(function(b){return o.jsx("option",{value:b.getMonth(),children:u(b,{locale:c})},b.getMonth())})})}function y6(t){var e,r=t.displayMonth,n=Ut(),s=n.fromDate,i=n.toDate,c=n.locale,u=n.styles,f=n.classNames,h=n.components,p=n.formatters.formatYearCaption,g=n.labels.labelYearDropdown,w=[];if(!s)return o.jsx(o.Fragment,{});if(!i)return o.jsx(o.Fragment,{});for(var y=s.getFullYear(),S=i.getFullYear(),_=y;_<=S;_++)w.push(F_(fk(new Date),_));var b=function(C){var E=F_(un(r),Number(C.target.value));t.onChange(E)},N=(e=h==null?void 0:h.Dropdown)!==null&&e!==void 0?e:Sk;return o.jsx(N,{name:"years","aria-label":g(),className:f.dropdown_year,style:u.dropdown_year,onChange:b,value:r.getFullYear(),caption:p(r,{locale:c}),children:w.map(function(C){return o.jsx("option",{value:C.getFullYear(),children:p(C,{locale:c})},C.getFullYear())})})}function x6(t,e){var r=v.useState(t),n=r[0],s=r[1],i=e===void 0?n:e;return[i,s]}function w6(t){var e=t.month,r=t.defaultMonth,n=t.today,s=e||r||n||new Date,i=t.toDate,c=t.fromDate,u=t.numberOfMonths,f=u===void 0?1:u;if(i&&ku(i,s)<0){var h=-1*(f-1);s=gs(i,h)}return c&&ku(s,c)<0&&(s=c),un(s)}function b6(){var t=Ut(),e=w6(t),r=x6(e,t.month),n=r[0],s=r[1],i=function(c){var u;if(!t.disableNavigation){var f=un(c);s(f),(u=t.onMonthChange)===null||u===void 0||u.call(t,f)}};return[n,i]}function _6(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,s=un(t),i=un(gs(s,n)),c=ku(i,s),u=[],f=0;f<c;f++){var h=gs(s,f);u.push(h)}return r&&(u=u.reverse()),u}function j6(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,c=n?i:1,u=un(t);if(!r)return gs(u,c);var f=ku(r,t);if(!(f<i))return gs(u,c)}}function S6(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,c=n?i:1,u=un(t);if(!r)return gs(u,-c);var f=ku(u,r);if(!(f<=0))return gs(u,-c)}}var Nk=v.createContext(void 0);function N6(t){var e=Ut(),r=b6(),n=r[0],s=r[1],i=_6(n,e),c=j6(n,e),u=S6(n,e),f=function(g){return i.some(function(w){return nx(g,w)})},h=function(g,w){f(g)||(w&&xk(g,w)?s(gs(g,1+e.numberOfMonths*-1)):s(g))},p={currentMonth:n,displayMonths:i,goToMonth:s,goToDate:h,previousMonth:u,nextMonth:c,isDateDisplayed:f};return o.jsx(Nk.Provider,{value:p,children:t.children})}function id(){var t=v.useContext(Nk);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function U_(t){var e,r=Ut(),n=r.classNames,s=r.styles,i=r.components,c=id().goToMonth,u=function(p){c(gs(p,t.displayIndex?-t.displayIndex:0))},f=(e=i==null?void 0:i.CaptionLabel)!==null&&e!==void 0?e:jk,h=o.jsx(f,{id:t.id,displayMonth:t.displayMonth});return o.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[o.jsx("div",{className:n.vhidden,children:h}),o.jsx(v6,{onChange:u,displayMonth:t.displayMonth}),o.jsx(y6,{onChange:u,displayMonth:t.displayMonth})]})}function C6(t){return o.jsx("svg",Je({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function k6(t){return o.jsx("svg",Je({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var hh=v.forwardRef(function(t,e){var r=Ut(),n=r.classNames,s=r.styles,i=[n.button_reset,n.button];t.className&&i.push(t.className);var c=i.join(" "),u=Je(Je({},s.button_reset),s.button);return t.style&&Object.assign(u,t.style),o.jsx("button",Je({},t,{ref:e,type:"button",className:c,style:u}))});function E6(t){var e,r,n=Ut(),s=n.dir,i=n.locale,c=n.classNames,u=n.styles,f=n.labels,h=f.labelPrevious,p=f.labelNext,g=n.components;if(!t.nextMonth&&!t.previousMonth)return o.jsx(o.Fragment,{});var w=h(t.previousMonth,{locale:i}),y=[c.nav_button,c.nav_button_previous].join(" "),S=p(t.nextMonth,{locale:i}),_=[c.nav_button,c.nav_button_next].join(" "),b=(e=g==null?void 0:g.IconRight)!==null&&e!==void 0?e:k6,N=(r=g==null?void 0:g.IconLeft)!==null&&r!==void 0?r:C6;return o.jsxs("div",{className:c.nav,style:u.nav,children:[!t.hidePrevious&&o.jsx(hh,{name:"previous-month","aria-label":w,className:y,style:u.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?o.jsx(b,{className:c.nav_icon,style:u.nav_icon}):o.jsx(N,{className:c.nav_icon,style:u.nav_icon})}),!t.hideNext&&o.jsx(hh,{name:"next-month","aria-label":S,className:_,style:u.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?o.jsx(N,{className:c.nav_icon,style:u.nav_icon}):o.jsx(b,{className:c.nav_icon,style:u.nav_icon})})]})}function B_(t){var e=Ut().numberOfMonths,r=id(),n=r.previousMonth,s=r.nextMonth,i=r.goToMonth,c=r.displayMonths,u=c.findIndex(function(S){return nx(t.displayMonth,S)}),f=u===0,h=u===c.length-1,p=e>1&&(f||!h),g=e>1&&(h||!f),w=function(){n&&i(n)},y=function(){s&&i(s)};return o.jsx(E6,{displayMonth:t.displayMonth,hideNext:p,hidePrevious:g,nextMonth:s,previousMonth:n,onPreviousClick:w,onNextClick:y})}function P6(t){var e,r=Ut(),n=r.classNames,s=r.disableNavigation,i=r.styles,c=r.captionLayout,u=r.components,f=(e=u==null?void 0:u.CaptionLabel)!==null&&e!==void 0?e:jk,h;return s?h=o.jsx(f,{id:t.id,displayMonth:t.displayMonth}):c==="dropdown"?h=o.jsx(U_,{displayMonth:t.displayMonth,id:t.id}):c==="dropdown-buttons"?h=o.jsxs(o.Fragment,{children:[o.jsx(U_,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),o.jsx(B_,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):h=o.jsxs(o.Fragment,{children:[o.jsx(f,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),o.jsx(B_,{displayMonth:t.displayMonth,id:t.id})]}),o.jsx("div",{className:n.caption,style:i.caption,children:h})}function A6(t){var e=Ut(),r=e.footer,n=e.styles,s=e.classNames.tfoot;return r?o.jsx("tfoot",{className:s,style:n.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:r})})}):o.jsx(o.Fragment,{})}function T6(t,e,r){for(var n=r?ji(new Date):Ks(new Date,{locale:t,weekStartsOn:e}),s=[],i=0;i<7;i++){var c=qr(n,i);s.push(c)}return s}function R6(){var t=Ut(),e=t.classNames,r=t.styles,n=t.showWeekNumber,s=t.locale,i=t.weekStartsOn,c=t.ISOWeek,u=t.formatters.formatWeekdayName,f=t.labels.labelWeekday,h=T6(s,i,c);return o.jsxs("tr",{style:r.head_row,className:e.head_row,children:[n&&o.jsx("td",{style:r.head_cell,className:e.head_cell}),h.map(function(p,g){return o.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":f(p,{locale:s}),children:u(p,{locale:s})},g)})]})}function D6(){var t,e=Ut(),r=e.classNames,n=e.styles,s=e.components,i=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:R6;return o.jsx("thead",{style:n.head,className:r.head,children:o.jsx(i,{})})}function O6(t){var e=Ut(),r=e.locale,n=e.formatters.formatDay;return o.jsx(o.Fragment,{children:n(t.date,{locale:r})})}var sx=v.createContext(void 0);function I6(t){if(!ad(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return o.jsx(sx.Provider,{value:e,children:t.children})}return o.jsx(M6,{initialProps:t.initialProps,children:t.children})}function M6(t){var e=t.initialProps,r=t.children,n=e.selected,s=e.min,i=e.max,c=function(h,p,g){var w,y;(w=e.onDayClick)===null||w===void 0||w.call(e,h,p,g);var S=!!(p.selected&&s&&(n==null?void 0:n.length)===s);if(!S){var _=!!(!p.selected&&i&&(n==null?void 0:n.length)===i);if(!_){var b=n?bk([],n):[];if(p.selected){var N=b.findIndex(function(C){return ln(h,C)});b.splice(N,1)}else b.push(h);(y=e.onSelect)===null||y===void 0||y.call(e,b,h,p,g)}}},u={disabled:[]};n&&u.disabled.push(function(h){var p=i&&n.length>i-1,g=n.some(function(w){return ln(w,h)});return!!(p&&!g)});var f={selected:n,onDayClick:c,modifiers:u};return o.jsx(sx.Provider,{value:f,children:r})}function ax(){var t=v.useContext(sx);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function L6(t,e){var r=e||{},n=r.from,s=r.to;return n&&s?ln(s,t)&&ln(n,t)?void 0:ln(s,t)?{from:s,to:void 0}:ln(n,t)?void 0:Ov(n,t)?{from:t,to:s}:{from:n,to:t}:s?Ov(t,s)?{from:s,to:t}:{from:t,to:s}:n?xk(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var ox=v.createContext(void 0);function $6(t){if(!od(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(ox.Provider,{value:e,children:t.children})}return o.jsx(F6,{initialProps:t.initialProps,children:t.children})}function F6(t){var e=t.initialProps,r=t.children,n=e.selected,s=n||{},i=s.from,c=s.to,u=e.min,f=e.max,h=function(y,S,_){var b,N;(b=e.onDayClick)===null||b===void 0||b.call(e,y,S,_);var C=L6(y,n);(N=e.onSelect)===null||N===void 0||N.call(e,C,y,S,_)},p={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(p.range_start=[i],c?(p.range_end=[c],ln(i,c)||(p.range_middle=[{after:i,before:c}])):p.range_end=[i]):c&&(p.range_start=[c],p.range_end=[c]),u&&(i&&!c&&p.disabled.push({after:kg(i,u-1),before:qr(i,u-1)}),i&&c&&p.disabled.push({after:i,before:qr(i,u-1)}),!i&&c&&p.disabled.push({after:kg(c,u-1),before:qr(c,u-1)})),f){if(i&&!c&&(p.disabled.push({before:qr(i,-f+1)}),p.disabled.push({after:qr(i,f-1)})),i&&c){var g=Bs(c,i)+1,w=f-g;p.disabled.push({before:kg(i,w)}),p.disabled.push({after:qr(c,w)})}!i&&c&&(p.disabled.push({before:qr(c,-f+1)}),p.disabled.push({after:qr(c,f-1)}))}return o.jsx(ox.Provider,{value:{selected:n,onDayClick:h,modifiers:p},children:r})}function ix(){var t=v.useContext(ox);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function qf(t){return Array.isArray(t)?bk([],t):t!==void 0?[t]:[]}function U6(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],s=r[1];e[n]=qf(s)}),e}var vs;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(vs||(vs={}));var B6=vs.Selected,ua=vs.Disabled,V6=vs.Hidden,z6=vs.Today,Ag=vs.RangeEnd,Tg=vs.RangeMiddle,Rg=vs.RangeStart,W6=vs.Outside;function H6(t,e,r){var n,s=(n={},n[B6]=qf(t.selected),n[ua]=qf(t.disabled),n[V6]=qf(t.hidden),n[z6]=[t.today],n[Ag]=[],n[Tg]=[],n[Rg]=[],n[W6]=[],n);return t.fromDate&&s[ua].push({before:t.fromDate}),t.toDate&&s[ua].push({after:t.toDate}),ad(t)?s[ua]=s[ua].concat(e.modifiers[ua]):od(t)&&(s[ua]=s[ua].concat(r.modifiers[ua]),s[Rg]=r.modifiers[Rg],s[Tg]=r.modifiers[Tg],s[Ag]=r.modifiers[Ag]),s}var Ck=v.createContext(void 0);function q6(t){var e=Ut(),r=ax(),n=ix(),s=H6(e,r,n),i=U6(e.modifiers),c=Je(Je({},s),i);return o.jsx(Ck.Provider,{value:c,children:t.children})}function kk(){var t=v.useContext(Ck);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function Y6(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function K6(t){return!!(t&&typeof t=="object"&&"from"in t)}function G6(t){return!!(t&&typeof t=="object"&&"after"in t)}function J6(t){return!!(t&&typeof t=="object"&&"before"in t)}function Q6(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Z6(t,e){var r,n=e.from,s=e.to;if(n&&s){var i=Bs(s,n)<0;i&&(r=[s,n],n=r[0],s=r[1]);var c=Bs(t,n)>=0&&Bs(s,t)>=0;return c}return s?ln(s,t):n?ln(n,t):!1}function X6(t){return ex(t)}function eU(t){return Array.isArray(t)&&t.every(ex)}function tU(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if(X6(r))return ln(t,r);if(eU(r))return r.includes(t);if(K6(r))return Z6(t,r);if(Q6(r))return r.dayOfWeek.includes(t.getDay());if(Y6(r)){var n=Bs(r.before,t),s=Bs(r.after,t),i=n>0,c=s<0,u=Ov(r.before,r.after);return u?c&&i:i||c}return G6(r)?Bs(t,r.after)>0:J6(r)?Bs(r.before,t)>0:typeof r=="function"?r(t):!1})}function lx(t,e,r){var n=Object.keys(e).reduce(function(i,c){var u=e[c];return tU(t,u)&&i.push(c),i},[]),s={};return n.forEach(function(i){return s[i]=!0}),r&&!nx(t,r)&&(s.outside=!0),s}function rU(t,e){for(var r=un(t[0]),n=tx(t[t.length-1]),s,i,c=r;c<=n;){var u=lx(c,e),f=!u.disabled&&!u.hidden;if(!f){c=qr(c,1);continue}if(u.selected)return c;u.today&&!i&&(i=c),s||(s=c),c=qr(c,1)}return i||s}var nU=365;function Ek(t,e){var r=e.moveBy,n=e.direction,s=e.context,i=e.modifiers,c=e.retry,u=c===void 0?{count:0,lastFocused:t}:c,f=s.weekStartsOn,h=s.fromDate,p=s.toDate,g=s.locale,w={day:qr,week:Dv,month:gs,year:A5,startOfWeek:function(b){return s.ISOWeek?ji(b):Ks(b,{locale:g,weekStartsOn:f})},endOfWeek:function(b){return s.ISOWeek?hk(b):rx(b,{locale:g,weekStartsOn:f})}},y=w[r](t,n==="after"?1:-1);n==="before"&&h?y=T5([h,y]):n==="after"&&p&&(y=R5([p,y]));var S=!0;if(i){var _=lx(y,i);S=!_.disabled&&!_.hidden}return S?y:u.count>nU?u.lastFocused:Ek(y,{moveBy:r,direction:n,context:s,modifiers:i,retry:Je(Je({},u),{count:u.count+1})})}var Pk=v.createContext(void 0);function sU(t){var e=id(),r=kk(),n=v.useState(),s=n[0],i=n[1],c=v.useState(),u=c[0],f=c[1],h=rU(e.displayMonths,r),p=s??(u&&e.isDateDisplayed(u))?u:h,g=function(){f(s),i(void 0)},w=function(b){i(b)},y=Ut(),S=function(b,N){if(s){var C=Ek(s,{moveBy:b,direction:N,context:y,modifiers:r});ln(s,C)||(e.goToDate(C,s),w(C))}},_={focusedDay:s,focusTarget:p,blur:g,focus:w,focusDayAfter:function(){return S("day","after")},focusDayBefore:function(){return S("day","before")},focusWeekAfter:function(){return S("week","after")},focusWeekBefore:function(){return S("week","before")},focusMonthBefore:function(){return S("month","before")},focusMonthAfter:function(){return S("month","after")},focusYearBefore:function(){return S("year","before")},focusYearAfter:function(){return S("year","after")},focusStartOfWeek:function(){return S("startOfWeek","before")},focusEndOfWeek:function(){return S("endOfWeek","after")}};return o.jsx(Pk.Provider,{value:_,children:t.children})}function cx(){var t=v.useContext(Pk);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function aU(t,e){var r=kk(),n=lx(t,r,e);return n}var ux=v.createContext(void 0);function oU(t){if(!nm(t.initialProps)){var e={selected:void 0};return o.jsx(ux.Provider,{value:e,children:t.children})}return o.jsx(iU,{initialProps:t.initialProps,children:t.children})}function iU(t){var e=t.initialProps,r=t.children,n=function(i,c,u){var f,h,p;if((f=e.onDayClick)===null||f===void 0||f.call(e,i,c,u),c.selected&&!e.required){(h=e.onSelect)===null||h===void 0||h.call(e,void 0,i,c,u);return}(p=e.onSelect)===null||p===void 0||p.call(e,i,i,c,u)},s={selected:e.selected,onDayClick:n};return o.jsx(ux.Provider,{value:s,children:r})}function Ak(){var t=v.useContext(ux);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function lU(t,e){var r=Ut(),n=Ak(),s=ax(),i=ix(),c=cx(),u=c.focusDayAfter,f=c.focusDayBefore,h=c.focusWeekAfter,p=c.focusWeekBefore,g=c.blur,w=c.focus,y=c.focusMonthBefore,S=c.focusMonthAfter,_=c.focusYearBefore,b=c.focusYearAfter,N=c.focusStartOfWeek,C=c.focusEndOfWeek,E=function(W){var D,M,F,O;nm(r)?(D=n.onDayClick)===null||D===void 0||D.call(n,t,e,W):ad(r)?(M=s.onDayClick)===null||M===void 0||M.call(s,t,e,W):od(r)?(F=i.onDayClick)===null||F===void 0||F.call(i,t,e,W):(O=r.onDayClick)===null||O===void 0||O.call(r,t,e,W)},k=function(W){var D;w(t),(D=r.onDayFocus)===null||D===void 0||D.call(r,t,e,W)},A=function(W){var D;g(),(D=r.onDayBlur)===null||D===void 0||D.call(r,t,e,W)},T=function(W){var D;(D=r.onDayMouseEnter)===null||D===void 0||D.call(r,t,e,W)},I=function(W){var D;(D=r.onDayMouseLeave)===null||D===void 0||D.call(r,t,e,W)},L=function(W){var D;(D=r.onDayPointerEnter)===null||D===void 0||D.call(r,t,e,W)},B=function(W){var D;(D=r.onDayPointerLeave)===null||D===void 0||D.call(r,t,e,W)},H=function(W){var D;(D=r.onDayTouchCancel)===null||D===void 0||D.call(r,t,e,W)},X=function(W){var D;(D=r.onDayTouchEnd)===null||D===void 0||D.call(r,t,e,W)},Q=function(W){var D;(D=r.onDayTouchMove)===null||D===void 0||D.call(r,t,e,W)},Y=function(W){var D;(D=r.onDayTouchStart)===null||D===void 0||D.call(r,t,e,W)},ee=function(W){var D;(D=r.onDayKeyUp)===null||D===void 0||D.call(r,t,e,W)},ne=function(W){var D;switch(W.key){case"ArrowLeft":W.preventDefault(),W.stopPropagation(),r.dir==="rtl"?u():f();break;case"ArrowRight":W.preventDefault(),W.stopPropagation(),r.dir==="rtl"?f():u();break;case"ArrowDown":W.preventDefault(),W.stopPropagation(),h();break;case"ArrowUp":W.preventDefault(),W.stopPropagation(),p();break;case"PageUp":W.preventDefault(),W.stopPropagation(),W.shiftKey?_():y();break;case"PageDown":W.preventDefault(),W.stopPropagation(),W.shiftKey?b():S();break;case"Home":W.preventDefault(),W.stopPropagation(),N();break;case"End":W.preventDefault(),W.stopPropagation(),C();break}(D=r.onDayKeyDown)===null||D===void 0||D.call(r,t,e,W)},J={onClick:E,onFocus:k,onBlur:A,onKeyDown:ne,onKeyUp:ee,onMouseEnter:T,onMouseLeave:I,onPointerEnter:L,onPointerLeave:B,onTouchCancel:H,onTouchEnd:X,onTouchMove:Q,onTouchStart:Y};return J}function cU(){var t=Ut(),e=Ak(),r=ax(),n=ix(),s=nm(t)?e.selected:ad(t)?r.selected:od(t)?n.selected:void 0;return s}function uU(t){return Object.values(vs).includes(t)}function dU(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var s=t.modifiersClassNames[n];if(s)r.push(s);else if(uU(n)){var i=t.classNames["day_".concat(n)];i&&r.push(i)}}),r}function fU(t,e){var r=Je({},t.styles.day);return Object.keys(e).forEach(function(n){var s;r=Je(Je({},r),(s=t.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function hU(t,e,r){var n,s,i,c=Ut(),u=cx(),f=aU(t,e),h=lU(t,f),p=cU(),g=!!(c.onDayClick||c.mode!=="default");v.useEffect(function(){var T;f.outside||u.focusedDay&&g&&ln(u.focusedDay,t)&&((T=r.current)===null||T===void 0||T.focus())},[u.focusedDay,t,r,g,f.outside]);var w=dU(c,f).join(" "),y=fU(c,f),S=!!(f.outside&&!c.showOutsideDays||f.hidden),_=(i=(s=c.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:O6,b=o.jsx(_,{date:t,displayMonth:e,activeModifiers:f}),N={style:y,className:w,children:b,role:"gridcell"},C=u.focusTarget&&ln(u.focusTarget,t)&&!f.outside,E=u.focusedDay&&ln(u.focusedDay,t),k=Je(Je(Je({},N),(n={disabled:f.disabled,role:"gridcell"},n["aria-selected"]=f.selected,n.tabIndex=E||C?0:-1,n)),h),A={isButton:g,isHidden:S,activeModifiers:f,selectedDays:p,buttonProps:k,divProps:N};return A}function mU(t){var e=v.useRef(null),r=hU(t.date,t.displayMonth,e);return r.isHidden?o.jsx("div",{role:"gridcell"}):r.isButton?o.jsx(hh,Je({name:"day",ref:e},r.buttonProps)):o.jsx("div",Je({},r.divProps))}function pU(t){var e=t.number,r=t.dates,n=Ut(),s=n.onWeekNumberClick,i=n.styles,c=n.classNames,u=n.locale,f=n.labels.labelWeekNumber,h=n.formatters.formatWeekNumber,p=h(Number(e),{locale:u});if(!s)return o.jsx("span",{className:c.weeknumber,style:i.weeknumber,children:p});var g=f(Number(e),{locale:u}),w=function(y){s(e,r,y)};return o.jsx(hh,{name:"week-number","aria-label":g,className:c.weeknumber,style:i.weeknumber,onClick:w,children:p})}function gU(t){var e,r,n=Ut(),s=n.styles,i=n.classNames,c=n.showWeekNumber,u=n.components,f=(e=u==null?void 0:u.Day)!==null&&e!==void 0?e:mU,h=(r=u==null?void 0:u.WeekNumber)!==null&&r!==void 0?r:pU,p;return c&&(p=o.jsx("td",{className:i.cell,style:s.cell,children:o.jsx(h,{number:t.weekNumber,dates:t.dates})})),o.jsxs("tr",{className:i.row,style:s.row,children:[p,t.dates.map(function(g){return o.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:o.jsx(f,{displayMonth:t.displayMonth,date:g})},T3(g))})]})}function V_(t,e,r){for(var n=r!=null&&r.ISOWeek?hk(e):rx(e,r),s=r!=null&&r.ISOWeek?ji(t):Ks(t,r),i=Bs(n,s),c=[],u=0;u<=i;u++)c.push(qr(s,u));var f=c.reduce(function(h,p){var g=r!=null&&r.ISOWeek?pk(p):vk(p,r),w=h.find(function(y){return y.weekNumber===g});return w?(w.dates.push(p),h):(h.push({weekNumber:g,dates:[p]}),h)},[]);return f}function vU(t,e){var r=V_(un(t),tx(t),e);if(e!=null&&e.useFixedWeeks){var n=D3(t,e);if(n<6){var s=r[r.length-1],i=s.dates[s.dates.length-1],c=Dv(i,6-n),u=V_(Dv(i,1),c,e);r.push.apply(r,u)}}return r}function yU(t){var e,r,n,s=Ut(),i=s.locale,c=s.classNames,u=s.styles,f=s.hideHead,h=s.fixedWeeks,p=s.components,g=s.weekStartsOn,w=s.firstWeekContainsDate,y=s.ISOWeek,S=vU(t.displayMonth,{useFixedWeeks:!!h,ISOWeek:y,locale:i,weekStartsOn:g,firstWeekContainsDate:w}),_=(e=p==null?void 0:p.Head)!==null&&e!==void 0?e:D6,b=(r=p==null?void 0:p.Row)!==null&&r!==void 0?r:gU,N=(n=p==null?void 0:p.Footer)!==null&&n!==void 0?n:A6;return o.jsxs("table",{id:t.id,className:c.table,style:u.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!f&&o.jsx(_,{}),o.jsx("tbody",{className:c.tbody,style:u.tbody,children:S.map(function(C){return o.jsx(b,{displayMonth:t.displayMonth,dates:C.dates,weekNumber:C.weekNumber},C.weekNumber)})}),o.jsx(N,{displayMonth:t.displayMonth})]})}function xU(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var wU=xU()?v.useLayoutEffect:v.useEffect,Dg=!1,bU=0;function z_(){return"react-day-picker-".concat(++bU)}function _U(t){var e,r=t??(Dg?z_():null),n=v.useState(r),s=n[0],i=n[1];return wU(function(){s===null&&i(z_())},[]),v.useEffect(function(){Dg===!1&&(Dg=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function jU(t){var e,r,n=Ut(),s=n.dir,i=n.classNames,c=n.styles,u=n.components,f=id().displayMonths,h=_U(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),p=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,g=[i.month],w=c.month,y=t.displayIndex===0,S=t.displayIndex===f.length-1,_=!y&&!S;s==="rtl"&&(e=[y,S],S=e[0],y=e[1]),y&&(g.push(i.caption_start),w=Je(Je({},w),c.caption_start)),S&&(g.push(i.caption_end),w=Je(Je({},w),c.caption_end)),_&&(g.push(i.caption_between),w=Je(Je({},w),c.caption_between));var b=(r=u==null?void 0:u.Caption)!==null&&r!==void 0?r:P6;return o.jsxs("div",{className:g.join(" "),style:w,children:[o.jsx(b,{id:h,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),o.jsx(yU,{id:p,"aria-labelledby":h,displayMonth:t.displayMonth})]},t.displayIndex)}function SU(t){var e=Ut(),r=e.classNames,n=e.styles;return o.jsx("div",{className:r.months,style:n.months,children:t.children})}function NU(t){var e,r,n=t.initialProps,s=Ut(),i=cx(),c=id(),u=v.useState(!1),f=u[0],h=u[1];v.useEffect(function(){s.initialFocus&&i.focusTarget&&(f||(i.focus(i.focusTarget),h(!0)))},[s.initialFocus,f,i.focus,i.focusTarget,i]);var p=[s.classNames.root,s.className];s.numberOfMonths>1&&p.push(s.classNames.multiple_months),s.showWeekNumber&&p.push(s.classNames.with_weeknumber);var g=Je(Je({},s.styles.root),s.style),w=Object.keys(n).filter(function(S){return S.startsWith("data-")}).reduce(function(S,_){var b;return Je(Je({},S),(b={},b[_]=n[_],b))},{}),y=(r=(e=n.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:SU;return o.jsx("div",Je({className:p.join(" "),style:g,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},w,{children:o.jsx(y,{children:c.displayMonths.map(function(S,_){return o.jsx(jU,{displayIndex:_,displayMonth:S},_)})})}))}function CU(t){var e=t.children,r=J3(t,["children"]);return o.jsx(p6,{initialProps:r,children:o.jsx(N6,{children:o.jsx(oU,{initialProps:r,children:o.jsx(I6,{initialProps:r,children:o.jsx($6,{initialProps:r,children:o.jsx(q6,{children:o.jsx(sU,{children:e})})})})})})})}function kU(t){return o.jsx(CU,Je({},t,{children:o.jsx(NU,{initialProps:t})}))}function To({className:t,classNames:e,showOutsideDays:r=!0,...n}){return o.jsx(kU,{showOutsideDays:r,className:fe("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:fe(xu({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:fe(xu({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...s})=>o.jsx(pI,{className:"h-4 w-4"}),IconRight:({...s})=>o.jsx(yy,{className:"h-4 w-4"})},...n})}To.displayName="Calendar";var EU="Label",Tk=v.forwardRef((t,e)=>o.jsx(Le.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Tk.displayName=EU;var Rk=Tk;const PU=zu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),nt=v.forwardRef(({className:t,...e},r)=>o.jsx(Rk,{ref:r,className:fe(PU(),t),...e}));nt.displayName=Rk.displayName;var ld=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},AU={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},fo,cy,Fj,TU=(Fj=class{constructor(){Ge(this,fo,AU);Ge(this,cy,!1)}setTimeoutProvider(t){Ae(this,fo,t)}setTimeout(t,e){return K(this,fo).setTimeout(t,e)}clearTimeout(t){K(this,fo).clearTimeout(t)}setInterval(t,e){return K(this,fo).setInterval(t,e)}clearInterval(t){K(this,fo).clearInterval(t)}},fo=new WeakMap,cy=new WeakMap,Fj),ii=new TU;function RU(t){setTimeout(t,0)}var Si=typeof window>"u"||"Deno"in globalThis;function on(){}function DU(t,e){return typeof t=="function"?t(e):t}function Iv(t){return typeof t=="number"&&t>=0&&t!==1/0}function Dk(t,e){return Math.max(t+(e||0)-Date.now(),0)}function jo(t,e){return typeof t=="function"?t(e):t}function On(t,e){return typeof t=="function"?t(e):t}function W_(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:c,stale:u}=t;if(c){if(n){if(e.queryHash!==dx(c,e.options))return!1}else if(!Pu(e.queryKey,c))return!1}if(r!=="all"){const f=e.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||s&&s!==e.state.fetchStatus||i&&!i(e))}function H_(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(Eu(e.options.mutationKey)!==Eu(i))return!1}else if(!Pu(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function dx(t,e){return((e==null?void 0:e.queryKeyHashFn)||Eu)(t)}function Eu(t){return JSON.stringify(t,(e,r)=>Lv(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Pu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Pu(t[r],e[r])):!1}var OU=Object.prototype.hasOwnProperty;function Ok(t,e){if(t===e)return t;const r=q_(t)&&q_(e);if(!r&&!(Lv(t)&&Lv(e)))return e;const s=(r?t:Object.keys(t)).length,i=r?e:Object.keys(e),c=i.length,u=r?new Array(c):{};let f=0;for(let h=0;h<c;h++){const p=r?h:i[h],g=t[p],w=e[p];if(g===w){u[p]=g,(r?h<s:OU.call(t,p))&&f++;continue}if(g===null||w===null||typeof g!="object"||typeof w!="object"){u[p]=w;continue}const y=Ok(g,w);u[p]=y,y===g&&f++}return s===c&&f===s?t:u}function Mv(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function q_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Lv(t){if(!Y_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Y_(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Y_(t){return Object.prototype.toString.call(t)==="[object Object]"}function IU(t){return new Promise(e=>{ii.setTimeout(e,t)})}function $v(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Ok(t,e):e}function MU(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function LU(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var fx=Symbol();function Ik(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===fx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function $U(t,e){return typeof t=="function"?t(...e):!!t}var ci,ho,Il,Uj,FU=(Uj=class extends ld{constructor(){super();Ge(this,ci);Ge(this,ho);Ge(this,Il);Ae(this,Il,e=>{if(!Si&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){K(this,ho)||this.setEventListener(K(this,Il))}onUnsubscribe(){var e;this.hasListeners()||((e=K(this,ho))==null||e.call(this),Ae(this,ho,void 0))}setEventListener(e){var r;Ae(this,Il,e),(r=K(this,ho))==null||r.call(this),Ae(this,ho,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){K(this,ci)!==e&&(Ae(this,ci,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof K(this,ci)=="boolean"?K(this,ci):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ci=new WeakMap,ho=new WeakMap,Il=new WeakMap,Uj),hx=new FU;function Fv(){let t,e;const r=new Promise((s,i)=>{t=s,e=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}var UU=RU;function BU(){let t=[],e=0,r=u=>{u()},n=u=>{u()},s=UU;const i=u=>{e?t.push(u):s(()=>{r(u)})},c=()=>{const u=t;t=[],u.length&&s(()=>{n(()=>{u.forEach(f=>{r(f)})})})};return{batch:u=>{let f;e++;try{f=u()}finally{e--,e||c()}return f},batchCalls:u=>(...f)=>{i(()=>{u(...f)})},schedule:i,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{s=u}}}var Er=BU(),Ml,mo,Ll,Bj,VU=(Bj=class extends ld{constructor(){super();Ge(this,Ml,!0);Ge(this,mo);Ge(this,Ll);Ae(this,Ll,e=>{if(!Si&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){K(this,mo)||this.setEventListener(K(this,Ll))}onUnsubscribe(){var e;this.hasListeners()||((e=K(this,mo))==null||e.call(this),Ae(this,mo,void 0))}setEventListener(e){var r;Ae(this,Ll,e),(r=K(this,mo))==null||r.call(this),Ae(this,mo,e(this.setOnline.bind(this)))}setOnline(e){K(this,Ml)!==e&&(Ae(this,Ml,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return K(this,Ml)}},Ml=new WeakMap,mo=new WeakMap,Ll=new WeakMap,Bj),mh=new VU;function zU(t){return Math.min(1e3*2**t,3e4)}function Mk(t){return(t??"online")==="online"?mh.isOnline():!0}var Uv=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Lk(t){let e=!1,r=0,n;const s=Fv(),i=()=>s.status!=="pending",c=_=>{var b;if(!i()){const N=new Uv(_);w(N),(b=t.onCancel)==null||b.call(t,N)}},u=()=>{e=!0},f=()=>{e=!1},h=()=>hx.isFocused()&&(t.networkMode==="always"||mh.isOnline())&&t.canRun(),p=()=>Mk(t.networkMode)&&t.canRun(),g=_=>{i()||(n==null||n(),s.resolve(_))},w=_=>{i()||(n==null||n(),s.reject(_))},y=()=>new Promise(_=>{var b;n=N=>{(i()||h())&&_(N)},(b=t.onPause)==null||b.call(t)}).then(()=>{var _;n=void 0,i()||(_=t.onContinue)==null||_.call(t)}),S=()=>{if(i())return;let _;const b=r===0?t.initialPromise:void 0;try{_=b??t.fn()}catch(N){_=Promise.reject(N)}Promise.resolve(_).then(g).catch(N=>{var T;if(i())return;const C=t.retry??(Si?0:3),E=t.retryDelay??zU,k=typeof E=="function"?E(r,N):E,A=C===!0||typeof C=="number"&&r<C||typeof C=="function"&&C(r,N);if(e||!A){w(N);return}r++,(T=t.onFail)==null||T.call(t,r,N),IU(k).then(()=>h()?void 0:y()).then(()=>{e?w(N):S()})})};return{promise:s,status:()=>s.status,cancel:c,continue:()=>(n==null||n(),s),cancelRetry:u,continueRetry:f,canStart:p,start:()=>(p()?S():y().then(S),s)}}var ui,Vj,$k=(Vj=class{constructor(){Ge(this,ui)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Iv(this.gcTime)&&Ae(this,ui,ii.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Si?1/0:300*1e3))}clearGcTimeout(){K(this,ui)&&(ii.clearTimeout(K(this,ui)),Ae(this,ui,void 0))}},ui=new WeakMap,Vj),di,$l,Dn,fi,wr,Ou,hi,ns,ha,zj,WU=(zj=class extends $k{constructor(e){super();Ge(this,ns);Ge(this,di);Ge(this,$l);Ge(this,Dn);Ge(this,fi);Ge(this,wr);Ge(this,Ou);Ge(this,hi);Ae(this,hi,!1),Ae(this,Ou,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ae(this,fi,e.client),Ae(this,Dn,K(this,fi).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ae(this,di,K_(this.options)),this.state=e.state??K(this,di),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=K(this,wr))==null?void 0:e.promise}setOptions(e){if(this.options={...K(this,Ou),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=K_(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),Ae(this,di,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&K(this,Dn).remove(this)}setData(e,r){const n=$v(this.state.data,e,this.options);return pt(this,ns,ha).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){pt(this,ns,ha).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=K(this,wr))==null?void 0:n.promise;return(s=K(this,wr))==null||s.cancel(e),r?r.then(on).catch(on):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(K(this,di))}isActive(){return this.observers.some(e=>On(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===fx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>jo(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Dk(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=K(this,wr))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=K(this,wr))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),K(this,Dn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(K(this,wr)&&(K(this,hi)?K(this,wr).cancel({revert:!0}):K(this,wr).cancelRetry()),this.scheduleGc()),K(this,Dn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pt(this,ns,ha).call(this,{type:"invalidate"})}async fetch(e,r){var f,h,p,g,w,y,S,_,b,N,C,E;if(this.state.fetchStatus!=="idle"&&((f=K(this,wr))==null?void 0:f.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(K(this,wr))return K(this,wr).continueRetry(),K(this,wr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const k=this.observers.find(A=>A.options.queryFn);k&&this.setOptions(k.options)}const n=new AbortController,s=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(Ae(this,hi,!0),n.signal)})},i=()=>{const k=Ik(this.options,r),T=(()=>{const I={client:K(this,fi),queryKey:this.queryKey,meta:this.meta};return s(I),I})();return Ae(this,hi,!1),this.options.persister?this.options.persister(k,T,this):k(T)},u=(()=>{const k={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:K(this,fi),state:this.state,fetchFn:i};return s(k),k})();(h=this.options.behavior)==null||h.onFetch(u,this),Ae(this,$l,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=u.fetchOptions)==null?void 0:p.meta))&&pt(this,ns,ha).call(this,{type:"fetch",meta:(g=u.fetchOptions)==null?void 0:g.meta}),Ae(this,wr,Lk({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,onCancel:k=>{k instanceof Uv&&k.revert&&this.setState({...K(this,$l),fetchStatus:"idle"}),n.abort()},onFail:(k,A)=>{pt(this,ns,ha).call(this,{type:"failed",failureCount:k,error:A})},onPause:()=>{pt(this,ns,ha).call(this,{type:"pause"})},onContinue:()=>{pt(this,ns,ha).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const k=await K(this,wr).start();if(k===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(k),(y=(w=K(this,Dn).config).onSuccess)==null||y.call(w,k,this),(_=(S=K(this,Dn).config).onSettled)==null||_.call(S,k,this.state.error,this),k}catch(k){if(k instanceof Uv){if(k.silent)return K(this,wr).promise;if(k.revert){if(this.state.data===void 0)throw k;return this.state.data}}throw pt(this,ns,ha).call(this,{type:"error",error:k}),(N=(b=K(this,Dn).config).onError)==null||N.call(b,k,this),(E=(C=K(this,Dn).config).onSettled)==null||E.call(C,this.state.data,k,this),k}finally{this.scheduleGc()}}},di=new WeakMap,$l=new WeakMap,Dn=new WeakMap,fi=new WeakMap,wr=new WeakMap,Ou=new WeakMap,hi=new WeakMap,ns=new WeakSet,ha=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Fk(n.data,this.options),fetchMeta:e.meta??null};case"success":const s={...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ae(this,$l,e.manual?s:void 0),s;case"error":const i=e.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Er.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),K(this,Dn).notify({query:this,type:"updated",action:e})})},zj);function Fk(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Mk(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function K_(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var sn,gt,Iu,zr,mi,Fl,pa,po,Mu,Ul,Bl,pi,gi,go,Vl,Dt,lu,Bv,Vv,zv,Wv,Hv,qv,Yv,Uk,Wj,HU=(Wj=class extends ld{constructor(e,r){super();Ge(this,Dt);Ge(this,sn);Ge(this,gt);Ge(this,Iu);Ge(this,zr);Ge(this,mi);Ge(this,Fl);Ge(this,pa);Ge(this,po);Ge(this,Mu);Ge(this,Ul);Ge(this,Bl);Ge(this,pi);Ge(this,gi);Ge(this,go);Ge(this,Vl,new Set);this.options=r,Ae(this,sn,e),Ae(this,po,null),Ae(this,pa,Fv()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(K(this,gt).addObserver(this),G_(K(this,gt),this.options)?pt(this,Dt,lu).call(this):this.updateResult(),pt(this,Dt,Wv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Kv(K(this,gt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Kv(K(this,gt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,pt(this,Dt,Hv).call(this),pt(this,Dt,qv).call(this),K(this,gt).removeObserver(this)}setOptions(e){const r=this.options,n=K(this,gt);if(this.options=K(this,sn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof On(this.options.enabled,K(this,gt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");pt(this,Dt,Yv).call(this),K(this,gt).setOptions(this.options),r._defaulted&&!Mv(this.options,r)&&K(this,sn).getQueryCache().notify({type:"observerOptionsUpdated",query:K(this,gt),observer:this});const s=this.hasListeners();s&&J_(K(this,gt),n,this.options,r)&&pt(this,Dt,lu).call(this),this.updateResult(),s&&(K(this,gt)!==n||On(this.options.enabled,K(this,gt))!==On(r.enabled,K(this,gt))||jo(this.options.staleTime,K(this,gt))!==jo(r.staleTime,K(this,gt)))&&pt(this,Dt,Bv).call(this);const i=pt(this,Dt,Vv).call(this);s&&(K(this,gt)!==n||On(this.options.enabled,K(this,gt))!==On(r.enabled,K(this,gt))||i!==K(this,go))&&pt(this,Dt,zv).call(this,i)}getOptimisticResult(e){const r=K(this,sn).getQueryCache().build(K(this,sn),e),n=this.createResult(r,e);return YU(this,n)&&(Ae(this,zr,n),Ae(this,Fl,this.options),Ae(this,mi,K(this,gt).state)),n}getCurrentResult(){return K(this,zr)}trackResult(e,r){return new Proxy(e,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&!this.options.experimental_prefetchInRender&&K(this,pa).status==="pending"&&K(this,pa).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,s))})}trackProp(e){K(this,Vl).add(e)}getCurrentQuery(){return K(this,gt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=K(this,sn).defaultQueryOptions(e),n=K(this,sn).getQueryCache().build(K(this,sn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return pt(this,Dt,lu).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),K(this,zr)))}createResult(e,r){var B;const n=K(this,gt),s=this.options,i=K(this,zr),c=K(this,mi),u=K(this,Fl),h=e!==n?e.state:K(this,Iu),{state:p}=e;let g={...p},w=!1,y;if(r._optimisticResults){const H=this.hasListeners(),X=!H&&G_(e,r),Q=H&&J_(e,n,r,s);(X||Q)&&(g={...g,...Fk(p.data,e.options)}),r._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:S,errorUpdatedAt:_,status:b}=g;y=g.data;let N=!1;if(r.placeholderData!==void 0&&y===void 0&&b==="pending"){let H;i!=null&&i.isPlaceholderData&&r.placeholderData===(u==null?void 0:u.placeholderData)?(H=i.data,N=!0):H=typeof r.placeholderData=="function"?r.placeholderData((B=K(this,Bl))==null?void 0:B.state.data,K(this,Bl)):r.placeholderData,H!==void 0&&(b="success",y=$v(i==null?void 0:i.data,H,r),w=!0)}if(r.select&&y!==void 0&&!N)if(i&&y===(c==null?void 0:c.data)&&r.select===K(this,Mu))y=K(this,Ul);else try{Ae(this,Mu,r.select),y=r.select(y),y=$v(i==null?void 0:i.data,y,r),Ae(this,Ul,y),Ae(this,po,null)}catch(H){Ae(this,po,H)}K(this,po)&&(S=K(this,po),y=K(this,Ul),_=Date.now(),b="error");const C=g.fetchStatus==="fetching",E=b==="pending",k=b==="error",A=E&&C,T=y!==void 0,L={status:b,fetchStatus:g.fetchStatus,isPending:E,isSuccess:b==="success",isError:k,isInitialLoading:A,isLoading:A,data:y,dataUpdatedAt:g.dataUpdatedAt,error:S,errorUpdatedAt:_,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:C,isRefetching:C&&!E,isLoadingError:k&&!T,isPaused:g.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:k&&T,isStale:mx(e,r),refetch:this.refetch,promise:K(this,pa),isEnabled:On(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const H=Y=>{L.status==="error"?Y.reject(L.error):L.data!==void 0&&Y.resolve(L.data)},X=()=>{const Y=Ae(this,pa,L.promise=Fv());H(Y)},Q=K(this,pa);switch(Q.status){case"pending":e.queryHash===n.queryHash&&H(Q);break;case"fulfilled":(L.status==="error"||L.data!==Q.value)&&X();break;case"rejected":(L.status!=="error"||L.error!==Q.reason)&&X();break}}return L}updateResult(){const e=K(this,zr),r=this.createResult(K(this,gt),this.options);if(Ae(this,mi,K(this,gt).state),Ae(this,Fl,this.options),K(this,mi).data!==void 0&&Ae(this,Bl,K(this,gt)),Mv(r,e))return;Ae(this,zr,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!K(this,Vl).size)return!0;const c=new Set(i??K(this,Vl));return this.options.throwOnError&&c.add("error"),Object.keys(K(this,zr)).some(u=>{const f=u;return K(this,zr)[f]!==e[f]&&c.has(f)})};pt(this,Dt,Uk).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&pt(this,Dt,Wv).call(this)}},sn=new WeakMap,gt=new WeakMap,Iu=new WeakMap,zr=new WeakMap,mi=new WeakMap,Fl=new WeakMap,pa=new WeakMap,po=new WeakMap,Mu=new WeakMap,Ul=new WeakMap,Bl=new WeakMap,pi=new WeakMap,gi=new WeakMap,go=new WeakMap,Vl=new WeakMap,Dt=new WeakSet,lu=function(e){pt(this,Dt,Yv).call(this);let r=K(this,gt).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(on)),r},Bv=function(){pt(this,Dt,Hv).call(this);const e=jo(this.options.staleTime,K(this,gt));if(Si||K(this,zr).isStale||!Iv(e))return;const n=Dk(K(this,zr).dataUpdatedAt,e)+1;Ae(this,pi,ii.setTimeout(()=>{K(this,zr).isStale||this.updateResult()},n))},Vv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(K(this,gt)):this.options.refetchInterval)??!1},zv=function(e){pt(this,Dt,qv).call(this),Ae(this,go,e),!(Si||On(this.options.enabled,K(this,gt))===!1||!Iv(K(this,go))||K(this,go)===0)&&Ae(this,gi,ii.setInterval(()=>{(this.options.refetchIntervalInBackground||hx.isFocused())&&pt(this,Dt,lu).call(this)},K(this,go)))},Wv=function(){pt(this,Dt,Bv).call(this),pt(this,Dt,zv).call(this,pt(this,Dt,Vv).call(this))},Hv=function(){K(this,pi)&&(ii.clearTimeout(K(this,pi)),Ae(this,pi,void 0))},qv=function(){K(this,gi)&&(ii.clearInterval(K(this,gi)),Ae(this,gi,void 0))},Yv=function(){const e=K(this,sn).getQueryCache().build(K(this,sn),this.options);if(e===K(this,gt))return;const r=K(this,gt);Ae(this,gt,e),Ae(this,Iu,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},Uk=function(e){Er.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(K(this,zr))}),K(this,sn).getQueryCache().notify({query:K(this,gt),type:"observerResultsUpdated"})})},Wj);function qU(t,e){return On(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function G_(t,e){return qU(t,e)||t.state.data!==void 0&&Kv(t,e,e.refetchOnMount)}function Kv(t,e,r){if(On(e.enabled,t)!==!1&&jo(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&mx(t,e)}return!1}function J_(t,e,r,n){return(t!==e||On(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&mx(t,r)}function mx(t,e){return On(e.enabled,t)!==!1&&t.isStaleByTime(jo(e.staleTime,t))}function YU(t,e){return!Mv(t.getCurrentResult(),e)}function Q_(t){return{onFetch:(e,r)=>{var p,g,w,y,S;const n=e.options,s=(w=(g=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:w.direction,i=((y=e.state.data)==null?void 0:y.pages)||[],c=((S=e.state.data)==null?void 0:S.pageParams)||[];let u={pages:[],pageParams:[]},f=0;const h=async()=>{let _=!1;const b=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},N=Ik(e.options,e.fetchOptions),C=async(E,k,A)=>{if(_)return Promise.reject();if(k==null&&E.pages.length)return Promise.resolve(E);const I=(()=>{const X={client:e.client,queryKey:e.queryKey,pageParam:k,direction:A?"backward":"forward",meta:e.options.meta};return b(X),X})(),L=await N(I),{maxPages:B}=e.options,H=A?LU:MU;return{pages:H(E.pages,L,B),pageParams:H(E.pageParams,k,B)}};if(s&&i.length){const E=s==="backward",k=E?KU:Z_,A={pages:i,pageParams:c},T=k(n,A);u=await C(A,T,E)}else{const E=t??i.length;do{const k=f===0?c[0]??n.initialPageParam:Z_(n,u);if(f>0&&k==null)break;u=await C(u,k),f++}while(f<E)}return u};e.options.persister?e.fetchFn=()=>{var _,b;return(b=(_=e.options).persister)==null?void 0:b.call(_,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=h}}}function Z_(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function KU(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Ms,Wr,vi,Ls,lo,Hj,GU=(Hj=class extends $k{constructor(e){super();Ge(this,Ls);Ge(this,Ms);Ge(this,Wr);Ge(this,vi);this.mutationId=e.mutationId,Ae(this,Wr,e.mutationCache),Ae(this,Ms,[]),this.state=e.state||JU(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){K(this,Ms).includes(e)||(K(this,Ms).push(e),this.clearGcTimeout(),K(this,Wr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ae(this,Ms,K(this,Ms).filter(r=>r!==e)),this.scheduleGc(),K(this,Wr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){K(this,Ms).length||(this.state.status==="pending"?this.scheduleGc():K(this,Wr).remove(this))}continue(){var e;return((e=K(this,vi))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,c,u,f,h,p,g,w,y,S,_,b,N,C,E,k,A,T,I,L;const r=()=>{pt(this,Ls,lo).call(this,{type:"continue"})};Ae(this,vi,Lk({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(B,H)=>{pt(this,Ls,lo).call(this,{type:"failed",failureCount:B,error:H})},onPause:()=>{pt(this,Ls,lo).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>K(this,Wr).canRun(this)}));const n=this.state.status==="pending",s=!K(this,vi).canStart();try{if(n)r();else{pt(this,Ls,lo).call(this,{type:"pending",variables:e,isPaused:s}),await((c=(i=K(this,Wr).config).onMutate)==null?void 0:c.call(i,e,this));const H=await((f=(u=this.options).onMutate)==null?void 0:f.call(u,e));H!==this.state.context&&pt(this,Ls,lo).call(this,{type:"pending",context:H,variables:e,isPaused:s})}const B=await K(this,vi).start();return await((p=(h=K(this,Wr).config).onSuccess)==null?void 0:p.call(h,B,e,this.state.context,this)),await((w=(g=this.options).onSuccess)==null?void 0:w.call(g,B,e,this.state.context)),await((S=(y=K(this,Wr).config).onSettled)==null?void 0:S.call(y,B,null,this.state.variables,this.state.context,this)),await((b=(_=this.options).onSettled)==null?void 0:b.call(_,B,null,e,this.state.context)),pt(this,Ls,lo).call(this,{type:"success",data:B}),B}catch(B){try{throw await((C=(N=K(this,Wr).config).onError)==null?void 0:C.call(N,B,e,this.state.context,this)),await((k=(E=this.options).onError)==null?void 0:k.call(E,B,e,this.state.context)),await((T=(A=K(this,Wr).config).onSettled)==null?void 0:T.call(A,void 0,B,this.state.variables,this.state.context,this)),await((L=(I=this.options).onSettled)==null?void 0:L.call(I,void 0,B,e,this.state.context)),B}finally{pt(this,Ls,lo).call(this,{type:"error",error:B})}}finally{K(this,Wr).runNext(this)}}},Ms=new WeakMap,Wr=new WeakMap,vi=new WeakMap,Ls=new WeakSet,lo=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Er.batch(()=>{K(this,Ms).forEach(n=>{n.onMutationUpdate(e)}),K(this,Wr).notify({mutation:this,type:"updated",action:e})})},Hj);function JU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ga,ss,Lu,qj,QU=(qj=class extends ld{constructor(e={}){super();Ge(this,ga);Ge(this,ss);Ge(this,Lu);this.config=e,Ae(this,ga,new Set),Ae(this,ss,new Map),Ae(this,Lu,0)}build(e,r,n){const s=new GU({mutationCache:this,mutationId:++Sf(this,Lu)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){K(this,ga).add(e);const r=Ff(e);if(typeof r=="string"){const n=K(this,ss).get(r);n?n.push(e):K(this,ss).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(K(this,ga).delete(e)){const r=Ff(e);if(typeof r=="string"){const n=K(this,ss).get(r);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&K(this,ss).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Ff(e);if(typeof r=="string"){const n=K(this,ss).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const r=Ff(e);if(typeof r=="string"){const s=(n=K(this,ss).get(r))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Er.batch(()=>{K(this,ga).forEach(e=>{this.notify({type:"removed",mutation:e})}),K(this,ga).clear(),K(this,ss).clear()})}getAll(){return Array.from(K(this,ga))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>H_(r,n))}findAll(e={}){return this.getAll().filter(r=>H_(e,r))}notify(e){Er.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Er.batch(()=>Promise.all(e.map(r=>r.continue().catch(on))))}},ga=new WeakMap,ss=new WeakMap,Lu=new WeakMap,qj);function Ff(t){var e;return(e=t.options.scope)==null?void 0:e.id}var $s,Yj,ZU=(Yj=class extends ld{constructor(e={}){super();Ge(this,$s);this.config=e,Ae(this,$s,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??dx(s,r);let c=this.get(i);return c||(c=new WU({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(c)),c}add(e){K(this,$s).has(e.queryHash)||(K(this,$s).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=K(this,$s).get(e.queryHash);r&&(e.destroy(),r===e&&K(this,$s).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Er.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return K(this,$s).get(e)}getAll(){return[...K(this,$s).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>W_(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>W_(e,n)):r}notify(e){Er.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Er.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Er.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},$s=new WeakMap,Yj),Zt,vo,yo,zl,Wl,xo,Hl,ql,Kj,XU=(Kj=class{constructor(t={}){Ge(this,Zt);Ge(this,vo);Ge(this,yo);Ge(this,zl);Ge(this,Wl);Ge(this,xo);Ge(this,Hl);Ge(this,ql);Ae(this,Zt,t.queryCache||new ZU),Ae(this,vo,t.mutationCache||new QU),Ae(this,yo,t.defaultOptions||{}),Ae(this,zl,new Map),Ae(this,Wl,new Map),Ae(this,xo,0)}mount(){Sf(this,xo)._++,K(this,xo)===1&&(Ae(this,Hl,hx.subscribe(async t=>{t&&(await this.resumePausedMutations(),K(this,Zt).onFocus())})),Ae(this,ql,mh.subscribe(async t=>{t&&(await this.resumePausedMutations(),K(this,Zt).onOnline())})))}unmount(){var t,e;Sf(this,xo)._--,K(this,xo)===0&&((t=K(this,Hl))==null||t.call(this),Ae(this,Hl,void 0),(e=K(this,ql))==null||e.call(this),Ae(this,ql,void 0))}isFetching(t){return K(this,Zt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return K(this,vo).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=K(this,Zt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=K(this,Zt).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(jo(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return K(this,Zt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=K(this,Zt).get(n.queryHash),i=s==null?void 0:s.state.data,c=DU(e,i);if(c!==void 0)return K(this,Zt).build(this,n).setData(c,{...r,manual:!0})}setQueriesData(t,e,r){return Er.batch(()=>K(this,Zt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=K(this,Zt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=K(this,Zt);Er.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=K(this,Zt);return Er.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Er.batch(()=>K(this,Zt).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(on).catch(on)}invalidateQueries(t,e={}){return Er.batch(()=>(K(this,Zt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Er.batch(()=>K(this,Zt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(on)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(on)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=K(this,Zt).build(this,e);return r.isStaleByTime(jo(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(on).catch(on)}fetchInfiniteQuery(t){return t.behavior=Q_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(on).catch(on)}ensureInfiniteQueryData(t){return t.behavior=Q_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return mh.isOnline()?K(this,vo).resumePausedMutations():Promise.resolve()}getQueryCache(){return K(this,Zt)}getMutationCache(){return K(this,vo)}getDefaultOptions(){return K(this,yo)}setDefaultOptions(t){Ae(this,yo,t)}setQueryDefaults(t,e){K(this,zl).set(Eu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...K(this,zl).values()],r={};return e.forEach(n=>{Pu(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){K(this,Wl).set(Eu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...K(this,Wl).values()],r={};return e.forEach(n=>{Pu(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...K(this,yo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=dx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===fx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...K(this,yo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){K(this,Zt).clear(),K(this,vo).clear()}},Zt=new WeakMap,vo=new WeakMap,yo=new WeakMap,zl=new WeakMap,Wl=new WeakMap,xo=new WeakMap,Hl=new WeakMap,ql=new WeakMap,Kj),Bk=v.createContext(void 0),cd=t=>{const e=v.useContext(Bk);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},e9=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(Bk.Provider,{value:t,children:e})),Vk=v.createContext(!1),t9=()=>v.useContext(Vk);Vk.Provider;function r9(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var n9=v.createContext(r9()),s9=()=>v.useContext(n9),a9=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},o9=t=>{v.useEffect(()=>{t.clearReset()},[t])},i9=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(s&&t.data===void 0||$U(r,[t.error,n])),l9=t=>{if(t.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},c9=(t,e)=>t.isLoading&&t.isFetching&&!e,u9=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,X_=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function d9(t,e,r){var g,w,y,S,_;const n=t9(),s=s9(),i=cd(),c=i.defaultQueryOptions(t);(w=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||w.call(g,c),c._optimisticResults=n?"isRestoring":"optimistic",l9(c),a9(c,s),o9(s);const u=!i.getQueryCache().get(c.queryHash),[f]=v.useState(()=>new e(i,c)),h=f.getOptimisticResult(c),p=!n&&t.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(b=>{const N=p?f.subscribe(Er.batchCalls(b)):on;return f.updateResult(),N},[f,p]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),v.useEffect(()=>{f.setOptions(c)},[c,f]),u9(c,h))throw X_(c,f,s);if(i9({result:h,errorResetBoundary:s,throwOnError:c.throwOnError,query:i.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw h.error;if((S=(y=i.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||S.call(y,c,h),c.experimental_prefetchInRender&&!Si&&c9(h,n)){const b=u?X_(c,f,s):(_=i.getQueryCache().get(c.queryHash))==null?void 0:_.promise;b==null||b.catch(on).finally(()=>{f.updateResult()})}return c.notifyOnChangeProps?h:f.trackResult(h)}function ya(t,e){return d9(t,HU)}const et=v.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:fe("rounded-xl bg-white shadow-sm text-card-foreground",t),...e}));et.displayName="Card";const vt=v.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:fe("flex flex-col space-y-1.5 p-6",t),...e}));vt.displayName="CardHeader";const yt=v.forwardRef(({className:t,...e},r)=>o.jsx("h3",{ref:r,className:fe("font-semibold leading-none tracking-tight",t),...e}));yt.displayName="CardTitle";const px=v.forwardRef(({className:t,...e},r)=>o.jsx("p",{ref:r,className:fe("text-sm text-muted-foreground",t),...e}));px.displayName="CardDescription";const dt=v.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:fe("p-6 pt-0",t),...e}));dt.displayName="CardContent";const f9=v.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:fe("flex items-center p-6 pt-0",t),...e}));f9.displayName="CardFooter";const De=v.forwardRef(({className:t,type:e,...r},n)=>o.jsx("input",{type:e,className:fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));De.displayName="Input";const Uf=({title:t,value:e,description:r,icon:n,iconColorClass:s="text-gray-500",valueColorClass:i="text-gray-900"})=>o.jsxs(et,{className:"bg-white shadow-sm rounded-xl",children:[" ",o.jsxs(vt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(yt,{className:"text-sm font-medium text-gray-600",children:t}),n&&o.jsx(n,{className:fe("h-4 w-4",s)})]}),o.jsxs(dt,{children:[o.jsx("div",{className:fe("text-2xl font-bold",i),children:e}),r&&o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r})]})]}),fc=v.forwardRef(({className:t,...e},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:fe("w-full caption-bottom text-sm",t),...e})}));fc.displayName="Table";const hc=v.forwardRef(({className:t,...e},r)=>o.jsx("thead",{ref:r,className:fe("[&_tr]:border-b",t),...e}));hc.displayName="TableHeader";const mc=v.forwardRef(({className:t,...e},r)=>o.jsx("tbody",{ref:r,className:fe("[&_tr:last-child]:border-0",t),...e}));mc.displayName="TableBody";const h9=v.forwardRef(({className:t,...e},r)=>o.jsx("tfoot",{ref:r,className:fe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));h9.displayName="TableFooter";const ys=v.forwardRef(({className:t,...e},r)=>o.jsx("tr",{ref:r,className:fe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));ys.displayName="TableRow";const Tt=v.forwardRef(({className:t,...e},r)=>o.jsx("th",{ref:r,className:fe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Tt.displayName="TableHead";const Rt=v.forwardRef(({className:t,...e},r)=>o.jsx("td",{ref:r,className:fe("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Rt.displayName="TableCell";const m9=v.forwardRef(({className:t,...e},r)=>o.jsx("caption",{ref:r,className:fe("mt-4 text-sm text-muted-foreground",t),...e}));m9.displayName="TableCaption";const p9=zu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function xa({className:t,variant:e,...r}){return o.jsx("div",{className:fe(p9({variant:e}),t),...r})}const Rl=["planned","assigned","accepted","on_route_collection","at_collection","loaded","on_route_delivery","at_delivery","delivered","pod_received"],zk=["job_created","planned","assigned","accepted","on_route_collection","at_collection","loaded","on_route_delivery","at_delivery","delivered","pod_received","job_confirmed","eta_set"],ej=["on_route_collection","at_collection","loaded"],tj=["on_route_delivery","at_delivery","pod_received"],rj={on_route_collection:"On Route to Collection",at_collection:"Arrived at Collection",loaded:"Loaded",on_route_delivery:"On Route to Delivery",at_delivery:"Arrived at Delivery",pod_received:"Upload POD",planned:"Start Job",assigned:"Accept Job",accepted:"Start Job",delivered:"Job Complete",cancelled:"Job Cancelled"},nj={on_route_collection:"ETA to collection",at_collection:"Arrival time at collection",loaded:"Departed collection time",on_route_delivery:"ETA to delivery",at_delivery:"Arrival time at delivery",pod_received:"Upload POD",planned:"Start Job Time",assigned:"Accept Job Time",accepted:"Start Job Time",delivered:"Job Completion Time",cancelled:"Job Cancellation Time"},g9=(t,e)=>{const r=Rl.indexOf(t),n=Rl.indexOf(e);return r===-1||n===-1||n<=r?[]:Rl.slice(r+1,n)},Pa=t=>{switch(t){case"planned":return"Planned";case"assigned":return"Assigned";case"accepted":return"Accepted";case"on_route_collection":return"On Route Collection";case"at_collection":return"At Collection";case"loaded":return"Loaded";case"on_route_delivery":return"On Route Delivery";case"at_delivery":return"At Delivery";case"delivered":return"Delivered";case"pod_received":return"POD Received";case"cancelled":return"Cancelled";case"job_created":return"Job Created";case"job_cloned":return"Job Cloned";case"job_confirmed":return"Job Confirmed";case"eta_set":return"ETA Set";case"pod_requested":return"POD Requested";case"pod_uploaded":return"POD Uploaded";case"document_uploaded":return"Document Uploaded";case"location_ping":return"Location Ping";case"note_added":return"Note Added";case"status_changed":return"Status Changed";case"driver_reassigned":return"Driver Reassigned";case"stop_added":return"Stop Added";case"stop_updated":return"Stop Updated";case"stop_deleted":return"Stop Deleted";case"stop_details_updated":return"Stop Details Updated";case"daily_check_submitted":return"Daily Check Submitted";case"daily_check_item_created":return"Daily Check Item Created";case"daily_check_item_updated":return"Daily Check Item Updated";case"daily_check_item_deleted":return"Daily Check Item Deleted";case"user_created":return"User Created";case"user_updated":return"User Updated";case"user_deleted":return"User Deleted";case"password_reset_sent":return"Password Reset Sent";case"purge_demo_users":return"Purge Demo Users";case"purge_all_non_admin_users":return"Purge All Non-Admin Users";case"timeline_event_removed_from_timeline":return"Removed from Timeline";case"timeline_event_restored_to_timeline":return"Restored to Timeline";default:return t.replace(/_/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}},Wk=t=>t?t.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"",ur=t=>t?t.toUpperCase():"",qt=t=>Wk(t),Og=t=>t==null||isNaN(t)?"":new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP",minimumFractionDigits:2,maximumFractionDigits:2}).format(t),Hk=t=>{if(!t)return null;let e="",r=!1;for(let s=0;s<t.length;s++){const i=t[s];i>="0"&&i<="9"?e+=i:i==="."&&!r&&(e+=i,r=!0)}e.length>1&&e.startsWith("0")&&e[1]!=="."&&(e=e.replace(/^0+/,""),e===""&&(e="0")),e==="."&&(e="0.");const n=parseFloat(e);return isNaN(n)?null:n},v9=({jobs:t,profiles:e,userRole:r,currentProfile:n,currentOrgId:s,onAction:i})=>{const c=er(),u=f=>{if(!f)return{name:"Unassigned",reg:"",initials:"UA"};const h=e.find(w=>w.id===f&&w.role==="driver"),p=(h==null?void 0:h.full_name)||"Unknown Driver",g=p.split(" ").map(w=>w[0]).join("").substring(0,2).toUpperCase();return{name:p,reg:(h==null?void 0:h.truck_reg)||"N/A",initials:g}};return t.length===0?o.jsx("p",{className:"text-gray-600",children:"No jobs found for this tenant with the selected filter."}):o.jsx("div",{className:"rounded-xl overflow-hidden shadow-sm bg-white",children:o.jsxs(fc,{children:[o.jsx(hc,{className:"bg-gray-50",children:o.jsxs(ys,{children:[o.jsx(Tt,{className:"text-gray-700 font-medium",children:"Order Number"}),o.jsx(Tt,{className:"text-gray-700 font-medium",children:"Status"}),o.jsx(Tt,{className:"text-gray-700 font-medium",children:"Driver"}),o.jsx(Tt,{className:"text-gray-700 font-medium",children:"Collection"}),o.jsx(Tt,{className:"text-gray-700 font-medium",children:"Delivery"}),o.jsx(Tt,{className:"text-center text-gray-700 font-medium",children:"Actions"})]})}),o.jsx(mc,{className:"divide-y divide-gray-200",children:t.map((f,h)=>{const p=u(f.assigned_driver_id),g=f.status==="cancelled",w=f.status==="delivered"||f.status==="pod_received",y=f.status==="planned",S=["accepted","assigned","on_route_collection","at_collection","loaded","on_route_delivery","at_delivery"].includes(f.status);return o.jsxs(ys,{className:"hover:bg-gray-50 transition-colors py-4",children:[" ",o.jsx(Rt,{className:"font-medium",children:o.jsx(yi,{to:`/jobs/${f.order_number}`,className:"text-blue-700 hover:underline",children:f.order_number})}),o.jsx(Rt,{children:o.jsx(xa,{className:fe("rounded-full px-3 py-1 text-xs font-medium",g&&"bg-red-500 text-white",w&&"bg-green-500 text-white",y&&"bg-yellow-500 text-white",S&&"bg-blue-500 text-white"),children:Pa(f.status)})}),o.jsx(Rt,{children:o.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[o.jsx(ja,{className:"h-7 w-7 mr-2",children:o.jsx(Sa,{className:"bg-gray-200 text-gray-700 text-xs font-medium",children:p.initials})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:p.name}),p.reg&&p.name!=="Unassigned"&&o.jsx("div",{className:"text-xs text-gray-500",children:p.reg})]})]})}),o.jsx(Rt,{children:o.jsxs("div",{className:"flex flex-col items-start",children:[o.jsx("span",{className:"font-medium text-gray-900",children:qt(f.collection_name)}),o.jsx("span",{className:"text-sm text-gray-600",children:f.collection_city&&f.collection_postcode?`${qt(f.collection_city)}, ${ur(f.collection_postcode)}`:"-"}),f.pickup_eta&&o.jsx("span",{className:"text-sm text-gray-600",children:xt(cr(f.pickup_eta),"dd MMM yyyy, HH:mm")})]})}),o.jsx(Rt,{children:o.jsxs("div",{className:"flex flex-col items-start",children:[o.jsx("span",{className:"font-medium text-gray-900",children:qt(f.delivery_name)}),o.jsx("span",{className:"text-sm text-gray-600",children:f.delivery_city&&f.delivery_postcode?`${qt(f.delivery_city)}, ${ur(f.delivery_postcode)}`:"-"}),f.delivery_eta&&o.jsx("span",{className:"text-sm text-gray-600",children:xt(cr(f.delivery_eta),"dd MMM yyyy, HH:mm")})]})}),o.jsx(Rt,{className:"text-center",children:o.jsxs(ih,{children:[o.jsx(lh,{asChild:!0,children:o.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:o.jsx(wI,{className:"h-4 w-4"})})}),o.jsxs(Nu,{align:"end",className:"bg-white shadow-lg rounded-md",children:[o.jsxs(us,{onClick:()=>i("statusUpdate",f),children:[o.jsx(Ln,{className:"mr-2 h-4 w-4"})," Update Status"]}),o.jsxs(us,{onClick:()=>c(`/jobs/${f.order_number}`),children:[o.jsx(In,{className:"mr-2 h-4 w-4"})," View Job"]}),o.jsxs(us,{onClick:()=>i("assignDriver",f),children:[o.jsx(Mr,{className:"mr-2 h-4 w-4"})," Change Driver"]}),o.jsxs(us,{onClick:()=>i("viewAttachments",f),children:[o.jsx(zs,{className:"mr-2 h-4 w-4"})," View Attachments"]})]})]})})]},f.id)})})]})})};var qk="AlertDialog",[y9,H7]=dn(qk,[zN]),Da=zN(),Yk=t=>{const{__scopeAlertDialog:e,...r}=t,n=Da(e);return o.jsx(Jh,{...n,...r,modal:!0})};Yk.displayName=qk;var x9="AlertDialogTrigger",Kk=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Da(r);return o.jsx(Yy,{...s,...n,ref:e})});Kk.displayName=x9;var w9="AlertDialogPortal",Gk=t=>{const{__scopeAlertDialog:e,...r}=t,n=Da(e);return o.jsx(Qh,{...n,...r})};Gk.displayName=w9;var b9="AlertDialogOverlay",Jk=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Da(r);return o.jsx(uc,{...s,...n,ref:e})});Jk.displayName=b9;var Dl="AlertDialogContent",[_9,j9]=y9(Dl),S9=PO("AlertDialogContent"),Qk=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...s}=t,i=Da(r),c=v.useRef(null),u=ot(e,c),f=v.useRef(null);return o.jsx(W$,{contentName:Dl,titleName:Zk,docsSlug:"alert-dialog",children:o.jsx(_9,{scope:r,cancelRef:f,children:o.jsxs(ed,{role:"alertdialog",...i,...s,ref:u,onOpenAutoFocus:Ne(s.onOpenAutoFocus,h=>{var p;h.preventDefault(),(p=f.current)==null||p.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[o.jsx(S9,{children:n}),o.jsx(C9,{contentRef:c})]})})})});Qk.displayName=Dl;var Zk="AlertDialogTitle",Xk=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Da(r);return o.jsx(td,{...s,...n,ref:e})});Xk.displayName=Zk;var eE="AlertDialogDescription",tE=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Da(r);return o.jsx(rd,{...s,...n,ref:e})});tE.displayName=eE;var N9="AlertDialogAction",rE=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Da(r);return o.jsx(Zh,{...s,...n,ref:e})});rE.displayName=N9;var nE="AlertDialogCancel",sE=v.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:s}=j9(nE,r),i=Da(r),c=ot(e,s);return o.jsx(Zh,{...i,...n,ref:c})});sE.displayName=nE;var C9=({contentRef:t})=>{const e=`\`${Dl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Dl}\` by passing a \`${eE}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Dl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},k9=Yk,E9=Kk,P9=Gk,aE=Jk,oE=Qk,iE=rE,lE=sE,cE=Xk,uE=tE;const Gs=k9,Au=E9,A9=P9,dE=v.forwardRef(({className:t,...e},r)=>o.jsx(aE,{className:fe("fixed inset-0 z-50 bg-black/40 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));dE.displayName=aE.displayName;const xs=v.forwardRef(({className:t,...e},r)=>o.jsxs(A9,{children:[o.jsx(dE,{}),o.jsx(oE,{ref:r,className:fe("fixed left-[50%] top-[50%] z-50 grid translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg","w-[90vw] h-[90vh] max-w-6xl overflow-y-auto rounded-xl shadow-lg bg-white",t),...e})]}));xs.displayName=oE.displayName;const ws=({className:t,...e})=>o.jsx("div",{className:fe("flex flex-col space-y-2 text-center sm:text-left",t),...e});ws.displayName="AlertDialogHeader";const bs=({className:t,...e})=>o.jsx("div",{className:fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});bs.displayName="AlertDialogFooter";const _s=v.forwardRef(({className:t,...e},r)=>o.jsx(cE,{ref:r,className:fe("text-lg font-semibold",t),...e}));_s.displayName=cE.displayName;const js=v.forwardRef(({className:t,...e},r)=>o.jsx(uE,{ref:r,className:fe("text-sm text-muted-foreground",t),...e}));js.displayName=uE.displayName;const Ss=v.forwardRef(({className:t,...e},r)=>o.jsx(iE,{ref:r,className:fe(xu(),t),...e}));Ss.displayName=iE.displayName;const Ns=v.forwardRef(({className:t,...e},r)=>o.jsx(lE,{ref:r,className:fe(xu({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Ns.displayName=lE.displayName;const Vn=v.forwardRef(({className:t,...e},r)=>o.jsx("textarea",{className:fe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Vn.displayName="Textarea";const ph=t=>{if(!t)return{formattedTime:null,error:"Time is required."};let e=t.replace(/[^0-9]/g,"");if(e.length===1?e=`${e}00`:e.length===3&&(e=`0${e}`),e.length!==4)return{formattedTime:null,error:"Invalid time format. Use HHMM or HH:MM."};const r=parseInt(e.substring(0,2),10),n=parseInt(e.substring(2,4),10);if(isNaN(r)||isNaN(n)||r<0||r>23||n<0||n>59)return{formattedTime:null,error:"Invalid time. Hours (00-23), Minutes (00-59)."};const s=String(r).padStart(2,"0"),i=String(n).padStart(2,"0");return{formattedTime:`${s}:${i}`,error:null}},fE=({open:t,onOpenChange:e,job:r,currentProfile:n,userRole:s,onUpdateProgress:i,isUpdatingProgress:c,driverActiveJobs:u=[]})=>{const[f,h]=v.useState(""),[p,g]=v.useState([]),w=Rl.filter(C=>!["planned","assigned","cancelled"].includes(C));v.useEffect(()=>{if(r&&f&&Rl.includes(r.status)&&Rl.includes(f)){const E=[...g9(r.status,f),f],k=new Date,A=xt(k,"HH:mm");g(E.map(T=>({status:T,dateTime:ls(is(os(new Date,k.getHours()),k.getMinutes()),0),notes:"",timeInput:A,timeError:null})))}else g([])},[r,f]);const y=(C,E)=>{g(k=>{const A=[...k];if(E&&A[C].dateTime){let T=os(E,A[C].dateTime.getHours());T=is(T,A[C].dateTime.getMinutes()),T=ls(T,0),A[C].dateTime=T}else E&&!A[C].dateTime?A[C].dateTime=ls(is(os(E,0),0),0):A[C].dateTime=void 0;return A})},S=(C,E)=>{g(k=>{const A=[...k],{formattedTime:T,error:I}=ph(E);if(A[C]={...A[C],timeInput:E,timeError:I},T&&A[C].dateTime){const[L,B]=T.split(":"),H=parseInt(L,10),X=parseInt(B,10);let Q=os(A[C].dateTime,H);Q=is(Q,X),Q=ls(Q,0),A[C].dateTime=Q}else if(T&&!A[C].dateTime){let L=new Date;L=os(L,parseInt(T.split(":")[0],10)),L=is(L,parseInt(T.split(":")[1],10)),L=ls(L,0),A[C].dateTime=L}else if(A[C].dateTime){const L=os(is(ls(A[C].dateTime,0),0),0);A[C].dateTime=L}else A[C].dateTime=void 0;return A})},_=(C,E)=>{g(k=>{const A=[...k];return A[C]={...A[C],notes:E},A})},b=async()=>{if(p.length===0){le.error("No status updates to log.");return}if(p.some(E=>E.timeError!==null||!E.dateTime)){le.error("Please ensure all date and time entries are valid.");return}if(s==="driver"){const E=["on_route_collection","at_collection","loaded","on_route_delivery","at_delivery","delivered","pod_received"];if(p.some(A=>E.includes(A.status))&&u.filter(T=>T.id!==r.id&&E.includes(T.status)).length>0){le.error("You already have an active job in progress. Please complete or cancel it before starting another.");return}}await i(p),h(""),g([]),e(!1)},N=C=>{C||(h(""),g([])),e(C)};return o.jsx(Gs,{open:t,onOpenChange:N,children:o.jsxs(xs,{className:"flex flex-col",children:[o.jsxs(ws,{children:[o.jsx(_s,{className:"text-xl font-semibold text-gray-900",children:"Update Job Progress"}),o.jsx(js,{children:"Log a new status update for this job."})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(nt,{htmlFor:"progress-status",children:"New Status"}),o.jsxs(Un,{value:f,onValueChange:C=>h(C),disabled:c,children:[o.jsx(jn,{id:"progress-status",children:o.jsx(Bn,{placeholder:"Select new status"})}),o.jsx(Sn,{className:"bg-white shadow-sm rounded-xl",children:w.map(C=>o.jsx(Ft,{value:C,children:Pa(C)},C))})]})]}),p.length>0&&o.jsxs("div",{className:"space-y-4 border-t pt-4 mt-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Log Entries:"}),p.map((C,E)=>o.jsxs(et,{className:"p-3 bg-gray-50 shadow-sm rounded-md",children:[" ",o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 items-center",children:[o.jsxs("div",{className:"flex flex-col sm:col-span-1",children:[o.jsx(nt,{className:"text-gray-700",children:"Status:"}),o.jsx("p",{className:"font-semibold text-lg text-gray-900",children:Pa(C.status)})]}),o.jsxs("div",{className:"flex flex-col sm:col-span-1",children:[o.jsx(nt,{className:"text-gray-700",children:"Date"}),o.jsxs(Po,{children:[o.jsx(Ao,{asChild:!0,children:o.jsxs(ue,{variant:"outline",className:fe("w-full justify-start text-left font-normal",!C.dateTime&&"text-muted-foreground"),disabled:c,children:[o.jsx(_a,{className:"mr-2 h-4 w-4"}),C.dateTime?xt(C.dateTime,"PPP"):o.jsx("span",{children:"Pick a date"})]})}),o.jsx(Ea,{className:"w-auto p-0 bg-white shadow-sm rounded-xl",align:"start",children:o.jsx(To,{mode:"single",selected:C.dateTime,onSelect:k=>y(E,k),initialFocus:!0})})]})]}),o.jsxs("div",{className:"flex flex-col sm:col-span-1",children:[o.jsx(nt,{htmlFor:`time-input-${E}`,className:"text-gray-700",children:"Time (HH:MM)"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(fs,{className:"h-4 w-4 text-gray-500"}),o.jsx(De,{id:`time-input-${E}`,type:"text",value:C.timeInput,onChange:k=>S(E,k.target.value),onBlur:k=>{const{formattedTime:A}=ph(k.target.value);A&&S(E,A)},placeholder:"HH:MM (e.g., 09:00)",className:"w-full",disabled:c})]}),C.timeError&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:C.timeError})]})]}),o.jsxs("div",{className:"space-y-2 mt-4",children:[o.jsx(nt,{htmlFor:`notes-${E}`,className:"text-gray-700",children:"Notes (Optional)"}),o.jsx(Vn,{id:`notes-${E}`,value:C.notes,onChange:k=>_(E,k.target.value),placeholder:"Add any relevant notes for this update...",disabled:c})]})]},E))]})]})}),o.jsxs(bs,{children:[o.jsx(Ns,{onClick:()=>N(!1),disabled:c,children:"Cancel"}),o.jsxs(Ss,{onClick:b,disabled:c||p.length===0||p.some(C=>C.timeError!==null||!C.dateTime),children:[c?o.jsx(wt,{className:"h-4 w-4 animate-spin mr-2"}):null,"Save Progress"]})]})]})})},Aa=Jh,T9=Yy,R9=Qh,hE=v.forwardRef(({className:t,...e},r)=>o.jsx(uc,{ref:r,className:fe("fixed inset-0 z-50 bg-black/40 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));hE.displayName=uc.displayName;const Js=v.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(R9,{children:[o.jsx(hE,{}),o.jsxs(ed,{ref:n,className:fe("fixed left-[50%] top-[50%] z-50 grid translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg","w-[90vw] h-[90vh] max-w-6xl overflow-y-auto rounded-xl shadow-lg bg-white",t),...r,children:[e,o.jsxs(Zh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(Mh,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Js.displayName="DialogContent";const Qs=({className:t,...e})=>o.jsx("div",{className:fe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Qs.displayName="DialogHeader";const sm=({className:t,...e})=>o.jsx("div",{className:fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});sm.displayName="DialogFooter";const Zs=v.forwardRef(({className:t,...e},r)=>o.jsx(td,{ref:r,className:fe("text-lg font-semibold leading-none tracking-tight",t),...e}));Zs.displayName=td.displayName;const Ri=v.forwardRef(({className:t,...e},r)=>o.jsx(rd,{ref:r,className:fe("text-sm text-muted-foreground",t),...e}));Ri.displayName=rd.displayName;function D9(t,e){return v.useReducer((r,n)=>e[r][n]??r,t)}var gx="ScrollArea",[mE,q7]=dn(gx),[O9,zn]=mE(gx),pE=v.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...c}=t,[u,f]=v.useState(null),[h,p]=v.useState(null),[g,w]=v.useState(null),[y,S]=v.useState(null),[_,b]=v.useState(null),[N,C]=v.useState(0),[E,k]=v.useState(0),[A,T]=v.useState(!1),[I,L]=v.useState(!1),B=ot(e,X=>f(X)),H=Hu(s);return o.jsx(O9,{scope:r,type:n,dir:H,scrollHideDelay:i,scrollArea:u,viewport:h,onViewportChange:p,content:g,onContentChange:w,scrollbarX:y,onScrollbarXChange:S,scrollbarXEnabled:A,onScrollbarXEnabledChange:T,scrollbarY:_,onScrollbarYChange:b,scrollbarYEnabled:I,onScrollbarYEnabledChange:L,onCornerWidthChange:C,onCornerHeightChange:k,children:o.jsx(Le.div,{dir:H,...c,ref:B,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":E+"px",...t.style}})})});pE.displayName=gx;var gE="ScrollAreaViewport",vE=v.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=t,c=zn(gE,r),u=v.useRef(null),f=ot(e,u,c.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(Le.div,{"data-radix-scroll-area-viewport":"",...i,ref:f,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...t.style},children:o.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});vE.displayName=gE;var ea="ScrollAreaScrollbar",vx=v.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=zn(ea,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:c}=s,u=t.orientation==="horizontal";return v.useEffect(()=>(u?i(!0):c(!0),()=>{u?i(!1):c(!1)}),[u,i,c]),s.type==="hover"?o.jsx(I9,{...n,ref:e,forceMount:r}):s.type==="scroll"?o.jsx(M9,{...n,ref:e,forceMount:r}):s.type==="auto"?o.jsx(yE,{...n,ref:e,forceMount:r}):s.type==="always"?o.jsx(yx,{...n,ref:e}):null});vx.displayName=ea;var I9=v.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=zn(ea,t.__scopeScrollArea),[i,c]=v.useState(!1);return v.useEffect(()=>{const u=s.scrollArea;let f=0;if(u){const h=()=>{window.clearTimeout(f),c(!0)},p=()=>{f=window.setTimeout(()=>c(!1),s.scrollHideDelay)};return u.addEventListener("pointerenter",h),u.addEventListener("pointerleave",p),()=>{window.clearTimeout(f),u.removeEventListener("pointerenter",h),u.removeEventListener("pointerleave",p)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(Lr,{present:r||i,children:o.jsx(yE,{"data-state":i?"visible":"hidden",...n,ref:e})})}),M9=v.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=zn(ea,t.__scopeScrollArea),i=t.orientation==="horizontal",c=om(()=>f("SCROLL_END"),100),[u,f]=D9("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(u==="idle"){const h=window.setTimeout(()=>f("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(h)}},[u,s.scrollHideDelay,f]),v.useEffect(()=>{const h=s.viewport,p=i?"scrollLeft":"scrollTop";if(h){let g=h[p];const w=()=>{const y=h[p];g!==y&&(f("SCROLL"),c()),g=y};return h.addEventListener("scroll",w),()=>h.removeEventListener("scroll",w)}},[s.viewport,i,f,c]),o.jsx(Lr,{present:r||u!=="hidden",children:o.jsx(yx,{"data-state":u==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:Ne(t.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:Ne(t.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),yE=v.forwardRef((t,e)=>{const r=zn(ea,t.__scopeScrollArea),{forceMount:n,...s}=t,[i,c]=v.useState(!1),u=t.orientation==="horizontal",f=om(()=>{if(r.viewport){const h=r.viewport.offsetWidth<r.viewport.scrollWidth,p=r.viewport.offsetHeight<r.viewport.scrollHeight;c(u?h:p)}},10);return Zl(r.viewport,f),Zl(r.content,f),o.jsx(Lr,{present:n||i,children:o.jsx(yx,{"data-state":i?"visible":"hidden",...s,ref:e})})}),yx=v.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,s=zn(ea,t.__scopeScrollArea),i=v.useRef(null),c=v.useRef(0),[u,f]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=jE(u.viewport,u.content),p={...n,sizes:u,onSizesChange:f,hasThumb:h>0&&h<1,onThumbChange:w=>i.current=w,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:w=>c.current=w};function g(w,y){return V9(w,c.current,u,y)}return r==="horizontal"?o.jsx(L9,{...p,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const w=s.viewport.scrollLeft,y=sj(w,u,s.dir);i.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:w=>{s.viewport&&(s.viewport.scrollLeft=w)},onDragScroll:w=>{s.viewport&&(s.viewport.scrollLeft=g(w,s.dir))}}):r==="vertical"?o.jsx($9,{...p,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const w=s.viewport.scrollTop,y=sj(w,u);i.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:w=>{s.viewport&&(s.viewport.scrollTop=w)},onDragScroll:w=>{s.viewport&&(s.viewport.scrollTop=g(w))}}):null}),L9=v.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,i=zn(ea,t.__scopeScrollArea),[c,u]=v.useState(),f=v.useRef(null),h=ot(e,f,i.onScrollbarXChange);return v.useEffect(()=>{f.current&&u(getComputedStyle(f.current))},[f]),o.jsx(wE,{"data-orientation":"horizontal",...s,ref:h,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":am(r)+"px",...t.style},onThumbPointerDown:p=>t.onThumbPointerDown(p.x),onDragScroll:p=>t.onDragScroll(p.x),onWheelScroll:(p,g)=>{if(i.viewport){const w=i.viewport.scrollLeft+p.deltaX;t.onWheelScroll(w),NE(w,g)&&p.preventDefault()}},onResize:()=>{f.current&&i.viewport&&c&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:vh(c.paddingLeft),paddingEnd:vh(c.paddingRight)}})}})}),$9=v.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,i=zn(ea,t.__scopeScrollArea),[c,u]=v.useState(),f=v.useRef(null),h=ot(e,f,i.onScrollbarYChange);return v.useEffect(()=>{f.current&&u(getComputedStyle(f.current))},[f]),o.jsx(wE,{"data-orientation":"vertical",...s,ref:h,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":am(r)+"px",...t.style},onThumbPointerDown:p=>t.onThumbPointerDown(p.y),onDragScroll:p=>t.onDragScroll(p.y),onWheelScroll:(p,g)=>{if(i.viewport){const w=i.viewport.scrollTop+p.deltaY;t.onWheelScroll(w),NE(w,g)&&p.preventDefault()}},onResize:()=>{f.current&&i.viewport&&c&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:vh(c.paddingTop),paddingEnd:vh(c.paddingBottom)}})}})}),[F9,xE]=mE(ea),wE=v.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:c,onThumbPointerDown:u,onThumbPositionChange:f,onDragScroll:h,onWheelScroll:p,onResize:g,...w}=t,y=zn(ea,r),[S,_]=v.useState(null),b=ot(e,B=>_(B)),N=v.useRef(null),C=v.useRef(""),E=y.viewport,k=n.content-n.viewport,A=br(p),T=br(f),I=om(g,10);function L(B){if(N.current){const H=B.clientX-N.current.left,X=B.clientY-N.current.top;h({x:H,y:X})}}return v.useEffect(()=>{const B=H=>{const X=H.target;(S==null?void 0:S.contains(X))&&A(H,k)};return document.addEventListener("wheel",B,{passive:!1}),()=>document.removeEventListener("wheel",B,{passive:!1})},[E,S,k,A]),v.useEffect(T,[n,T]),Zl(S,I),Zl(y.content,I),o.jsx(F9,{scope:r,scrollbar:S,hasThumb:s,onThumbChange:br(i),onThumbPointerUp:br(c),onThumbPositionChange:T,onThumbPointerDown:br(u),children:o.jsx(Le.div,{...w,ref:b,style:{position:"absolute",...w.style},onPointerDown:Ne(t.onPointerDown,B=>{B.button===0&&(B.target.setPointerCapture(B.pointerId),N.current=S.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),L(B))}),onPointerMove:Ne(t.onPointerMove,L),onPointerUp:Ne(t.onPointerUp,B=>{const H=B.target;H.hasPointerCapture(B.pointerId)&&H.releasePointerCapture(B.pointerId),document.body.style.webkitUserSelect=C.current,y.viewport&&(y.viewport.style.scrollBehavior=""),N.current=null})})})}),gh="ScrollAreaThumb",bE=v.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=xE(gh,t.__scopeScrollArea);return o.jsx(Lr,{present:r||s.hasThumb,children:o.jsx(U9,{ref:e,...n})})}),U9=v.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...s}=t,i=zn(gh,r),c=xE(gh,r),{onThumbPositionChange:u}=c,f=ot(e,g=>c.onThumbChange(g)),h=v.useRef(void 0),p=om(()=>{h.current&&(h.current(),h.current=void 0)},100);return v.useEffect(()=>{const g=i.viewport;if(g){const w=()=>{if(p(),!h.current){const y=z9(g,u);h.current=y,u()}};return u(),g.addEventListener("scroll",w),()=>g.removeEventListener("scroll",w)}},[i.viewport,p,u]),o.jsx(Le.div,{"data-state":c.hasThumb?"visible":"hidden",...s,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ne(t.onPointerDownCapture,g=>{const y=g.target.getBoundingClientRect(),S=g.clientX-y.left,_=g.clientY-y.top;c.onThumbPointerDown({x:S,y:_})}),onPointerUp:Ne(t.onPointerUp,c.onThumbPointerUp)})});bE.displayName=gh;var xx="ScrollAreaCorner",_E=v.forwardRef((t,e)=>{const r=zn(xx,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(B9,{...t,ref:e}):null});_E.displayName=xx;var B9=v.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,s=zn(xx,r),[i,c]=v.useState(0),[u,f]=v.useState(0),h=!!(i&&u);return Zl(s.scrollbarX,()=>{var g;const p=((g=s.scrollbarX)==null?void 0:g.offsetHeight)||0;s.onCornerHeightChange(p),f(p)}),Zl(s.scrollbarY,()=>{var g;const p=((g=s.scrollbarY)==null?void 0:g.offsetWidth)||0;s.onCornerWidthChange(p),c(p)}),h?o.jsx(Le.div,{...n,ref:e,style:{width:i,height:u,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function vh(t){return t?parseInt(t,10):0}function jE(t,e){const r=t/e;return isNaN(r)?0:r}function am(t){const e=jE(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function V9(t,e,r,n="ltr"){const s=am(r),i=s/2,c=e||i,u=s-c,f=r.scrollbar.paddingStart+c,h=r.scrollbar.size-r.scrollbar.paddingEnd-u,p=r.content-r.viewport,g=n==="ltr"?[0,p]:[p*-1,0];return SE([f,h],g)(t)}function sj(t,e,r="ltr"){const n=am(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,c=e.content-e.viewport,u=i-n,f=r==="ltr"?[0,c]:[c*-1,0],h=Nv(t,f);return SE([0,c],[0,u])(h)}function SE(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function NE(t,e){return t>0&&t<e}var z9=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return(function s(){const i={left:t.scrollLeft,top:t.scrollTop},c=r.left!==i.left,u=r.top!==i.top;(c||u)&&e(),r=i,n=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(n)};function om(t,e){const r=br(t),n=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),v.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function Zl(t,e){const r=br(e);dr(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,r])}var CE=pE,W9=vE,H9=_E;const kE=v.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(CE,{ref:n,className:fe("relative overflow-hidden",t),...r,children:[o.jsx(W9,{className:"h-full w-full rounded-[inherit]",children:e}),o.jsx(EE,{}),o.jsx(H9,{})]}));kE.displayName=CE.displayName;const EE=v.forwardRef(({className:t,orientation:e="vertical",...r},n)=>o.jsx(vx,{ref:n,orientation:e,className:fe("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:o.jsx(bE,{className:"relative flex-1 rounded-full bg-border"})}));EE.displayName=vx.displayName;const PE=({open:t,onOpenChange:e,drivers:r,currentAssignedDriverId:n,onAssign:s,isAssigning:i})=>{const[c,u]=v.useState(""),[f,h]=v.useState(n||null);v.useEffect(()=>{t&&(h(n||null),u(""))},[t,n]);const p=v.useMemo(()=>{if(!c.trim())return r;const _=c.toLowerCase();return r.filter(b=>b.full_name.toLowerCase().includes(_)||b.truck_reg&&b.truck_reg.toLowerCase().includes(_)||b.trailer_no&&b.trailer_no.toLowerCase().includes(_))},[r,c]),g=v.useMemo(()=>r.find(_=>_.id===n),[r,n]);v.useMemo(()=>r.find(_=>_.id===f),[r,f]);const w=async()=>{await s(f)},y=()=>{e(!1)},S=i||f===(n||null);return o.jsx(Aa,{open:t,onOpenChange:e,children:o.jsxs(Js,{className:"w-[90vw] max-w-4xl h-auto rounded-xl shadow-lg bg-white flex flex-col max-h-[90vh]",children:[o.jsxs(Qs,{children:[o.jsx(Zs,{className:"text-xl font-semibold text-gray-900",children:"Assign Driver"}),o.jsx(Ri,{children:'Select a driver to assign to this job, then click "Save" to confirm.'})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-3 border border-gray-200 rounded-md bg-gray-50 flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center gap-3",children:g?o.jsxs(o.Fragment,{children:[o.jsx(wu,{className:"h-5 w-5 text-green-600"}),o.jsx(ja,{className:"h-9 w-9",children:o.jsx(Sa,{className:"bg-green-100 text-green-700 text-sm font-medium",children:g.full_name.split(" ").map(_=>_[0]).join("").substring(0,2).toUpperCase()})}),o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("span",{className:"font-medium text-gray-900",children:["Currently Assigned: ",g.full_name]}),o.jsxs("span",{className:"text-xs text-gray-600 flex items-center",children:[o.jsx(Mr,{className:"h-3 w-3 mr-1"})," ",g.truck_reg||"N/A"]})]})]}):o.jsxs(o.Fragment,{children:[o.jsx(Pi,{className:"h-5 w-5 text-red-600"}),o.jsx("span",{className:"font-medium text-gray-900",children:"Currently Unassigned"})]})}),g&&o.jsx(ue,{variant:"outline",size:"sm",onClick:()=>h(null),disabled:i||f===null,children:"Clear Selection"})]}),o.jsx(De,{placeholder:"Search drivers by name or truck reg...",value:c,onChange:_=>u(_.target.value),disabled:i}),o.jsx(kE,{className:"h-60 w-full rounded-md border border-[var(--saas-border)]",children:o.jsx("div",{className:"p-2",children:p.length===0?o.jsx("p",{className:"text-center text-gray-500 py-4",children:"No drivers found."}):o.jsx("div",{className:"space-y-2",children:p.map(_=>o.jsxs(ue,{variant:_.id===f?"default":"outline",onClick:()=>h(_.id),disabled:i,className:fe("w-full justify-start text-left h-auto py-2",_.id===f&&"bg-blue-600 text-white hover:bg-blue-700"),children:[o.jsx(ja,{className:"h-8 w-8 mr-3",children:o.jsx(Sa,{className:"bg-gray-200 text-gray-700",children:o.jsx(Wu,{className:"h-5 w-5"})})}),o.jsxs("div",{className:"flex flex-col items-start",children:[o.jsx("span",{className:"font-medium",children:_.full_name}),o.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[o.jsx(Mr,{className:"h-3 w-3 mr-1"})," ",_.truck_reg||"N/A"]})]}),_.id===f&&o.jsx(wu,{className:"h-4 w-4 ml-auto text-white"})]},_.id))})})})]})}),o.jsxs(sm,{className:"flex justify-end gap-2 p-4 border-t border-gray-200",children:[o.jsx(ue,{variant:"outline",onClick:y,disabled:i,children:"Cancel"}),o.jsxs(ue,{onClick:w,disabled:S,children:[i?o.jsx(wt,{className:"h-4 w-4 animate-spin mr-2"}):null,"Save Assignment"]})]})]})})},AE=({documents:t})=>{const[e,r]=v.useState(null),n=t.filter(i=>i.type==="pod"||i.type==="check_signature"||i.type==="document_uploaded");if(n.length===0)return o.jsx("p",{className:"text-gray-600",children:"No PODs or images uploaded for this job yet."});const s=i=>i==="pod"?"https://via.placeholder.com/150/ADD8E6/000000?text=POD":i==="check_signature"?"https://via.placeholder.com/150/90EE90/000000?text=Signature":i==="document_uploaded"?"https://via.placeholder.com/150/D3D3D3/000000?text=Image":"https://via.placeholder.com/150/D3D3D3/000000?text=Document";return o.jsxs("div",{children:[o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:n.map(i=>o.jsxs("div",{className:"relative group overflow-hidden rounded-lg shadow-sm bg-[var(--saas-card-bg)]",children:[" ",o.jsx("img",{src:s(i.type),alt:i.type,className:"w-full h-32 object-cover cursor-pointer transition-transform duration-200 group-hover:scale-105",onClick:()=>r(s(i.type))}),o.jsx("div",{className:"p-2 bg-[var(--saas-card-bg)] text-center text-sm text-gray-700",children:o.jsx("span",{className:"capitalize",children:i.type.replace(/_/g," ")})}),o.jsx("a",{href:s(i.type),download:!0,className:"absolute top-2 right-2 p-1 bg-black/50 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",title:"Download",children:o.jsx(xI,{className:"h-4 w-4"})})]},i.id))}),o.jsx(Aa,{open:!!e,onOpenChange:()=>r(null),children:o.jsxs(Js,{className:"flex flex-col",children:[o.jsx(Qs,{children:o.jsx(Zs,{className:"text-xl font-semibold text-gray-900",children:"Document Viewer"})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 flex items-center justify-center",children:e&&o.jsx("img",{src:e,alt:"Selected Document",className:"max-w-full h-auto"})})]})})]})},q9=({open:t,onOpenChange:e,job:r,currentOrgId:n})=>{const{data:s=[],isLoading:i,error:c}=ya({queryKey:["jobDocuments",r==null?void 0:r.id],queryFn:()=>GC(n,r.id),enabled:t&&!!(r!=null&&r.id)&&!!n,staleTime:6e4});return o.jsx(Aa,{open:t,onOpenChange:e,children:o.jsxs(Js,{className:"flex flex-col max-w-3xl h-[90vh] bg-[var(--saas-card-bg)] p-6 rounded-xl shadow-lg",children:[o.jsxs(Qs,{children:[o.jsxs(Zs,{className:"text-xl font-semibold text-gray-900",children:["Attachments for Job: ",r==null?void 0:r.order_number]}),o.jsx(Ri,{children:"View all uploaded Proof of Deliveries and other images for this job."})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:i?o.jsxs("div",{className:"flex items-center justify-center h-full",children:[o.jsx(wt,{className:"h-8 w-8 animate-spin text-blue-600"}),o.jsx("p",{className:"ml-2 text-gray-700",children:"Loading attachments..."})]}):c?o.jsxs("div",{className:"text-red-500 text-center py-4",children:["Error loading attachments: ",c.message]}):s.length===0?o.jsx("div",{className:"text-gray-600 text-center py-4",children:"No attachments found for this job."}):o.jsx(AE,{documents:s})})]})})},Y9=zu("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),TE=v.forwardRef(({className:t,variant:e,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:fe(Y9({variant:e}),t),...r}));TE.displayName="Alert";const RE=v.forwardRef(({className:t,...e},r)=>o.jsx("h5",{ref:r,className:fe("mb-1 font-medium leading-none tracking-tight",t),...e}));RE.displayName="AlertTitle";const DE=v.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:fe("text-sm [&_p]:leading-relaxed",t),...e}));DE.displayName="AlertDescription";const K9=({activeJobs:t,onDismiss:e})=>{const[r,n]=v.useState(!0);if(v.useEffect(()=>{t.length===0?n(!1):n(!0)},[t]),!r||t.length===0)return null;const s=t[0];return o.jsx(TE,{className:fe("relative flex flex-col sm:flex-row items-center justify-between p-4 mb-6 rounded-xl shadow-md","bg-yellow-100 text-yellow-800 border-yellow-300"),children:o.jsxs("div",{className:"flex items-center space-x-3 text-center sm:text-left",children:[o.jsx(wu,{className:"h-5 w-5 text-yellow-600"}),o.jsxs("div",{children:[o.jsx(RE,{className:"text-lg font-semibold",children:"Active Job in Progress"}),o.jsxs(DE,{className:"text-sm",children:["You must complete or cancel this job before starting another.",o.jsx("br",{}),o.jsxs(yi,{to:`/jobs/${s.order_number}`,className:"underline font-medium hover:text-yellow-900",children:["View Job ",s.order_number]})]})]})]})})},G9=()=>{const{user:t,profile:e,userRole:r,isLoadingAuth:n}=tr(),s=cd(),[i,c]=v.useState(void 0),[u,f]=v.useState("all"),[h,p]=v.useState("active"),[g,w]=v.useState(""),[y,S]=v.useState(void 0),[_,b]=v.useState(void 0),[N,C]=v.useState({type:null,job:null}),[E,k]=v.useState(!1),A=er(),T=(e==null?void 0:e.org_id)||"demo-tenant-id",I=e,L=r==="admin",{data:B=[],isLoading:H,error:X}=ya({queryKey:["tenants"],queryFn:qC,staleTime:300*1e3,enabled:!!t&&!!I&&!n,onError:Oe=>console.error("Tenants query failed",Oe)});v.useEffect(()=>{var Oe;B.length>0&&I&&!i&&c(I.org_id||((Oe=B[0])==null?void 0:Oe.id))},[B,I,i]);const Q=()=>{let Oe,lt;const bt=Tl();return u==="today"?(Oe=bt.startOf("day").toISOString(),lt=bt.endOf("day").toISOString()):u==="week"?(Oe=bt.startOf("week").toISOString(),lt=bt.endOf("week").toISOString()):u==="month"?(Oe=bt.startOf("month").toISOString(),lt=bt.endOf("month").toISOString()):u==="year"?(Oe=bt.startOf("year").toISOString(),lt=bt.endOf("year").toISOString()):u==="custom"&&y&&_&&(Oe=Tl(y).startOf("day").toISOString(),lt=Tl(_).endOf("day").toISOString()),{startDate:Oe,endDate:lt}},{startDate:Y,endDate:ee}=Q(),{data:ne=[],isLoading:J,error:W}=ya({queryKey:["profiles",i,r],queryFn:()=>Ra(T,r),staleTime:300*1e3,enabled:!!i&&!!t&&!!I&&!n&&!!r,onError:Oe=>console.error("Profiles query failed",Oe)}),{data:D=[],isLoading:M,error:F}=ya({queryKey:["jobs",i,r,Y,ee,h],queryFn:()=>Tv(i,r,Y,ee,h),staleTime:60*1e3,enabled:!!i&&!!t&&!!I&&!!r&&!n,onError:Oe=>console.error("Jobs query failed",Oe)}),{data:O=[],isLoading:R,error:Z}=ya({queryKey:["driverActiveJobs",T,t==null?void 0:t.id],queryFn:()=>Tv(T,"driver",void 0,void 0,"active"),staleTime:30*1e3,enabled:r==="driver"&&!0&&!!(t!=null&&t.id)&&!n}),z=n||H||J||M||R,U=X||W||F||Z,de=ie.useMemo(()=>{if(!g)return D;const Oe=g.toLowerCase();return D.filter(lt=>{var bt,Kt,Gr,Ar,V,te;return((bt=lt.order_number)==null?void 0:bt.toLowerCase().includes(Oe))||((Kt=lt.collection_name)==null?void 0:Kt.toLowerCase().includes(Oe))||((Gr=lt.collection_city)==null?void 0:Gr.toLowerCase().includes(Oe))||((Ar=lt.delivery_name)==null?void 0:Ar.toLowerCase().includes(Oe))||((V=lt.delivery_city)==null?void 0:V.toLowerCase().includes(Oe))||((te=ne.find(ce=>ce.id===lt.assigned_driver_id))==null?void 0:te.full_name.toLowerCase().includes(Oe))})},[D,g,ne]),ae=D.length,me=D.filter(Oe=>!["delivered","pod_received","cancelled"].includes(Oe.status)).length,ve=D.filter(Oe=>["delivered","pod_received"].includes(Oe.status)).length,je=D.filter(Oe=>Oe.status==="cancelled").length,Ce=(Oe,lt)=>{C({type:Oe,job:lt})},We=async Oe=>{if(!N.job||!I||!r||Oe.length===0){le.error("No job or user profile/role found, or no status updates to log.");return}k(!0);try{const lt=[...Oe].sort((bt,Kt)=>bt.dateTime.getTime()-Kt.dateTime.getTime());for(const bt of lt){const Kt={job_id:N.job.id,org_id:T,actor_id:I.id,actor_role:r,new_status:bt.status,timestamp:bt.dateTime.toISOString(),notes:bt.notes.trim()||void 0};await Qy(Kt)}le.success("Job progress updated successfully!"),s.invalidateQueries({queryKey:["jobs"]}),s.invalidateQueries({queryKey:["jobDetail",N.job.order_number,r]}),s.invalidateQueries({queryKey:["driverActiveJobs"]}),C({type:null,job:null})}catch(lt){throw console.error("Error updating job progress:",lt),le.error("An unexpected error occurred while updating job progress."),lt}finally{k(!1)}},At=async Oe=>{if(!N.job||!I||!r){le.error("No job or user profile/role found. Cannot assign driver.");return}k(!0);try{const lt={assigned_driver_id:Oe},bt={job_id:N.job.id,org_id:T,actor_id:I.id,actor_role:r,job_updates:lt},Kt=Rv(bt);le.promise(Kt,{loading:Oe?"Assigning driver...":"Unassigning driver...",success:Oe?"Driver assigned successfully!":"Driver unassigned successfully!",error:Gr=>`Failed to assign driver: ${Gr.message}`}),await Kt,s.invalidateQueries({queryKey:["jobs"]}),s.invalidateQueries({queryKey:["jobDetail",N.job.order_number,r]}),s.invalidateQueries({queryKey:["driverActiveJobs"]}),C({type:null,job:null})}catch(lt){console.error("Error assigning driver:",lt),le.error("An unexpected error occurred while assigning the driver.")}finally{k(!1)}};return z?o.jsxs("div",{className:"flex items-center justify-center bg-[var(--saas-background)]",children:[o.jsx(wt,{className:"h-8 w-8 animate-spin text-blue-600"}),o.jsx("p",{className:"ml-2 text-gray-700",children:"Loading dashboard..."})]}):U?(console.error("Dashboard query error:",U),o.jsxs("div",{className:"flex flex-col items-center justify-center bg-[var(--saas-background)] p-4",children:[o.jsx("p",{className:"text-red-600 font-bold mb-2",children:"Dashboard failed to load"}),o.jsx("p",{className:"text-sm text-gray-700",children:U.message})]})):t?!e||r===void 0?(console.warn("Profile or role missing:",{profile:e,userRole:r}),o.jsxs("div",{className:"flex flex-col items-center justify-center bg-[var(--saas-background)] p-4",children:[o.jsx("p",{className:"text-red-600 font-bold mb-2",children:"No role assigned to your user account."}),o.jsx("pre",{className:"text-xs bg-gray-100 p-2 rounded",children:JSON.stringify(e,null,2)}),o.jsx(ue,{onClick:()=>A("/login"),variant:"outline",className:"mt-4",children:"Log In Again"})]})):o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Haulage Office Dashboard"}),o.jsx("div",{className:"flex items-center space-x-2",children:L&&o.jsxs(ue,{onClick:()=>A("/admin/users"),variant:"outline",children:[o.jsx(G1,{className:"h-4 w-4 mr-2"})," Admin Users"]})})]}),r==="driver"&&O.length>0&&o.jsx(K9,{activeJobs:O,onDismiss:()=>s.invalidateQueries({queryKey:["driverActiveJobs"]})}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4 mb-6",children:[o.jsx(Uf,{title:"Total Jobs",value:ae,icon:Mr,iconColorClass:"text-blue-600",valueColorClass:"text-blue-800",description:"All jobs in the system"}),o.jsx(Uf,{title:"Active Jobs",value:me,icon:Mr,iconColorClass:"text-yellow-600",valueColorClass:"text-yellow-800",description:"Jobs currently in progress"}),o.jsx(Uf,{title:"Completed Jobs",value:ve,icon:wu,iconColorClass:"text-green-600",valueColorClass:"text-green-800",description:"Jobs successfully delivered"}),o.jsx(Uf,{title:"Cancelled Jobs",value:je,icon:Pi,iconColorClass:"text-red-600",valueColorClass:"text-red-800",description:"Jobs that were cancelled"})]}),o.jsxs(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6 mb-6",children:[o.jsxs(vt,{className:"flex flex-col sm:flex-row justify-between items-center p-0 pb-4 sticky top-0 bg-[var(--saas-card-bg)] z-10 border-b border-[var(--saas-border)] -mx-6 px-6 pt-6 -mt-6",children:[o.jsx(yt,{className:"text-2xl font-bold text-gray-900 mb-4 sm:mb-0",children:"Jobs"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-center w-full sm:w-auto",children:[o.jsxs("div",{className:"flex space-x-1 rounded-full bg-gray-100 p-1",children:[o.jsx(ue,{variant:h==="active"?"default":"ghost",size:"sm",className:fe("rounded-full px-4 py-2 text-sm font-medium",h==="active"?"bg-blue-600 text-white hover:bg-blue-700":"text-gray-700 hover:bg-gray-200"),onClick:()=>p("active"),children:"Active"}),o.jsx(ue,{variant:h==="completed"?"default":"ghost",size:"sm",className:fe("rounded-full px-4 py-2 text-sm font-medium",h==="completed"?"bg-blue-600 text-white hover:bg-blue-700":"text-gray-700 hover:bg-gray-200"),onClick:()=>p("completed"),children:"Completed"}),o.jsx(ue,{variant:h==="cancelled"?"default":"ghost",size:"sm",className:fe("rounded-full px-4 py-2 text-sm font-medium",h==="cancelled"?"bg-blue-600 text-white hover:bg-blue-700":"text-gray-700 hover:bg-gray-200"),onClick:()=>p("cancelled"),children:"Cancelled"})]}),o.jsxs("div",{className:"relative w-full sm:w-60",children:[o.jsx(_y,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),o.jsx(De,{placeholder:"Search jobs...",value:g,onChange:Oe=>w(Oe.target.value),className:"pl-9 pr-3 py-2 rounded-full border border-gray-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all"})]}),o.jsx(nt,{htmlFor:"job-filter-range",className:"sr-only sm:not-sr-only text-gray-500",children:"Filter by date:"}),o.jsxs(Un,{value:u,onValueChange:Oe=>f(Oe),children:[o.jsx(jn,{id:"job-filter-range",className:"w-full sm:w-[180px] rounded-full",children:o.jsx(Bn,{placeholder:"Select date range"})}),o.jsxs(Sn,{className:"bg-white shadow-sm rounded-xl",children:[o.jsx(Ft,{value:"all",children:"All Time"}),o.jsx(Ft,{value:"today",children:"Today"}),o.jsx(Ft,{value:"week",children:"This Week"}),o.jsx(Ft,{value:"month",children:"This Month"}),o.jsx(Ft,{value:"year",children:"This Year"}),o.jsx(Ft,{value:"custom",children:"Custom Range"})]})]}),u==="custom"&&o.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[o.jsxs(Po,{children:[o.jsx(Ao,{asChild:!0,children:o.jsxs(ue,{variant:"outline",className:fe("w-full justify-start text-left font-normal rounded-full",!y&&"text-muted-foreground"),children:[o.jsx(_a,{className:"mr-2 h-4 w-4"}),y?xt(y,"PPP"):o.jsx("span",{children:"Start Date"})]})}),o.jsx(Ea,{className:"w-auto p-0 bg-white shadow-sm rounded-xl",align:"start",children:o.jsx(To,{mode:"single",selected:y,onSelect:S,initialFocus:!0})})]}),o.jsx("span",{children:"-"}),o.jsxs(Po,{children:[o.jsx(Ao,{asChild:!0,children:o.jsxs(ue,{variant:"outline",className:fe("w-full justify-start text-left font-normal rounded-full",!_&&"text-muted-foreground"),children:[o.jsx(_a,{className:"mr-2 h-4 w-4"}),_?xt(_,"PPP"):o.jsx("span",{children:"End Date"})]})}),o.jsx(Ea,{className:"w-auto p-0 bg-white shadow-sm rounded-xl",align:"start",children:o.jsx(To,{mode:"single",selected:_,onSelect:b,initialFocus:!0})})]})]})]})]}),o.jsx(dt,{className:"p-0 pt-4",children:o.jsx(v9,{jobs:de,profiles:ne,userRole:r,currentProfile:I,currentOrgId:T,onAction:Ce})})]})]}),o.jsx(rF,{}),N.type==="statusUpdate"&&N.job&&I&&r&&o.jsx(fE,{open:!0,onOpenChange:()=>C({type:null,job:null}),job:N.job,currentProfile:I,userRole:r,onUpdateProgress:We,isUpdatingProgress:E,driverActiveJobs:O}),N.type==="assignDriver"&&N.job&&I&&r&&o.jsx(PE,{open:!0,onOpenChange:()=>C({type:null,job:null}),drivers:ne.filter(Oe=>Oe.role==="driver"),currentAssignedDriverId:N.job.assigned_driver_id,onAssign:At,isAssigning:E}),N.type==="viewAttachments"&&N.job&&T&&o.jsx(q9,{open:!0,onOpenChange:()=>C({type:null,job:null}),job:N.job,currentOrgId:T})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center bg-[var(--saas-background)] p-4",children:[o.jsx("p",{className:"text-red-600 font-bold mb-2",children:"You are not logged in."}),o.jsx(ue,{onClick:()=>A("/login"),variant:"outline",children:"Log In"})]})};var ud=t=>t.type==="checkbox",li=t=>t instanceof Date,Yr=t=>t==null;const OE=t=>typeof t=="object";var ar=t=>!Yr(t)&&!Array.isArray(t)&&OE(t)&&!li(t),IE=t=>ar(t)&&t.target?ud(t.target)?t.target.checked:t.target.value:t,J9=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,ME=(t,e)=>t.has(J9(e)),Q9=t=>{const e=t.constructor&&t.constructor.prototype;return ar(e)&&e.hasOwnProperty("isPrototypeOf")},wx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Wt(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(wx&&(t instanceof Blob||n))&&(r||ar(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!Q9(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Wt(t[s]));else return t;return e}var im=t=>/^\w*$/.test(t),Ht=t=>t===void 0,lm=t=>Array.isArray(t)?t.filter(Boolean):[],bx=t=>lm(t.replace(/["|']|\]/g,"").split(/\.|\[/)),be=(t,e,r)=>{if(!e||!ar(t))return r;const n=(im(e)?[e]:bx(e)).reduce((s,i)=>Yr(s)?s:s[i],t);return Ht(n)||n===t?Ht(t[e])?r:t[e]:n},xn=t=>typeof t=="boolean",Pt=(t,e,r)=>{let n=-1;const s=im(e)?[e]:bx(e),i=s.length,c=i-1;for(;++n<i;){const u=s[n];let f=r;if(n!==c){const h=t[u];f=ar(h)||Array.isArray(h)?h:isNaN(+s[n+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;t[u]=f,t=t[u]}};const yh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Mn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},da={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},_x=ie.createContext(null);_x.displayName="HookFormContext";const Di=()=>ie.useContext(_x),LE=t=>{const{children:e,...r}=t;return ie.createElement(_x.Provider,{value:r},e)};var $E=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const c=i;return e._proxyFormState[c]!==Mn.all&&(e._proxyFormState[c]=!n||Mn.all),r&&(r[c]=!0),t[c]}});return s};const cm=typeof window<"u"?ie.useLayoutEffect:ie.useEffect;function Z9(t){const e=Di(),{control:r=e.control,disabled:n,name:s,exact:i}=t||{},[c,u]=ie.useState(r._formState),f=ie.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return cm(()=>r._subscribe({name:s,formState:f.current,exact:i,callback:h=>{!n&&u({...r._formState,...h})}}),[s,n,i]),ie.useEffect(()=>{f.current.isValid&&r._setValid(!0)},[r]),ie.useMemo(()=>$E(c,r,f.current,!1),[c,r])}var Vs=t=>typeof t=="string",FE=(t,e,r,n,s)=>Vs(t)?(n&&e.watch.add(t),be(r,t,s)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),be(r,i))):(n&&(e.watchAll=!0),r),Gv=t=>Yr(t)||!OE(t);function va(t,e,r=new WeakSet){if(Gv(t)||Gv(e))return t===e;if(li(t)&&li(e))return t.getTime()===e.getTime();const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const i of n){const c=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const u=e[i];if(li(c)&&li(u)||ar(c)&&ar(u)||Array.isArray(c)&&Array.isArray(u)?!va(c,u,r):c!==u)return!1}}return!0}function X9(t){const e=Di(),{control:r=e.control,name:n,defaultValue:s,disabled:i,exact:c,compute:u}=t||{},f=ie.useRef(s),h=ie.useRef(u),p=ie.useRef(void 0);h.current=u;const g=ie.useMemo(()=>r._getWatch(n,f.current),[r,n]),[w,y]=ie.useState(h.current?h.current(g):g);return cm(()=>r._subscribe({name:n,formState:{values:!0},exact:c,callback:S=>{if(!i){const _=FE(n,r._names,S.values||r._formValues,!1,f.current);if(h.current){const b=h.current(_);va(b,p.current)||(y(b),p.current=b)}else y(_)}}}),[r,i,n,c]),ie.useEffect(()=>r._removeUnmounted()),w}function e8(t){const e=Di(),{name:r,disabled:n,control:s=e.control,shouldUnregister:i,defaultValue:c}=t,u=ME(s._names.array,r),f=ie.useMemo(()=>be(s._formValues,r,be(s._defaultValues,r,c)),[s,r,c]),h=X9({control:s,name:r,defaultValue:f,exact:!0}),p=Z9({control:s,name:r,exact:!0}),g=ie.useRef(t),w=ie.useRef(s.register(r,{...t.rules,value:h,...xn(t.disabled)?{disabled:t.disabled}:{}}));g.current=t;const y=ie.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!be(p.errors,r)},isDirty:{enumerable:!0,get:()=>!!be(p.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!be(p.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!be(p.validatingFields,r)},error:{enumerable:!0,get:()=>be(p.errors,r)}}),[p,r]),S=ie.useCallback(C=>w.current.onChange({target:{value:IE(C),name:r},type:yh.CHANGE}),[r]),_=ie.useCallback(()=>w.current.onBlur({target:{value:be(s._formValues,r),name:r},type:yh.BLUR}),[r,s._formValues]),b=ie.useCallback(C=>{const E=be(s._fields,r);E&&C&&(E._f.ref={focus:()=>C.focus&&C.focus(),select:()=>C.select&&C.select(),setCustomValidity:k=>C.setCustomValidity(k),reportValidity:()=>C.reportValidity()})},[s._fields,r]),N=ie.useMemo(()=>({name:r,value:h,...xn(n)||p.disabled?{disabled:p.disabled||n}:{},onChange:S,onBlur:_,ref:b}),[r,n,p.disabled,S,_,b,h]);return ie.useEffect(()=>{const C=s._options.shouldUnregister||i;s.register(r,{...g.current.rules,...xn(g.current.disabled)?{disabled:g.current.disabled}:{}});const E=(k,A)=>{const T=be(s._fields,k);T&&T._f&&(T._f.mount=A)};if(E(r,!0),C){const k=Wt(be(s._options.defaultValues,r));Pt(s._defaultValues,r,k),Ht(be(s._formValues,r))&&Pt(s._formValues,r,k)}return!u&&s.register(r),()=>{(u?C&&!s._state.action:C)?s.unregister(r):E(r,!1)}},[r,s,u,i]),ie.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),ie.useMemo(()=>({field:N,formState:p,fieldState:y}),[N,p,y])}const t8=t=>t.render(e8(t));var UE=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},cn=t=>Array.isArray(t)?t:[t],aj=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Hr=t=>ar(t)&&!Object.keys(t).length,jx=t=>t.type==="file",cs=t=>typeof t=="function",xh=t=>{if(!wx)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},BE=t=>t.type==="select-multiple",Sx=t=>t.type==="radio",r8=t=>Sx(t)||ud(t),Ig=t=>xh(t)&&t.isConnected;function n8(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Ht(t)?n++:t[e[n++]];return t}function s8(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ht(t[e]))return!1;return!0}function sr(t,e){const r=Array.isArray(e)?e:im(e)?[e]:bx(e),n=r.length===1?t:n8(t,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(ar(n)&&Hr(n)||Array.isArray(n)&&s8(n))&&sr(t,r.slice(0,-1)),t}var VE=t=>{for(const e in t)if(cs(t[e]))return!0;return!1};function wh(t,e={}){const r=Array.isArray(t);if(ar(t)||r)for(const n in t)Array.isArray(t[n])||ar(t[n])&&!VE(t[n])?(e[n]=Array.isArray(t[n])?[]:{},wh(t[n],e[n])):Yr(t[n])||(e[n]=!0);return e}function zE(t,e,r){const n=Array.isArray(t);if(ar(t)||n)for(const s in t)Array.isArray(t[s])||ar(t[s])&&!VE(t[s])?Ht(e)||Gv(r[s])?r[s]=Array.isArray(t[s])?wh(t[s],[]):{...wh(t[s])}:zE(t[s],Yr(e)?{}:e[s],r[s]):r[s]=!va(t[s],e[s]);return r}var tu=(t,e)=>zE(t,e,wh(e));const oj={value:!1,isValid:!1},ij={value:!0,isValid:!0};var WE=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ht(t[0].attributes.value)?Ht(t[0].value)||t[0].value===""?ij:{value:t[0].value,isValid:!0}:ij:oj}return oj},HE=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Ht(t)?t:e?t===""?NaN:t&&+t:r&&Vs(t)?new Date(t):n?n(t):t;const lj={isValid:!1,value:null};var qE=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,lj):lj;function cj(t){const e=t.ref;return jx(e)?e.files:Sx(e)?qE(t.refs).value:BE(e)?[...e.selectedOptions].map(({value:r})=>r):ud(e)?WE(t.refs).value:HE(Ht(e.value)?t.ref.value:e.value,t)}var a8=(t,e,r,n)=>{const s={};for(const i of t){const c=be(e,i);c&&Pt(s,i,c._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},bh=t=>t instanceof RegExp,ru=t=>Ht(t)?t:bh(t)?t.source:ar(t)?bh(t.value)?t.value.source:t.value:t,kl=t=>({isOnSubmit:!t||t===Mn.onSubmit,isOnBlur:t===Mn.onBlur,isOnChange:t===Mn.onChange,isOnAll:t===Mn.all,isOnTouch:t===Mn.onTouched});const uj="AsyncFunction";var o8=t=>!!t&&!!t.validate&&!!(cs(t.validate)&&t.validate.constructor.name===uj||ar(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===uj)),i8=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Jv=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Ol=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const i=be(t,s);if(i){const{_f:c,...u}=i;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],s)&&!n)return!0;if(c.ref&&e(c.ref,c.name)&&!n)return!0;if(Ol(u,e))break}else if(ar(u)&&Ol(u,e))break}}};function dj(t,e,r){const n=be(t,r);if(n||im(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),c=be(e,i),u=be(t,i);if(c&&!Array.isArray(c)&&r!==i)return{name:r};if(u&&u.type)return{name:i,error:u};if(u&&u.root&&u.root.type)return{name:`${i}.root`,error:u.root};s.pop()}return{name:r}}var l8=(t,e,r,n)=>{r(t);const{name:s,...i}=t;return Hr(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(c=>e[c]===(!n||Mn.all))},c8=(t,e,r)=>!t||!e||t===e||cn(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),u8=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,d8=(t,e)=>!lm(be(t,e)).length&&sr(t,e),YE=(t,e,r)=>{const n=cn(be(t,r));return Pt(n,"root",e[r]),Pt(t,r,n),t},Yf=t=>Vs(t);function fj(t,e,r="validate"){if(Yf(t)||Array.isArray(t)&&t.every(Yf)||xn(t)&&!t)return{type:r,message:Yf(t)?t:"",ref:e}}var bl=t=>ar(t)&&!bh(t)?t:{value:t,message:""},Qv=async(t,e,r,n,s,i)=>{const{ref:c,refs:u,required:f,maxLength:h,minLength:p,min:g,max:w,pattern:y,validate:S,name:_,valueAsNumber:b,mount:N}=t._f,C=be(r,_);if(!N||e.has(_))return{};const E=u?u[0]:c,k=Q=>{s&&E.reportValidity&&(E.setCustomValidity(xn(Q)?"":Q||""),E.reportValidity())},A={},T=Sx(c),I=ud(c),L=T||I,B=(b||jx(c))&&Ht(c.value)&&Ht(C)||xh(c)&&c.value===""||C===""||Array.isArray(C)&&!C.length,H=UE.bind(null,_,n,A),X=(Q,Y,ee,ne=da.maxLength,J=da.minLength)=>{const W=Q?Y:ee;A[_]={type:Q?ne:J,message:W,ref:c,...H(Q?ne:J,W)}};if(i?!Array.isArray(C)||!C.length:f&&(!L&&(B||Yr(C))||xn(C)&&!C||I&&!WE(u).isValid||T&&!qE(u).isValid)){const{value:Q,message:Y}=Yf(f)?{value:!!f,message:f}:bl(f);if(Q&&(A[_]={type:da.required,message:Y,ref:E,...H(da.required,Y)},!n))return k(Y),A}if(!B&&(!Yr(g)||!Yr(w))){let Q,Y;const ee=bl(w),ne=bl(g);if(!Yr(C)&&!isNaN(C)){const J=c.valueAsNumber||C&&+C;Yr(ee.value)||(Q=J>ee.value),Yr(ne.value)||(Y=J<ne.value)}else{const J=c.valueAsDate||new Date(C),W=F=>new Date(new Date().toDateString()+" "+F),D=c.type=="time",M=c.type=="week";Vs(ee.value)&&C&&(Q=D?W(C)>W(ee.value):M?C>ee.value:J>new Date(ee.value)),Vs(ne.value)&&C&&(Y=D?W(C)<W(ne.value):M?C<ne.value:J<new Date(ne.value))}if((Q||Y)&&(X(!!Q,ee.message,ne.message,da.max,da.min),!n))return k(A[_].message),A}if((h||p)&&!B&&(Vs(C)||i&&Array.isArray(C))){const Q=bl(h),Y=bl(p),ee=!Yr(Q.value)&&C.length>+Q.value,ne=!Yr(Y.value)&&C.length<+Y.value;if((ee||ne)&&(X(ee,Q.message,Y.message),!n))return k(A[_].message),A}if(y&&!B&&Vs(C)){const{value:Q,message:Y}=bl(y);if(bh(Q)&&!C.match(Q)&&(A[_]={type:da.pattern,message:Y,ref:c,...H(da.pattern,Y)},!n))return k(Y),A}if(S){if(cs(S)){const Q=await S(C,r),Y=fj(Q,E);if(Y&&(A[_]={...Y,...H(da.validate,Y.message)},!n))return k(Y.message),A}else if(ar(S)){let Q={};for(const Y in S){if(!Hr(Q)&&!n)break;const ee=fj(await S[Y](C,r),E,Y);ee&&(Q={...ee,...H(Y,ee.message)},k(ee.message),n&&(A[_]=Q))}if(!Hr(Q)&&(A[_]={ref:E,...Q},!n))return A}}return k(!0),A};const f8={mode:Mn.onSubmit,reValidateMode:Mn.onChange,shouldFocusError:!0};function h8(t={}){let e={...f8,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:cs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=ar(e.defaultValues)||ar(e.values)?Wt(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Wt(s),c={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,h=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g={...p};const w={array:aj(),state:aj()},y=e.criteriaMode===Mn.all,S=V=>te=>{clearTimeout(h),h=setTimeout(V,te)},_=async V=>{if(!e.disabled&&(p.isValid||g.isValid||V)){const te=e.resolver?Hr((await I()).errors):await B(n,!0);te!==r.isValid&&w.state.next({isValid:te})}},b=(V,te)=>{!e.disabled&&(p.isValidating||p.validatingFields||g.isValidating||g.validatingFields)&&((V||Array.from(u.mount)).forEach(ce=>{ce&&(te?Pt(r.validatingFields,ce,te):sr(r.validatingFields,ce))}),w.state.next({validatingFields:r.validatingFields,isValidating:!Hr(r.validatingFields)}))},N=(V,te=[],ce,Se,_e=!0,xe=!0)=>{if(Se&&ce&&!e.disabled){if(c.action=!0,xe&&Array.isArray(be(n,V))){const ke=ce(be(n,V),Se.argA,Se.argB);_e&&Pt(n,V,ke)}if(xe&&Array.isArray(be(r.errors,V))){const ke=ce(be(r.errors,V),Se.argA,Se.argB);_e&&Pt(r.errors,V,ke),d8(r.errors,V)}if((p.touchedFields||g.touchedFields)&&xe&&Array.isArray(be(r.touchedFields,V))){const ke=ce(be(r.touchedFields,V),Se.argA,Se.argB);_e&&Pt(r.touchedFields,V,ke)}(p.dirtyFields||g.dirtyFields)&&(r.dirtyFields=tu(s,i)),w.state.next({name:V,isDirty:X(V,te),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Pt(i,V,te)},C=(V,te)=>{Pt(r.errors,V,te),w.state.next({errors:r.errors})},E=V=>{r.errors=V,w.state.next({errors:r.errors,isValid:!1})},k=(V,te,ce,Se)=>{const _e=be(n,V);if(_e){const xe=be(i,V,Ht(ce)?be(s,V):ce);Ht(xe)||Se&&Se.defaultChecked||te?Pt(i,V,te?xe:cj(_e._f)):ee(V,xe),c.mount&&_()}},A=(V,te,ce,Se,_e)=>{let xe=!1,ke=!1;const it={name:V};if(!e.disabled){if(!ce||Se){(p.isDirty||g.isDirty)&&(ke=r.isDirty,r.isDirty=it.isDirty=X(),xe=ke!==it.isDirty);const _t=va(be(s,V),te);ke=!!be(r.dirtyFields,V),_t?sr(r.dirtyFields,V):Pt(r.dirtyFields,V,!0),it.dirtyFields=r.dirtyFields,xe=xe||(p.dirtyFields||g.dirtyFields)&&ke!==!_t}if(ce){const _t=be(r.touchedFields,V);_t||(Pt(r.touchedFields,V,ce),it.touchedFields=r.touchedFields,xe=xe||(p.touchedFields||g.touchedFields)&&_t!==ce)}xe&&_e&&w.state.next(it)}return xe?it:{}},T=(V,te,ce,Se)=>{const _e=be(r.errors,V),xe=(p.isValid||g.isValid)&&xn(te)&&r.isValid!==te;if(e.delayError&&ce?(f=S(()=>C(V,ce)),f(e.delayError)):(clearTimeout(h),f=null,ce?Pt(r.errors,V,ce):sr(r.errors,V)),(ce?!va(_e,ce):_e)||!Hr(Se)||xe){const ke={...Se,...xe&&xn(te)?{isValid:te}:{},errors:r.errors,name:V};r={...r,...ke},w.state.next(ke)}},I=async V=>{b(V,!0);const te=await e.resolver(i,e.context,a8(V||u.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return b(V),te},L=async V=>{const{errors:te}=await I(V);if(V)for(const ce of V){const Se=be(te,ce);Se?Pt(r.errors,ce,Se):sr(r.errors,ce)}else r.errors=te;return te},B=async(V,te,ce={valid:!0})=>{for(const Se in V){const _e=V[Se];if(_e){const{_f:xe,...ke}=_e;if(xe){const it=u.array.has(xe.name),_t=_e._f&&o8(_e._f);_t&&p.validatingFields&&b([Se],!0);const jr=await Qv(_e,u.disabled,i,y,e.shouldUseNativeValidation&&!te,it);if(_t&&p.validatingFields&&b([Se]),jr[xe.name]&&(ce.valid=!1,te))break;!te&&(be(jr,xe.name)?it?YE(r.errors,jr,xe.name):Pt(r.errors,xe.name,jr[xe.name]):sr(r.errors,xe.name))}!Hr(ke)&&await B(ke,te,ce)}}return ce.valid},H=()=>{for(const V of u.unMount){const te=be(n,V);te&&(te._f.refs?te._f.refs.every(ce=>!Ig(ce)):!Ig(te._f.ref))&&ae(V)}u.unMount=new Set},X=(V,te)=>!e.disabled&&(V&&te&&Pt(i,V,te),!va(F(),s)),Q=(V,te,ce)=>FE(V,u,{...c.mount?i:Ht(te)?s:Vs(V)?{[V]:te}:te},ce,te),Y=V=>lm(be(c.mount?i:s,V,e.shouldUnregister?be(s,V,[]):[])),ee=(V,te,ce={})=>{const Se=be(n,V);let _e=te;if(Se){const xe=Se._f;xe&&(!xe.disabled&&Pt(i,V,HE(te,xe)),_e=xh(xe.ref)&&Yr(te)?"":te,BE(xe.ref)?[...xe.ref.options].forEach(ke=>ke.selected=_e.includes(ke.value)):xe.refs?ud(xe.ref)?xe.refs.forEach(ke=>{(!ke.defaultChecked||!ke.disabled)&&(Array.isArray(_e)?ke.checked=!!_e.find(it=>it===ke.value):ke.checked=_e===ke.value||!!_e)}):xe.refs.forEach(ke=>ke.checked=ke.value===_e):jx(xe.ref)?xe.ref.value="":(xe.ref.value=_e,xe.ref.type||w.state.next({name:V,values:Wt(i)})))}(ce.shouldDirty||ce.shouldTouch)&&A(V,_e,ce.shouldTouch,ce.shouldDirty,!0),ce.shouldValidate&&M(V)},ne=(V,te,ce)=>{for(const Se in te){if(!te.hasOwnProperty(Se))return;const _e=te[Se],xe=V+"."+Se,ke=be(n,xe);(u.array.has(V)||ar(_e)||ke&&!ke._f)&&!li(_e)?ne(xe,_e,ce):ee(xe,_e,ce)}},J=(V,te,ce={})=>{const Se=be(n,V),_e=u.array.has(V),xe=Wt(te);Pt(i,V,xe),_e?(w.array.next({name:V,values:Wt(i)}),(p.isDirty||p.dirtyFields||g.isDirty||g.dirtyFields)&&ce.shouldDirty&&w.state.next({name:V,dirtyFields:tu(s,i),isDirty:X(V,xe)})):Se&&!Se._f&&!Yr(xe)?ne(V,xe,ce):ee(V,xe,ce),Jv(V,u)&&w.state.next({...r,name:V}),w.state.next({name:c.mount?V:void 0,values:Wt(i)})},W=async V=>{c.mount=!0;const te=V.target;let ce=te.name,Se=!0;const _e=be(n,ce),xe=_t=>{Se=Number.isNaN(_t)||li(_t)&&isNaN(_t.getTime())||va(_t,be(i,ce,_t))},ke=kl(e.mode),it=kl(e.reValidateMode);if(_e){let _t,jr;const $r=te.type?cj(_e._f):IE(V),Tr=V.type===yh.BLUR||V.type===yh.FOCUS_OUT,Ii=!i8(_e._f)&&!e.resolver&&!be(r.errors,ce)&&!_e._f.deps||u8(Tr,be(r.touchedFields,ce),r.isSubmitted,it,ke),ks=Jv(ce,u,Tr);Pt(i,ce,$r),Tr?(!te||!te.readOnly)&&(_e._f.onBlur&&_e._f.onBlur(V),f&&f(0)):_e._f.onChange&&_e._f.onChange(V);const hn=A(ce,$r,Tr),Mi=!Hr(hn)||ks;if(!Tr&&w.state.next({name:ce,type:V.type,values:Wt(i)}),Ii)return(p.isValid||g.isValid)&&(e.mode==="onBlur"?Tr&&_():Tr||_()),Mi&&w.state.next({name:ce,...ks?{}:hn});if(!Tr&&ks&&w.state.next({...r}),e.resolver){const{errors:mn}=await I([ce]);if(xe($r),Se){const Vo=dj(r.errors,n,ce),Oa=dj(mn,n,Vo.name||ce);_t=Oa.error,ce=Oa.name,jr=Hr(mn)}}else b([ce],!0),_t=(await Qv(_e,u.disabled,i,y,e.shouldUseNativeValidation))[ce],b([ce]),xe($r),Se&&(_t?jr=!1:(p.isValid||g.isValid)&&(jr=await B(n,!0)));Se&&(_e._f.deps&&M(_e._f.deps),T(ce,jr,_t,hn))}},D=(V,te)=>{if(be(r.errors,te)&&V.focus)return V.focus(),1},M=async(V,te={})=>{let ce,Se;const _e=cn(V);if(e.resolver){const xe=await L(Ht(V)?V:_e);ce=Hr(xe),Se=V?!_e.some(ke=>be(xe,ke)):ce}else V?(Se=(await Promise.all(_e.map(async xe=>{const ke=be(n,xe);return await B(ke&&ke._f?{[xe]:ke}:ke)}))).every(Boolean),!(!Se&&!r.isValid)&&_()):Se=ce=await B(n);return w.state.next({...!Vs(V)||(p.isValid||g.isValid)&&ce!==r.isValid?{}:{name:V},...e.resolver||!V?{isValid:ce}:{},errors:r.errors}),te.shouldFocus&&!Se&&Ol(n,D,V?_e:u.mount),Se},F=V=>{const te={...c.mount?i:s};return Ht(V)?te:Vs(V)?be(te,V):V.map(ce=>be(te,ce))},O=(V,te)=>({invalid:!!be((te||r).errors,V),isDirty:!!be((te||r).dirtyFields,V),error:be((te||r).errors,V),isValidating:!!be(r.validatingFields,V),isTouched:!!be((te||r).touchedFields,V)}),R=V=>{V&&cn(V).forEach(te=>sr(r.errors,te)),w.state.next({errors:V?r.errors:{}})},Z=(V,te,ce)=>{const Se=(be(n,V,{_f:{}})._f||{}).ref,_e=be(r.errors,V)||{},{ref:xe,message:ke,type:it,..._t}=_e;Pt(r.errors,V,{..._t,...te,ref:Se}),w.state.next({name:V,errors:r.errors,isValid:!1}),ce&&ce.shouldFocus&&Se&&Se.focus&&Se.focus()},z=(V,te)=>cs(V)?w.state.subscribe({next:ce=>"values"in ce&&V(Q(void 0,te),ce)}):Q(V,te,!0),U=V=>w.state.subscribe({next:te=>{c8(V.name,te.name,V.exact)&&l8(te,V.formState||p,Kt,V.reRenderRoot)&&V.callback({values:{...i},...r,...te,defaultValues:s})}}).unsubscribe,de=V=>(c.mount=!0,g={...g,...V.formState},U({...V,formState:g})),ae=(V,te={})=>{for(const ce of V?cn(V):u.mount)u.mount.delete(ce),u.array.delete(ce),te.keepValue||(sr(n,ce),sr(i,ce)),!te.keepError&&sr(r.errors,ce),!te.keepDirty&&sr(r.dirtyFields,ce),!te.keepTouched&&sr(r.touchedFields,ce),!te.keepIsValidating&&sr(r.validatingFields,ce),!e.shouldUnregister&&!te.keepDefaultValue&&sr(s,ce);w.state.next({values:Wt(i)}),w.state.next({...r,...te.keepDirty?{isDirty:X()}:{}}),!te.keepIsValid&&_()},me=({disabled:V,name:te})=>{(xn(V)&&c.mount||V||u.disabled.has(te))&&(V?u.disabled.add(te):u.disabled.delete(te))},ve=(V,te={})=>{let ce=be(n,V);const Se=xn(te.disabled)||xn(e.disabled);return Pt(n,V,{...ce||{},_f:{...ce&&ce._f?ce._f:{ref:{name:V}},name:V,mount:!0,...te}}),u.mount.add(V),ce?me({disabled:xn(te.disabled)?te.disabled:e.disabled,name:V}):k(V,!0,te.value),{...Se?{disabled:te.disabled||e.disabled}:{},...e.progressive?{required:!!te.required,min:ru(te.min),max:ru(te.max),minLength:ru(te.minLength),maxLength:ru(te.maxLength),pattern:ru(te.pattern)}:{},name:V,onChange:W,onBlur:W,ref:_e=>{if(_e){ve(V,te),ce=be(n,V);const xe=Ht(_e.value)&&_e.querySelectorAll&&_e.querySelectorAll("input,select,textarea")[0]||_e,ke=r8(xe),it=ce._f.refs||[];if(ke?it.find(_t=>_t===xe):xe===ce._f.ref)return;Pt(n,V,{_f:{...ce._f,...ke?{refs:[...it.filter(Ig),xe,...Array.isArray(be(s,V))?[{}]:[]],ref:{type:xe.type,name:V}}:{ref:xe}}}),k(V,!1,void 0,xe)}else ce=be(n,V,{}),ce._f&&(ce._f.mount=!1),(e.shouldUnregister||te.shouldUnregister)&&!(ME(u.array,V)&&c.action)&&u.unMount.add(V)}}},je=()=>e.shouldFocusError&&Ol(n,D,u.mount),Ce=V=>{xn(V)&&(w.state.next({disabled:V}),Ol(n,(te,ce)=>{const Se=be(n,ce);Se&&(te.disabled=Se._f.disabled||V,Array.isArray(Se._f.refs)&&Se._f.refs.forEach(_e=>{_e.disabled=Se._f.disabled||V}))},0,!1))},We=(V,te)=>async ce=>{let Se;ce&&(ce.preventDefault&&ce.preventDefault(),ce.persist&&ce.persist());let _e=Wt(i);if(w.state.next({isSubmitting:!0}),e.resolver){const{errors:xe,values:ke}=await I();r.errors=xe,_e=Wt(ke)}else await B(n);if(u.disabled.size)for(const xe of u.disabled)sr(_e,xe);if(sr(r.errors,"root"),Hr(r.errors)){w.state.next({errors:{}});try{await V(_e,ce)}catch(xe){Se=xe}}else te&&await te({...r.errors},ce),je(),setTimeout(je);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Hr(r.errors)&&!Se,submitCount:r.submitCount+1,errors:r.errors}),Se)throw Se},At=(V,te={})=>{be(n,V)&&(Ht(te.defaultValue)?J(V,Wt(be(s,V))):(J(V,te.defaultValue),Pt(s,V,Wt(te.defaultValue))),te.keepTouched||sr(r.touchedFields,V),te.keepDirty||(sr(r.dirtyFields,V),r.isDirty=te.defaultValue?X(V,Wt(be(s,V))):X()),te.keepError||(sr(r.errors,V),p.isValid&&_()),w.state.next({...r}))},Oe=(V,te={})=>{const ce=V?Wt(V):s,Se=Wt(ce),_e=Hr(V),xe=_e?s:Se;if(te.keepDefaultValues||(s=ce),!te.keepValues){if(te.keepDirtyValues){const ke=new Set([...u.mount,...Object.keys(tu(s,i))]);for(const it of Array.from(ke))be(r.dirtyFields,it)?Pt(xe,it,be(i,it)):J(it,be(xe,it))}else{if(wx&&Ht(V))for(const ke of u.mount){const it=be(n,ke);if(it&&it._f){const _t=Array.isArray(it._f.refs)?it._f.refs[0]:it._f.ref;if(xh(_t)){const jr=_t.closest("form");if(jr){jr.reset();break}}}}if(te.keepFieldsRef)for(const ke of u.mount)J(ke,be(xe,ke));else n={}}i=e.shouldUnregister?te.keepDefaultValues?Wt(s):{}:Wt(xe),w.array.next({values:{...xe}}),w.state.next({values:{...xe}})}u={mount:te.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!p.isValid||!!te.keepIsValid||!!te.keepDirtyValues,c.watch=!!e.shouldUnregister,w.state.next({submitCount:te.keepSubmitCount?r.submitCount:0,isDirty:_e?!1:te.keepDirty?r.isDirty:!!(te.keepDefaultValues&&!va(V,s)),isSubmitted:te.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:_e?{}:te.keepDirtyValues?te.keepDefaultValues&&i?tu(s,i):r.dirtyFields:te.keepDefaultValues&&V?tu(s,V):te.keepDirty?r.dirtyFields:{},touchedFields:te.keepTouched?r.touchedFields:{},errors:te.keepErrors?r.errors:{},isSubmitSuccessful:te.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},lt=(V,te)=>Oe(cs(V)?V(i):V,te),bt=(V,te={})=>{const ce=be(n,V),Se=ce&&ce._f;if(Se){const _e=Se.refs?Se.refs[0]:Se.ref;_e.focus&&(_e.focus(),te.shouldSelect&&cs(_e.select)&&_e.select())}},Kt=V=>{r={...r,...V}},Ar={control:{register:ve,unregister:ae,getFieldState:O,handleSubmit:We,setError:Z,_subscribe:U,_runSchema:I,_focusError:je,_getWatch:Q,_getDirty:X,_setValid:_,_setFieldArray:N,_setDisabledField:me,_setErrors:E,_getFieldArray:Y,_reset:Oe,_resetDefaultValues:()=>cs(e.defaultValues)&&e.defaultValues().then(V=>{lt(V,e.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:H,_disableForm:Ce,_subjects:w,_proxyFormState:p,get _fields(){return n},get _formValues(){return i},get _state(){return c},set _state(V){c=V},get _defaultValues(){return s},get _names(){return u},set _names(V){u=V},get _formState(){return r},get _options(){return e},set _options(V){e={...e,...V}}},subscribe:de,trigger:M,register:ve,handleSubmit:We,watch:z,setValue:J,getValues:F,reset:lt,resetField:At,clearErrors:R,unregister:ae,setError:Z,setFocus:bt,getFieldState:O};return{...Ar,formControl:Ar}}var ao=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const r=(Math.random()*16+t)%16|0;return(e=="x"?r:r&3|8).toString(16)})},Mg=(t,e,r={})=>r.shouldFocus||Ht(r.shouldFocus)?r.focusName||`${t}.${Ht(r.focusIndex)?e:r.focusIndex}.`:"",Lg=(t,e)=>[...t,...cn(e)],$g=t=>Array.isArray(t)?t.map(()=>{}):void 0;function Fg(t,e,r){return[...t.slice(0,e),...cn(r),...t.slice(e)]}var Ug=(t,e,r)=>Array.isArray(t)?(Ht(t[r])&&(t[r]=void 0),t.splice(r,0,t.splice(e,1)[0]),t):[],Bg=(t,e)=>[...cn(e),...cn(t)];function m8(t,e){let r=0;const n=[...t];for(const s of e)n.splice(s-r,1),r++;return lm(n).length?n:[]}var Vg=(t,e)=>Ht(e)?[]:m8(t,cn(e).sort((r,n)=>r-n)),zg=(t,e,r)=>{[t[e],t[r]]=[t[r],t[e]]},hj=(t,e,r)=>(t[e]=r,t);function Zv(t){const e=Di(),{control:r=e.control,name:n,keyName:s="id",shouldUnregister:i,rules:c}=t,[u,f]=ie.useState(r._getFieldArray(n)),h=ie.useRef(r._getFieldArray(n).map(ao)),p=ie.useRef(u),g=ie.useRef(!1);p.current=u,r._names.array.add(n),ie.useMemo(()=>c&&r.register(n,c),[r,c,n]),cm(()=>r._subjects.array.subscribe({next:({values:A,name:T})=>{if(T===n||!T){const I=be(A,n);Array.isArray(I)&&(f(I),h.current=I.map(ao))}}}).unsubscribe,[r,n]);const w=ie.useCallback(A=>{g.current=!0,r._setFieldArray(n,A)},[r,n]),y=(A,T)=>{const I=cn(Wt(A)),L=Lg(r._getFieldArray(n),I);r._names.focus=Mg(n,L.length-1,T),h.current=Lg(h.current,I.map(ao)),w(L),f(L),r._setFieldArray(n,L,Lg,{argA:$g(A)})},S=(A,T)=>{const I=cn(Wt(A)),L=Bg(r._getFieldArray(n),I);r._names.focus=Mg(n,0,T),h.current=Bg(h.current,I.map(ao)),w(L),f(L),r._setFieldArray(n,L,Bg,{argA:$g(A)})},_=A=>{const T=Vg(r._getFieldArray(n),A);h.current=Vg(h.current,A),w(T),f(T),!Array.isArray(be(r._fields,n))&&Pt(r._fields,n,void 0),r._setFieldArray(n,T,Vg,{argA:A})},b=(A,T,I)=>{const L=cn(Wt(T)),B=Fg(r._getFieldArray(n),A,L);r._names.focus=Mg(n,A,I),h.current=Fg(h.current,A,L.map(ao)),w(B),f(B),r._setFieldArray(n,B,Fg,{argA:A,argB:$g(T)})},N=(A,T)=>{const I=r._getFieldArray(n);zg(I,A,T),zg(h.current,A,T),w(I),f(I),r._setFieldArray(n,I,zg,{argA:A,argB:T},!1)},C=(A,T)=>{const I=r._getFieldArray(n);Ug(I,A,T),Ug(h.current,A,T),w(I),f(I),r._setFieldArray(n,I,Ug,{argA:A,argB:T},!1)},E=(A,T)=>{const I=Wt(T),L=hj(r._getFieldArray(n),A,I);h.current=[...L].map((B,H)=>!B||H===A?ao():h.current[H]),w(L),f([...L]),r._setFieldArray(n,L,hj,{argA:A,argB:I},!0,!1)},k=A=>{const T=cn(Wt(A));h.current=T.map(ao),w([...T]),f([...T]),r._setFieldArray(n,[...T],I=>I,{},!0,!1)};return ie.useEffect(()=>{if(r._state.action=!1,Jv(n,r._names)&&r._subjects.state.next({...r._formState}),g.current&&(!kl(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!kl(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(A=>{const T=be(A.errors,n),I=be(r._formState.errors,n);(I?!T&&I.type||T&&(I.type!==T.type||I.message!==T.message):T&&T.type)&&(T?Pt(r._formState.errors,n,T):sr(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const A=be(r._fields,n);A&&A._f&&!(kl(r._options.reValidateMode).isOnSubmit&&kl(r._options.mode).isOnSubmit)&&Qv(A,r._names.disabled,r._formValues,r._options.criteriaMode===Mn.all,r._options.shouldUseNativeValidation,!0).then(T=>!Hr(T)&&r._subjects.state.next({errors:YE(r._formState.errors,T,n)}))}r._subjects.state.next({name:n,values:Wt(r._formValues)}),r._names.focus&&Ol(r._fields,(A,T)=>{if(r._names.focus&&T.startsWith(r._names.focus)&&A.focus)return A.focus(),1}),r._names.focus="",r._setValid(),g.current=!1},[u,n,r]),ie.useEffect(()=>(!be(r._formValues,n)&&r._setFieldArray(n),()=>{const A=(T,I)=>{const L=be(r._fields,T);L&&L._f&&(L._f.mount=I)};r._options.shouldUnregister||i?r.unregister(n):A(n,!1)}),[n,r,s,i]),{swap:ie.useCallback(N,[w,n,r]),move:ie.useCallback(C,[w,n,r]),prepend:ie.useCallback(S,[w,n,r]),append:ie.useCallback(y,[w,n,r]),remove:ie.useCallback(_,[w,n,r]),insert:ie.useCallback(b,[w,n,r]),update:ie.useCallback(E,[w,n,r]),replace:ie.useCallback(k,[w,n,r]),fields:ie.useMemo(()=>u.map((A,T)=>({...A,[s]:h.current[T]||ao()})),[u,s])}}function dd(t={}){const e=ie.useRef(void 0),r=ie.useRef(void 0),[n,s]=ie.useState({isDirty:!1,isValidating:!1,isLoading:cs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:cs(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!cs(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:c,...u}=h8(t);e.current={...u,formState:n}}const i=e.current.control;return i._options=t,cm(()=>{const c=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(u=>({...u,isReady:!0})),i._formState.isReady=!0,c},[i]),ie.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ie.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),ie.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),ie.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),ie.useEffect(()=>{if(i._proxyFormState.isDirty){const c=i._getDirty();c!==n.isDirty&&i._subjects.state.next({isDirty:c})}},[i,n.isDirty]),ie.useEffect(()=>{t.values&&!va(t.values,r.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=t.values,s(c=>({...c}))):i._resetDefaultValues()},[i,t.values]),ie.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=$E(n,i),e.current}const mj=(t,e,r)=>{if(t&&"reportValidity"in t){const n=be(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},KE=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?mj(n.ref,r,t):n.refs&&n.refs.forEach(s=>mj(s,r,t))}},p8=(t,e)=>{e.shouldUseNativeValidation&&KE(t,e);const r={};for(const n in t){const s=be(e.fields,n),i=Object.assign(t[n]||{},{ref:s&&s.ref});if(g8(e.names||Object.keys(t),n)){const c=Object.assign({},be(r,n));Pt(c,"root",i),Pt(r,n,c)}else Pt(r,n,i)}return r},g8=(t,e)=>t.some(r=>r.startsWith(e+"."));var v8=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,i=n.message,c=n.path.join(".");if(!r[c])if("unionErrors"in n){var u=n.unionErrors[0].errors[0];r[c]={message:u.message,type:u.code}}else r[c]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(p){return p.errors.forEach(function(g){return t.push(g)})}),e){var f=r[c].types,h=f&&f[n.code];r[c]=UE(c,e,r,s,h?[].concat(h,n.message):n.message)}t.shift()}return r},fd=function(t,e,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve((function(c,u){try{var f=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(h){return i.shouldUseNativeValidation&&KE({},i),{errors:{},values:r.raw?n:h}})}catch(h){return u(h)}return f&&f.then?f.then(void 0,u):f})(0,function(c){if((function(u){return Array.isArray(u==null?void 0:u.errors)})(c))return{values:{},errors:p8(v8(c.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw c}))}catch(c){return Promise.reject(c)}}},Ct;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const c of s)i[c]=c;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(u=>typeof s[s[u]]!="number"),c={};for(const u of i)c[u]=s[u];return t.objectValues(c)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const c in s)Object.prototype.hasOwnProperty.call(s,c)&&i.push(c);return i},t.find=(s,i)=>{for(const c of s)if(i(c))return c},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(c=>typeof c=="string"?`'${c}'`:c).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ct||(Ct={}));var pj;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(pj||(pj={}));const Me=Ct.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),co=t=>{switch(typeof t){case"undefined":return Me.undefined;case"string":return Me.string;case"number":return Number.isNaN(t)?Me.nan:Me.number;case"boolean":return Me.boolean;case"function":return Me.function;case"bigint":return Me.bigint;case"symbol":return Me.symbol;case"object":return Array.isArray(t)?Me.array:t===null?Me.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Me.promise:typeof Map<"u"&&t instanceof Map?Me.map:typeof Set<"u"&&t instanceof Set?Me.set:typeof Date<"u"&&t instanceof Date?Me.date:Me.object;default:return Me.unknown}},we=Ct.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ta extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const c of i.issues)if(c.code==="invalid_union")c.unionErrors.map(s);else if(c.code==="invalid_return_type")s(c.returnTypeError);else if(c.code==="invalid_arguments")s(c.argumentsError);else if(c.path.length===0)n._errors.push(r(c));else{let u=n,f=0;for(;f<c.path.length;){const h=c.path[f];f===c.path.length-1?(u[h]=u[h]||{_errors:[]},u[h]._errors.push(r(c))):u[h]=u[h]||{_errors:[]},u=u[h],f++}}};return s(this),n}static assert(e){if(!(e instanceof Ta))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ct.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ta.create=t=>new Ta(t);const Xv=(t,e)=>{let r;switch(t.code){case we.invalid_type:t.received===Me.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case we.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Ct.jsonStringifyReplacer)}`;break;case we.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ct.joinValues(t.keys,", ")}`;break;case we.invalid_union:r="Invalid input";break;case we.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ct.joinValues(t.options)}`;break;case we.invalid_enum_value:r=`Invalid enum value. Expected ${Ct.joinValues(t.options)}, received '${t.received}'`;break;case we.invalid_arguments:r="Invalid function arguments";break;case we.invalid_return_type:r="Invalid function return type";break;case we.invalid_date:r="Invalid date";break;case we.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Ct.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case we.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case we.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case we.custom:r="Invalid input";break;case we.invalid_intersection_types:r="Intersection results could not be merged";break;case we.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case we.not_finite:r="Number must be finite";break;default:r=e.defaultError,Ct.assertNever(t)}return{message:r}};let y8=Xv;function x8(){return y8}const w8=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],c={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let u="";const f=n.filter(h=>!!h).slice().reverse();for(const h of f)u=h(c,{data:e,defaultError:u}).message;return{...s,path:i,message:u}};function Pe(t,e){const r=x8(),n=w8({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Xv?void 0:Xv].filter(s=>!!s)});t.common.issues.push(n)}class Cn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return tt;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const i=await s.key,c=await s.value;n.push({key:i,value:c})}return Cn.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:c}=s;if(i.status==="aborted"||c.status==="aborted")return tt;i.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof c.value<"u"||s.alwaysSet)&&(n[i.value]=c.value)}return{status:e.value,value:n}}}const tt=Object.freeze({status:"aborted"}),cu=t=>({status:"dirty",value:t}),Wn=t=>({status:"valid",value:t}),gj=t=>t.status==="aborted",vj=t=>t.status==="dirty",Xl=t=>t.status==="valid",_h=t=>typeof Promise<"u"&&t instanceof Promise;var Fe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Fe||(Fe={}));class Ro{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const yj=(t,e)=>{if(Xl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ta(t.common.issues);return this._error=r,this._error}}};function ft(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(c,u)=>{const{message:f}=t;return c.code==="invalid_enum_value"?{message:f??u.defaultError}:typeof u.data>"u"?{message:f??n??u.defaultError}:c.code!=="invalid_type"?{message:u.defaultError}:{message:f??r??u.defaultError}},description:s}}class St{get description(){return this._def.description}_getType(e){return co(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:co(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Cn,ctx:{common:e.parent.common,data:e.data,parsedType:co(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(_h(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:co(e)},s=this._parseSync({data:e,path:n.path,parent:n});return yj(n,s)}"~validate"(e){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:co(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:r});return Xl(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(i=>Xl(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:co(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(_h(s)?s:Promise.resolve(s));return yj(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const c=e(s),u=()=>i.addIssue({code:we.custom,...n(s)});return typeof Promise<"u"&&c instanceof Promise?c.then(f=>f?!0:(u(),!1)):c?!0:(u(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new Ci({schema:this,typeName:rt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return So.create(this,this._def)}nullable(){return rc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Hs.create(this)}promise(){return Nh.create(this,this._def)}or(e){return jh.create([this,e],this._def)}and(e){return Sh.create(this,e,this._def)}transform(e){return new Ci({...ft(this._def),schema:this,typeName:rt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new ry({...ft(this._def),innerType:this,defaultValue:r,typeName:rt.ZodDefault})}brand(){return new z8({typeName:rt.ZodBranded,type:this,...ft(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new ny({...ft(this._def),innerType:this,catchValue:r,typeName:rt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Nx.create(this,e)}readonly(){return sy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const b8=/^c[^\s-]{8,}$/i,_8=/^[0-9a-z]+$/,j8=/^[0-9A-HJKMNP-TV-Z]{26}$/i,S8=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,N8=/^[a-z0-9_-]{21}$/i,C8=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,k8=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,E8=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,P8="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Wg;const A8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,T8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,R8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,D8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,O8=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,I8=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,GE="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",M8=new RegExp(`^${GE}$`);function JE(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function L8(t){return new RegExp(`^${JE(t)}$`)}function $8(t){let e=`${GE}T${JE(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function F8(t,e){return!!((e==="v4"||!e)&&A8.test(t)||(e==="v6"||!e)&&R8.test(t))}function U8(t,e){if(!C8.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function B8(t,e){return!!((e==="v4"||!e)&&T8.test(t)||(e==="v6"||!e)&&D8.test(t))}class bo extends St{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Me.string){const i=this._getOrReturnCtx(e);return Pe(i,{code:we.invalid_type,expected:Me.string,received:i.parsedType}),tt}const n=new Cn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Pe(s,{code:we.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Pe(s,{code:we.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const c=e.data.length>i.value,u=e.data.length<i.value;(c||u)&&(s=this._getOrReturnCtx(e,s),c?Pe(s,{code:we.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):u&&Pe(s,{code:we.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")E8.test(e.data)||(s=this._getOrReturnCtx(e,s),Pe(s,{validation:"email",code:we.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Wg||(Wg=new RegExp(P8,"u")),Wg.test(e.data)||(s=this._getOrReturnCtx(e,s),Pe(s,{validation:"emoji",code:we.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")S8.test(e.data)||(s=this._getOrReturnCtx(e,s),Pe(s,{validation:"uuid",code:we.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")N8.test(e.data)||(s=this._getOrReturnCtx(e,s),Pe(s,{validation:"nanoid",code:we.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")b8.test(e.data)||(s=this._getOrReturnCtx(e,s),Pe(s,{validation:"cuid",code:we.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")_8.test(e.data)||(s=this._getOrReturnCtx(e,s),Pe(s,{validation:"cuid2",code:we.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")j8.test(e.data)||(s=this._getOrReturnCtx(e,s),Pe(s,{validation:"ulid",code:we.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Pe(s,{validation:"url",code:we.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Pe(s,{validation:"regex",code:we.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Pe(s,{code:we.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Pe(s,{code:we.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Pe(s,{code:we.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?$8(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Pe(s,{code:we.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?M8.test(e.data)||(s=this._getOrReturnCtx(e,s),Pe(s,{code:we.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?L8(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Pe(s,{code:we.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?k8.test(e.data)||(s=this._getOrReturnCtx(e,s),Pe(s,{validation:"duration",code:we.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?F8(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Pe(s,{validation:"ip",code:we.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?U8(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),Pe(s,{validation:"jwt",code:we.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?B8(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Pe(s,{validation:"cidr",code:we.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?O8.test(e.data)||(s=this._getOrReturnCtx(e,s),Pe(s,{validation:"base64",code:we.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?I8.test(e.data)||(s=this._getOrReturnCtx(e,s),Pe(s,{validation:"base64url",code:we.invalid_string,message:i.message}),n.dirty()):Ct.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:we.invalid_string,...Fe.errToObj(n)})}_addCheck(e){return new bo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Fe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Fe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Fe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Fe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Fe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Fe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Fe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Fe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Fe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Fe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Fe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Fe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Fe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Fe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Fe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Fe.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Fe.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Fe.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Fe.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Fe.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Fe.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Fe.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Fe.errToObj(r)})}nonempty(e){return this.min(1,Fe.errToObj(e))}trim(){return new bo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new bo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new bo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}bo.create=t=>new bo({checks:[],typeName:rt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...ft(t)});function V8(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(t.toFixed(s).replace(".","")),c=Number.parseInt(e.toFixed(s).replace(".",""));return i%c/10**s}class ec extends St{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Me.number){const i=this._getOrReturnCtx(e);return Pe(i,{code:we.invalid_type,expected:Me.number,received:i.parsedType}),tt}let n;const s=new Cn;for(const i of this._def.checks)i.kind==="int"?Ct.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Pe(n,{code:we.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),Pe(n,{code:we.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),Pe(n,{code:we.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?V8(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),Pe(n,{code:we.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Pe(n,{code:we.not_finite,message:i.message}),s.dirty()):Ct.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Fe.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Fe.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Fe.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Fe.toString(r))}setLimit(e,r,n,s){return new ec({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Fe.toString(s)}]})}_addCheck(e){return new ec({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Fe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Fe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Fe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Fe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Fe.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Fe.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Fe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Fe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Fe.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ct.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}ec.create=t=>new ec({checks:[],typeName:rt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ft(t)});class Tu extends St{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Me.bigint)return this._getInvalidInput(e);let n;const s=new Cn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),Pe(n,{code:we.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),Pe(n,{code:we.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Pe(n,{code:we.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ct.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return Pe(r,{code:we.invalid_type,expected:Me.bigint,received:r.parsedType}),tt}gte(e,r){return this.setLimit("min",e,!0,Fe.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Fe.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Fe.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Fe.toString(r))}setLimit(e,r,n,s){return new Tu({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Fe.toString(s)}]})}_addCheck(e){return new Tu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Fe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Fe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Fe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Fe.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Fe.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Tu.create=t=>new Tu({checks:[],typeName:rt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...ft(t)});class xj extends St{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Me.boolean){const n=this._getOrReturnCtx(e);return Pe(n,{code:we.invalid_type,expected:Me.boolean,received:n.parsedType}),tt}return Wn(e.data)}}xj.create=t=>new xj({typeName:rt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ft(t)});class Ru extends St{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Me.date){const i=this._getOrReturnCtx(e);return Pe(i,{code:we.invalid_type,expected:Me.date,received:i.parsedType}),tt}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Pe(i,{code:we.invalid_date}),tt}const n=new Cn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Pe(s,{code:we.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Pe(s,{code:we.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Ct.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ru({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Fe.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Fe.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Ru.create=t=>new Ru({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:rt.ZodDate,...ft(t)});class wj extends St{_parse(e){if(this._getType(e)!==Me.symbol){const n=this._getOrReturnCtx(e);return Pe(n,{code:we.invalid_type,expected:Me.symbol,received:n.parsedType}),tt}return Wn(e.data)}}wj.create=t=>new wj({typeName:rt.ZodSymbol,...ft(t)});class bj extends St{_parse(e){if(this._getType(e)!==Me.undefined){const n=this._getOrReturnCtx(e);return Pe(n,{code:we.invalid_type,expected:Me.undefined,received:n.parsedType}),tt}return Wn(e.data)}}bj.create=t=>new bj({typeName:rt.ZodUndefined,...ft(t)});class _j extends St{_parse(e){if(this._getType(e)!==Me.null){const n=this._getOrReturnCtx(e);return Pe(n,{code:we.invalid_type,expected:Me.null,received:n.parsedType}),tt}return Wn(e.data)}}_j.create=t=>new _j({typeName:rt.ZodNull,...ft(t)});class jj extends St{constructor(){super(...arguments),this._any=!0}_parse(e){return Wn(e.data)}}jj.create=t=>new jj({typeName:rt.ZodAny,...ft(t)});class Sj extends St{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Wn(e.data)}}Sj.create=t=>new Sj({typeName:rt.ZodUnknown,...ft(t)});class Do extends St{_parse(e){const r=this._getOrReturnCtx(e);return Pe(r,{code:we.invalid_type,expected:Me.never,received:r.parsedType}),tt}}Do.create=t=>new Do({typeName:rt.ZodNever,...ft(t)});class Nj extends St{_parse(e){if(this._getType(e)!==Me.undefined){const n=this._getOrReturnCtx(e);return Pe(n,{code:we.invalid_type,expected:Me.void,received:n.parsedType}),tt}return Wn(e.data)}}Nj.create=t=>new Nj({typeName:rt.ZodVoid,...ft(t)});class Hs extends St{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==Me.array)return Pe(r,{code:we.invalid_type,expected:Me.array,received:r.parsedType}),tt;if(s.exactLength!==null){const c=r.data.length>s.exactLength.value,u=r.data.length<s.exactLength.value;(c||u)&&(Pe(r,{code:c?we.too_big:we.too_small,minimum:u?s.exactLength.value:void 0,maximum:c?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Pe(r,{code:we.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Pe(r,{code:we.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((c,u)=>s.type._parseAsync(new Ro(r,c,r.path,u)))).then(c=>Cn.mergeArray(n,c));const i=[...r.data].map((c,u)=>s.type._parseSync(new Ro(r,c,r.path,u)));return Cn.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new Hs({...this._def,minLength:{value:e,message:Fe.toString(r)}})}max(e,r){return new Hs({...this._def,maxLength:{value:e,message:Fe.toString(r)}})}length(e,r){return new Hs({...this._def,exactLength:{value:e,message:Fe.toString(r)}})}nonempty(e){return this.min(1,e)}}Hs.create=(t,e)=>new Hs({type:t,minLength:null,maxLength:null,exactLength:null,typeName:rt.ZodArray,...ft(e)});function Sl(t){if(t instanceof lr){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=So.create(Sl(n))}return new lr({...t._def,shape:()=>e})}else return t instanceof Hs?new Hs({...t._def,type:Sl(t.element)}):t instanceof So?So.create(Sl(t.unwrap())):t instanceof rc?rc.create(Sl(t.unwrap())):t instanceof Ni?Ni.create(t.items.map(e=>Sl(e))):t}class lr extends St{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Ct.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Me.object){const h=this._getOrReturnCtx(e);return Pe(h,{code:we.invalid_type,expected:Me.object,received:h.parsedType}),tt}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:c}=this._getCached(),u=[];if(!(this._def.catchall instanceof Do&&this._def.unknownKeys==="strip"))for(const h in s.data)c.includes(h)||u.push(h);const f=[];for(const h of c){const p=i[h],g=s.data[h];f.push({key:{status:"valid",value:h},value:p._parse(new Ro(s,g,s.path,h)),alwaysSet:h in s.data})}if(this._def.catchall instanceof Do){const h=this._def.unknownKeys;if(h==="passthrough")for(const p of u)f.push({key:{status:"valid",value:p},value:{status:"valid",value:s.data[p]}});else if(h==="strict")u.length>0&&(Pe(s,{code:we.unrecognized_keys,keys:u}),n.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const p of u){const g=s.data[p];f.push({key:{status:"valid",value:p},value:h._parse(new Ro(s,g,s.path,p)),alwaysSet:p in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const h=[];for(const p of f){const g=await p.key,w=await p.value;h.push({key:g,value:w,alwaysSet:p.alwaysSet})}return h}).then(h=>Cn.mergeObjectSync(n,h)):Cn.mergeObjectSync(n,f)}get shape(){return this._def.shape()}strict(e){return Fe.errToObj,new lr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,c;const s=((c=(i=this._def).errorMap)==null?void 0:c.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Fe.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new lr({...this._def,unknownKeys:"strip"})}passthrough(){return new lr({...this._def,unknownKeys:"passthrough"})}extend(e){return new lr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new lr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:rt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new lr({...this._def,catchall:e})}pick(e){const r={};for(const n of Ct.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new lr({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Ct.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new lr({...this._def,shape:()=>r})}deepPartial(){return Sl(this)}partial(e){const r={};for(const n of Ct.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}return new lr({...this._def,shape:()=>r})}required(e){const r={};for(const n of Ct.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof So;)i=i._def.innerType;r[n]=i}return new lr({...this._def,shape:()=>r})}keyof(){return QE(Ct.objectKeys(this.shape))}}lr.create=(t,e)=>new lr({shape:()=>t,unknownKeys:"strip",catchall:Do.create(),typeName:rt.ZodObject,...ft(e)});lr.strictCreate=(t,e)=>new lr({shape:()=>t,unknownKeys:"strict",catchall:Do.create(),typeName:rt.ZodObject,...ft(e)});lr.lazycreate=(t,e)=>new lr({shape:t,unknownKeys:"strip",catchall:Do.create(),typeName:rt.ZodObject,...ft(e)});class jh extends St{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const u of i)if(u.result.status==="valid")return u.result;for(const u of i)if(u.result.status==="dirty")return r.common.issues.push(...u.ctx.common.issues),u.result;const c=i.map(u=>new Ta(u.ctx.common.issues));return Pe(r,{code:we.invalid_union,unionErrors:c}),tt}if(r.common.async)return Promise.all(n.map(async i=>{const c={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:c}),ctx:c}})).then(s);{let i;const c=[];for(const f of n){const h={...r,common:{...r.common,issues:[]},parent:null},p=f._parseSync({data:r.data,path:r.path,parent:h});if(p.status==="valid")return p;p.status==="dirty"&&!i&&(i={result:p,ctx:h}),h.common.issues.length&&c.push(h.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const u=c.map(f=>new Ta(f));return Pe(r,{code:we.invalid_union,unionErrors:u}),tt}}get options(){return this._def.options}}jh.create=(t,e)=>new jh({options:t,typeName:rt.ZodUnion,...ft(e)});function ey(t,e){const r=co(t),n=co(e);if(t===e)return{valid:!0,data:t};if(r===Me.object&&n===Me.object){const s=Ct.objectKeys(e),i=Ct.objectKeys(t).filter(u=>s.indexOf(u)!==-1),c={...t,...e};for(const u of i){const f=ey(t[u],e[u]);if(!f.valid)return{valid:!1};c[u]=f.data}return{valid:!0,data:c}}else if(r===Me.array&&n===Me.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const c=t[i],u=e[i],f=ey(c,u);if(!f.valid)return{valid:!1};s.push(f.data)}return{valid:!0,data:s}}else return r===Me.date&&n===Me.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Sh extends St{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,c)=>{if(gj(i)||gj(c))return tt;const u=ey(i.value,c.value);return u.valid?((vj(i)||vj(c))&&r.dirty(),{status:r.value,value:u.data}):(Pe(n,{code:we.invalid_intersection_types}),tt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,c])=>s(i,c)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Sh.create=(t,e,r)=>new Sh({left:t,right:e,typeName:rt.ZodIntersection,...ft(r)});class Ni extends St{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Me.array)return Pe(n,{code:we.invalid_type,expected:Me.array,received:n.parsedType}),tt;if(n.data.length<this._def.items.length)return Pe(n,{code:we.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),tt;!this._def.rest&&n.data.length>this._def.items.length&&(Pe(n,{code:we.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((c,u)=>{const f=this._def.items[u]||this._def.rest;return f?f._parse(new Ro(n,c,n.path,u)):null}).filter(c=>!!c);return n.common.async?Promise.all(i).then(c=>Cn.mergeArray(r,c)):Cn.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new Ni({...this._def,rest:e})}}Ni.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ni({items:t,typeName:rt.ZodTuple,rest:null,...ft(e)})};class Cj extends St{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Me.map)return Pe(n,{code:we.invalid_type,expected:Me.map,received:n.parsedType}),tt;const s=this._def.keyType,i=this._def.valueType,c=[...n.data.entries()].map(([u,f],h)=>({key:s._parse(new Ro(n,u,n.path,[h,"key"])),value:i._parse(new Ro(n,f,n.path,[h,"value"]))}));if(n.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const f of c){const h=await f.key,p=await f.value;if(h.status==="aborted"||p.status==="aborted")return tt;(h.status==="dirty"||p.status==="dirty")&&r.dirty(),u.set(h.value,p.value)}return{status:r.value,value:u}})}else{const u=new Map;for(const f of c){const h=f.key,p=f.value;if(h.status==="aborted"||p.status==="aborted")return tt;(h.status==="dirty"||p.status==="dirty")&&r.dirty(),u.set(h.value,p.value)}return{status:r.value,value:u}}}}Cj.create=(t,e,r)=>new Cj({valueType:e,keyType:t,typeName:rt.ZodMap,...ft(r)});class Du extends St{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Me.set)return Pe(n,{code:we.invalid_type,expected:Me.set,received:n.parsedType}),tt;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Pe(n,{code:we.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Pe(n,{code:we.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function c(f){const h=new Set;for(const p of f){if(p.status==="aborted")return tt;p.status==="dirty"&&r.dirty(),h.add(p.value)}return{status:r.value,value:h}}const u=[...n.data.values()].map((f,h)=>i._parse(new Ro(n,f,n.path,h)));return n.common.async?Promise.all(u).then(f=>c(f)):c(u)}min(e,r){return new Du({...this._def,minSize:{value:e,message:Fe.toString(r)}})}max(e,r){return new Du({...this._def,maxSize:{value:e,message:Fe.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Du.create=(t,e)=>new Du({valueType:t,minSize:null,maxSize:null,typeName:rt.ZodSet,...ft(e)});class kj extends St{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}kj.create=(t,e)=>new kj({getter:t,typeName:rt.ZodLazy,...ft(e)});class ty extends St{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Pe(r,{received:r.data,code:we.invalid_literal,expected:this._def.value}),tt}return{status:"valid",value:e.data}}get value(){return this._def.value}}ty.create=(t,e)=>new ty({value:t,typeName:rt.ZodLiteral,...ft(e)});function QE(t,e){return new tc({values:t,typeName:rt.ZodEnum,...ft(e)})}class tc extends St{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Pe(r,{expected:Ct.joinValues(n),received:r.parsedType,code:we.invalid_type}),tt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Pe(r,{received:r.data,code:we.invalid_enum_value,options:n}),tt}return Wn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return tc.create(e,{...this._def,...r})}exclude(e,r=this._def){return tc.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}tc.create=QE;class Ej extends St{_parse(e){const r=Ct.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Me.string&&n.parsedType!==Me.number){const s=Ct.objectValues(r);return Pe(n,{expected:Ct.joinValues(s),received:n.parsedType,code:we.invalid_type}),tt}if(this._cache||(this._cache=new Set(Ct.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Ct.objectValues(r);return Pe(n,{received:n.data,code:we.invalid_enum_value,options:s}),tt}return Wn(e.data)}get enum(){return this._def.values}}Ej.create=(t,e)=>new Ej({values:t,typeName:rt.ZodNativeEnum,...ft(e)});class Nh extends St{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Me.promise&&r.common.async===!1)return Pe(r,{code:we.invalid_type,expected:Me.promise,received:r.parsedType}),tt;const n=r.parsedType===Me.promise?r.data:Promise.resolve(r.data);return Wn(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Nh.create=(t,e)=>new Nh({type:t,typeName:rt.ZodPromise,...ft(e)});class Ci extends St{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===rt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:c=>{Pe(n,c),c.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const c=s.transform(n.data,i);if(n.common.async)return Promise.resolve(c).then(async u=>{if(r.value==="aborted")return tt;const f=await this._def.schema._parseAsync({data:u,path:n.path,parent:n});return f.status==="aborted"?tt:f.status==="dirty"||r.value==="dirty"?cu(f.value):f});{if(r.value==="aborted")return tt;const u=this._def.schema._parseSync({data:c,path:n.path,parent:n});return u.status==="aborted"?tt:u.status==="dirty"||r.value==="dirty"?cu(u.value):u}}if(s.type==="refinement"){const c=u=>{const f=s.refinement(u,i);if(n.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(n.common.async===!1){const u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?tt:(u.status==="dirty"&&r.dirty(),c(u.value),{status:r.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>u.status==="aborted"?tt:(u.status==="dirty"&&r.dirty(),c(u.value).then(()=>({status:r.value,value:u.value}))))}if(s.type==="transform")if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Xl(c))return tt;const u=s.transform(c.value,i);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>Xl(c)?Promise.resolve(s.transform(c.value,i)).then(u=>({status:r.value,value:u})):tt);Ct.assertNever(s)}}Ci.create=(t,e,r)=>new Ci({schema:t,typeName:rt.ZodEffects,effect:e,...ft(r)});Ci.createWithPreprocess=(t,e,r)=>new Ci({schema:e,effect:{type:"preprocess",transform:t},typeName:rt.ZodEffects,...ft(r)});class So extends St{_parse(e){return this._getType(e)===Me.undefined?Wn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}So.create=(t,e)=>new So({innerType:t,typeName:rt.ZodOptional,...ft(e)});class rc extends St{_parse(e){return this._getType(e)===Me.null?Wn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}rc.create=(t,e)=>new rc({innerType:t,typeName:rt.ZodNullable,...ft(e)});class ry extends St{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Me.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}ry.create=(t,e)=>new ry({innerType:t,typeName:rt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ft(e)});class ny extends St{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return _h(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ta(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ta(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ny.create=(t,e)=>new ny({innerType:t,typeName:rt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ft(e)});class Pj extends St{_parse(e){if(this._getType(e)!==Me.nan){const n=this._getOrReturnCtx(e);return Pe(n,{code:we.invalid_type,expected:Me.nan,received:n.parsedType}),tt}return{status:"valid",value:e.data}}}Pj.create=t=>new Pj({typeName:rt.ZodNaN,...ft(t)});class z8 extends St{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Nx extends St{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?tt:i.status==="dirty"?(r.dirty(),cu(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?tt:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new Nx({in:e,out:r,typeName:rt.ZodPipeline})}}class sy extends St{_parse(e){const r=this._def.innerType._parse(e),n=s=>(Xl(s)&&(s.value=Object.freeze(s.value)),s);return _h(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}sy.create=(t,e)=>new sy({innerType:t,typeName:rt.ZodReadonly,...ft(e)});var rt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(rt||(rt={}));const ut=bo.create,ZE=ec.create,Cx=Ru.create;Do.create;const Ch=Hs.create,Oi=lr.create;jh.create;Sh.create;Ni.create;const wa=ty.create,kx=tc.create;Nh.create;So.create;rc.create;const XE=Ci.createWithPreprocess,hd=LE,eP=v.createContext({}),Ye=({...t})=>o.jsx(eP.Provider,{value:{name:t.name},children:o.jsx(t8,{...t})}),um=()=>{const t=v.useContext(eP),e=v.useContext(tP),{getFieldState:r,formState:n}=Di(),s=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},tP=v.createContext({}),Be=v.forwardRef(({className:t,...e},r)=>{const n=v.useId();return o.jsx(tP.Provider,{value:{id:n},children:o.jsx("div",{ref:r,className:fe("space-y-2",t),...e})})});Be.displayName="FormItem";const Ve=v.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:s}=um();return o.jsx(nt,{ref:r,className:fe(n&&"text-destructive",t),htmlFor:s,...e})});Ve.displayName="FormLabel";const ze=v.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:i}=um();return o.jsx(gy,{ref:e,id:n,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...t})});ze.displayName="FormControl";const W8=v.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=um();return o.jsx("p",{ref:r,id:n,className:fe("text-sm text-muted-foreground",t),...e})});W8.displayName="FormDescription";const Ue=v.forwardRef(({className:t,children:e,...r},n)=>{const{error:s,formMessageId:i}=um(),c=s?String(s==null?void 0:s.message):e;return c?o.jsx("p",{ref:n,id:i,className:fe("text-sm font-medium text-destructive",t),...r,children:c}):null});Ue.displayName="FormMessage";const H8=({drivers:t,isSubmitting:e,disableAllButDriverFields:r})=>{const{control:n,watch:s,setValue:i,getValues:c}=Di(),[u,f]=v.useState("");return v.useEffect(()=>{const h=c("price");h!=null?f(h.toFixed(2)):f("")},[s("price"),c]),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-0 pt-4",children:[o.jsx(Ye,{control:n,name:"order_number",render:({field:h})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Order Number"}),o.jsx(ze,{children:o.jsx(De,{placeholder:"ORDER-XXX",...h,value:h.value||"",disabled:r})}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:n,name:"status",render:({field:h})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Status"}),o.jsxs(Un,{onValueChange:h.onChange,value:h.value,children:[o.jsx(ze,{children:o.jsx(jn,{disabled:e,children:o.jsx(Bn,{placeholder:"Select status"})})}),o.jsx(Sn,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl",children:["planned","assigned","accepted","on_route_collection","at_collection","loaded","on_route_delivery","at_delivery","delivered","pod_received","cancelled"].map(p=>o.jsx(Ft,{value:p,children:Pa(p)},p))})]}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:n,name:"date_created",render:({field:h})=>o.jsxs(Be,{className:"flex flex-col",children:[o.jsx(Ve,{className:"text-gray-700",children:"Date Created"}),o.jsxs(Po,{children:[o.jsx(Ao,{asChild:!0,children:o.jsx(ze,{children:o.jsxs(ue,{variant:"outline",className:fe("w-full pl-3 text-left font-normal",!h.value&&"text-muted-foreground"),disabled:r,children:[h.value?xt(h.value,"PPP"):o.jsx("span",{children:"Pick a date"}),o.jsx(_a,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),o.jsx(Ea,{className:"w-auto p-0 bg-[var(--saas-card-bg)] shadow-sm rounded-xl",align:"start",children:o.jsx(To,{mode:"single",selected:h.value,onSelect:h.onChange,initialFocus:!0})})]}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:n,name:"price",render:({field:h})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Price (GBP)"}),o.jsx(ze,{children:o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),o.jsx(De,{type:"text",placeholder:"0.00",value:u,onChange:p=>{const g=p.target.value;f(g)},onBlur:()=>{const p=Hk(u);i("price",p,{shouldValidate:!0,shouldDirty:!0}),f(p!==null?p.toFixed(2):""),h.onBlur()},className:"pl-7",disabled:r||e})]})}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:n,name:"assigned_driver_id",render:({field:h})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Assign Driver (Optional)"}),o.jsxs(Un,{onValueChange:h.onChange,value:h.value||"",disabled:r,children:[o.jsx(ze,{children:o.jsx(jn,{children:o.jsx(Bn,{placeholder:"Select a driver"})})}),o.jsxs(Sn,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl",children:[o.jsx(Ft,{value:"null",children:"Unassigned"}),t.map(p=>o.jsxs(Ft,{value:p.id,children:[p.full_name," (",p.truck_reg||"N/A",")"]},p.id))]})]}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:n,name:"notes",render:({field:h})=>o.jsxs(Be,{className:"md:col-span-2",children:[o.jsx(Ve,{className:"text-gray-700",children:"Notes (Optional)"}),o.jsx(ze,{children:o.jsx(Vn,{placeholder:"Any general notes for this job...",...h,value:h.value||"",disabled:e})}),o.jsx(Ue,{})]})})]})};var Aj=1,q8=.9,Y8=.8,K8=.17,Hg=.1,qg=.999,G8=.9999,J8=.99,Q8=/[\\\/_+.#"@\[\(\{&]/,Z8=/[\\\/_+.#"@\[\(\{&]/g,X8=/[\s-]/,rP=/[\s-]/g;function ay(t,e,r,n,s,i,c){if(i===e.length)return s===t.length?Aj:J8;var u=`${s},${i}`;if(c[u]!==void 0)return c[u];for(var f=n.charAt(i),h=r.indexOf(f,s),p=0,g,w,y,S;h>=0;)g=ay(t,e,r,n,h+1,i+1,c),g>p&&(h===s?g*=Aj:Q8.test(t.charAt(h-1))?(g*=Y8,y=t.slice(s,h-1).match(Z8),y&&s>0&&(g*=Math.pow(qg,y.length))):X8.test(t.charAt(h-1))?(g*=q8,S=t.slice(s,h-1).match(rP),S&&s>0&&(g*=Math.pow(qg,S.length))):(g*=K8,s>0&&(g*=Math.pow(qg,h-s))),t.charAt(h)!==e.charAt(i)&&(g*=G8)),(g<Hg&&r.charAt(h-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(h-1)!==n.charAt(i))&&(w=ay(t,e,r,n,h+1,i+2,c),w*Hg>g&&(g=w*Hg)),g>p&&(p=g),h=r.indexOf(f,h+1);return c[u]=p,p}function Tj(t){return t.toLowerCase().replace(rP," ")}function eB(t,e,r){return t=r&&r.length>0?`${t+" "+r.join(" ")}`:t,ay(t,e,Tj(t),Tj(e),0,0,{})}var nu='[cmdk-group=""]',Yg='[cmdk-group-items=""]',tB='[cmdk-group-heading=""]',nP='[cmdk-item=""]',Rj=`${nP}:not([aria-disabled="true"])`,oy="cmdk-item-select",Nl="data-value",rB=(t,e,r)=>eB(t,e,r),sP=v.createContext(void 0),md=()=>v.useContext(sP),aP=v.createContext(void 0),Ex=()=>v.useContext(aP),oP=v.createContext(void 0),iP=v.forwardRef((t,e)=>{let r=Cl(()=>{var R,Z;return{search:"",value:(Z=(R=t.value)!=null?R:t.defaultValue)!=null?Z:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Cl(()=>new Set),s=Cl(()=>new Map),i=Cl(()=>new Map),c=Cl(()=>new Set),u=lP(t),{label:f,children:h,value:p,onValueChange:g,filter:w,shouldFilter:y,loop:S,disablePointerSelection:_=!1,vimBindings:b=!0,...N}=t,C=Pr(),E=Pr(),k=Pr(),A=v.useRef(null),T=hB();ki(()=>{if(p!==void 0){let R=p.trim();r.current.value=R,I.emit()}},[p]),ki(()=>{T(6,Y)},[]);let I=v.useMemo(()=>({subscribe:R=>(c.current.add(R),()=>c.current.delete(R)),snapshot:()=>r.current,setState:(R,Z,z)=>{var U,de,ae,me;if(!Object.is(r.current[R],Z)){if(r.current[R]=Z,R==="search")Q(),H(),T(1,X);else if(R==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ve=document.getElementById(k);ve?ve.focus():(U=document.getElementById(C))==null||U.focus()}if(T(7,()=>{var ve;r.current.selectedItemId=(ve=ee())==null?void 0:ve.id,I.emit()}),z||T(5,Y),((de=u.current)==null?void 0:de.value)!==void 0){let ve=Z??"";(me=(ae=u.current).onValueChange)==null||me.call(ae,ve);return}}I.emit()}},emit:()=>{c.current.forEach(R=>R())}}),[]),L=v.useMemo(()=>({value:(R,Z,z)=>{var U;Z!==((U=i.current.get(R))==null?void 0:U.value)&&(i.current.set(R,{value:Z,keywords:z}),r.current.filtered.items.set(R,B(Z,z)),T(2,()=>{H(),I.emit()}))},item:(R,Z)=>(n.current.add(R),Z&&(s.current.has(Z)?s.current.get(Z).add(R):s.current.set(Z,new Set([R]))),T(3,()=>{Q(),H(),r.current.value||X(),I.emit()}),()=>{i.current.delete(R),n.current.delete(R),r.current.filtered.items.delete(R);let z=ee();T(4,()=>{Q(),(z==null?void 0:z.getAttribute("id"))===R&&X(),I.emit()})}),group:R=>(s.current.has(R)||s.current.set(R,new Set),()=>{i.current.delete(R),s.current.delete(R)}),filter:()=>u.current.shouldFilter,label:f||t["aria-label"],getDisablePointerSelection:()=>u.current.disablePointerSelection,listId:C,inputId:k,labelId:E,listInnerRef:A}),[]);function B(R,Z){var z,U;let de=(U=(z=u.current)==null?void 0:z.filter)!=null?U:rB;return R?de(R,r.current.search,Z):0}function H(){if(!r.current.search||u.current.shouldFilter===!1)return;let R=r.current.filtered.items,Z=[];r.current.filtered.groups.forEach(U=>{let de=s.current.get(U),ae=0;de.forEach(me=>{let ve=R.get(me);ae=Math.max(ve,ae)}),Z.push([U,ae])});let z=A.current;ne().sort((U,de)=>{var ae,me;let ve=U.getAttribute("id"),je=de.getAttribute("id");return((ae=R.get(je))!=null?ae:0)-((me=R.get(ve))!=null?me:0)}).forEach(U=>{let de=U.closest(Yg);de?de.appendChild(U.parentElement===de?U:U.closest(`${Yg} > *`)):z.appendChild(U.parentElement===z?U:U.closest(`${Yg} > *`))}),Z.sort((U,de)=>de[1]-U[1]).forEach(U=>{var de;let ae=(de=A.current)==null?void 0:de.querySelector(`${nu}[${Nl}="${encodeURIComponent(U[0])}"]`);ae==null||ae.parentElement.appendChild(ae)})}function X(){let R=ne().find(z=>z.getAttribute("aria-disabled")!=="true"),Z=R==null?void 0:R.getAttribute(Nl);I.setState("value",Z||void 0)}function Q(){var R,Z,z,U;if(!r.current.search||u.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let de=0;for(let ae of n.current){let me=(Z=(R=i.current.get(ae))==null?void 0:R.value)!=null?Z:"",ve=(U=(z=i.current.get(ae))==null?void 0:z.keywords)!=null?U:[],je=B(me,ve);r.current.filtered.items.set(ae,je),je>0&&de++}for(let[ae,me]of s.current)for(let ve of me)if(r.current.filtered.items.get(ve)>0){r.current.filtered.groups.add(ae);break}r.current.filtered.count=de}function Y(){var R,Z,z;let U=ee();U&&(((R=U.parentElement)==null?void 0:R.firstChild)===U&&((z=(Z=U.closest(nu))==null?void 0:Z.querySelector(tB))==null||z.scrollIntoView({block:"nearest"})),U.scrollIntoView({block:"nearest"}))}function ee(){var R;return(R=A.current)==null?void 0:R.querySelector(`${nP}[aria-selected="true"]`)}function ne(){var R;return Array.from(((R=A.current)==null?void 0:R.querySelectorAll(Rj))||[])}function J(R){let Z=ne()[R];Z&&I.setState("value",Z.getAttribute(Nl))}function W(R){var Z;let z=ee(),U=ne(),de=U.findIndex(me=>me===z),ae=U[de+R];(Z=u.current)!=null&&Z.loop&&(ae=de+R<0?U[U.length-1]:de+R===U.length?U[0]:U[de+R]),ae&&I.setState("value",ae.getAttribute(Nl))}function D(R){let Z=ee(),z=Z==null?void 0:Z.closest(nu),U;for(;z&&!U;)z=R>0?dB(z,nu):fB(z,nu),U=z==null?void 0:z.querySelector(Rj);U?I.setState("value",U.getAttribute(Nl)):W(R)}let M=()=>J(ne().length-1),F=R=>{R.preventDefault(),R.metaKey?M():R.altKey?D(1):W(1)},O=R=>{R.preventDefault(),R.metaKey?J(0):R.altKey?D(-1):W(-1)};return v.createElement(Le.div,{ref:e,tabIndex:-1,...N,"cmdk-root":"",onKeyDown:R=>{var Z;(Z=N.onKeyDown)==null||Z.call(N,R);let z=R.nativeEvent.isComposing||R.keyCode===229;if(!(R.defaultPrevented||z))switch(R.key){case"n":case"j":{b&&R.ctrlKey&&F(R);break}case"ArrowDown":{F(R);break}case"p":case"k":{b&&R.ctrlKey&&O(R);break}case"ArrowUp":{O(R);break}case"Home":{R.preventDefault(),J(0);break}case"End":{R.preventDefault(),M();break}case"Enter":{R.preventDefault();let U=ee();if(U){let de=new Event(oy);U.dispatchEvent(de)}}}}},v.createElement("label",{"cmdk-label":"",htmlFor:L.inputId,id:L.labelId,style:pB},f),dm(t,R=>v.createElement(aP.Provider,{value:I},v.createElement(sP.Provider,{value:L},R))))}),nB=v.forwardRef((t,e)=>{var r,n;let s=Pr(),i=v.useRef(null),c=v.useContext(oP),u=md(),f=lP(t),h=(n=(r=f.current)==null?void 0:r.forceMount)!=null?n:c==null?void 0:c.forceMount;ki(()=>{if(!h)return u.item(s,c==null?void 0:c.id)},[h]);let p=cP(s,i,[t.value,t.children,i],t.keywords),g=Ex(),w=Oo(T=>T.value&&T.value===p.current),y=Oo(T=>h||u.filter()===!1?!0:T.search?T.filtered.items.get(s)>0:!0);v.useEffect(()=>{let T=i.current;if(!(!T||t.disabled))return T.addEventListener(oy,S),()=>T.removeEventListener(oy,S)},[y,t.onSelect,t.disabled]);function S(){var T,I;_(),(I=(T=f.current).onSelect)==null||I.call(T,p.current)}function _(){g.setState("value",p.current,!0)}if(!y)return null;let{disabled:b,value:N,onSelect:C,forceMount:E,keywords:k,...A}=t;return v.createElement(Le.div,{ref:ba(i,e),...A,id:s,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!w,"data-disabled":!!b,"data-selected":!!w,onPointerMove:b||u.getDisablePointerSelection()?void 0:_,onClick:b?void 0:S},t.children)}),sB=v.forwardRef((t,e)=>{let{heading:r,children:n,forceMount:s,...i}=t,c=Pr(),u=v.useRef(null),f=v.useRef(null),h=Pr(),p=md(),g=Oo(y=>s||p.filter()===!1?!0:y.search?y.filtered.groups.has(c):!0);ki(()=>p.group(c),[]),cP(c,u,[t.value,t.heading,f]);let w=v.useMemo(()=>({id:c,forceMount:s}),[s]);return v.createElement(Le.div,{ref:ba(u,e),...i,"cmdk-group":"",role:"presentation",hidden:g?void 0:!0},r&&v.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:h},r),dm(t,y=>v.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?h:void 0},v.createElement(oP.Provider,{value:w},y))))}),aB=v.forwardRef((t,e)=>{let{alwaysRender:r,...n}=t,s=v.useRef(null),i=Oo(c=>!c.search);return!r&&!i?null:v.createElement(Le.div,{ref:ba(s,e),...n,"cmdk-separator":"",role:"separator"})}),oB=v.forwardRef((t,e)=>{let{onValueChange:r,...n}=t,s=t.value!=null,i=Ex(),c=Oo(h=>h.search),u=Oo(h=>h.selectedItemId),f=md();return v.useEffect(()=>{t.value!=null&&i.setState("search",t.value)},[t.value]),v.createElement(Le.input,{ref:e,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":u,id:f.inputId,type:"text",value:s?t.value:c,onChange:h=>{s||i.setState("search",h.target.value),r==null||r(h.target.value)}})}),iB=v.forwardRef((t,e)=>{let{children:r,label:n="Suggestions",...s}=t,i=v.useRef(null),c=v.useRef(null),u=Oo(h=>h.selectedItemId),f=md();return v.useEffect(()=>{if(c.current&&i.current){let h=c.current,p=i.current,g,w=new ResizeObserver(()=>{g=requestAnimationFrame(()=>{let y=h.offsetHeight;p.style.setProperty("--cmdk-list-height",y.toFixed(1)+"px")})});return w.observe(h),()=>{cancelAnimationFrame(g),w.unobserve(h)}}},[]),v.createElement(Le.div,{ref:ba(i,e),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":u,"aria-label":n,id:f.listId},dm(t,h=>v.createElement("div",{ref:ba(c,f.listInnerRef),"cmdk-list-sizer":""},h)))}),lB=v.forwardRef((t,e)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:i,container:c,...u}=t;return v.createElement(Jh,{open:r,onOpenChange:n},v.createElement(Qh,{container:c},v.createElement(uc,{"cmdk-overlay":"",className:s}),v.createElement(ed,{"aria-label":t.label,"cmdk-dialog":"",className:i},v.createElement(iP,{ref:e,...u}))))}),cB=v.forwardRef((t,e)=>Oo(r=>r.filtered.count===0)?v.createElement(Le.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),uB=v.forwardRef((t,e)=>{let{progress:r,children:n,label:s="Loading...",...i}=t;return v.createElement(Le.div,{ref:e,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},dm(t,c=>v.createElement("div",{"aria-hidden":!0},c)))}),fn=Object.assign(iP,{List:iB,Item:nB,Input:oB,Group:sB,Separator:aB,Dialog:lB,Empty:cB,Loading:uB});function dB(t,e){let r=t.nextElementSibling;for(;r;){if(r.matches(e))return r;r=r.nextElementSibling}}function fB(t,e){let r=t.previousElementSibling;for(;r;){if(r.matches(e))return r;r=r.previousElementSibling}}function lP(t){let e=v.useRef(t);return ki(()=>{e.current=t}),e}var ki=typeof window>"u"?v.useEffect:v.useLayoutEffect;function Cl(t){let e=v.useRef();return e.current===void 0&&(e.current=t()),e}function Oo(t){let e=Ex(),r=()=>t(e.snapshot());return v.useSyncExternalStore(e.subscribe,r,r)}function cP(t,e,r,n=[]){let s=v.useRef(),i=md();return ki(()=>{var c;let u=(()=>{var h;for(let p of r){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(h=p.current.textContent)==null?void 0:h.trim():s.current}})(),f=n.map(h=>h.trim());i.value(t,u,f),(c=e.current)==null||c.setAttribute(Nl,u),s.current=u}),s}var hB=()=>{let[t,e]=v.useState(),r=Cl(()=>new Map);return ki(()=>{r.current.forEach(n=>n()),r.current=new Map},[t]),(n,s)=>{r.current.set(n,s),e({})}};function mB(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function dm({asChild:t,children:e},r){return t&&v.isValidElement(e)?v.cloneElement(mB(e),{ref:e.ref},r(e.props.children)):r(e)}var pB={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const uP=v.forwardRef(({className:t,...e},r)=>o.jsx(fn,{ref:r,className:fe("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));uP.displayName=fn.displayName;const dP=v.forwardRef(({className:t,...e},r)=>o.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[o.jsx(_y,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),o.jsx(fn.Input,{ref:r,className:fe("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));dP.displayName=fn.Input.displayName;const fP=v.forwardRef(({className:t,...e},r)=>o.jsx(fn.List,{ref:r,className:fe("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));fP.displayName=fn.List.displayName;const iy=v.forwardRef((t,e)=>o.jsx(fn.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));iy.displayName=fn.Empty.displayName;const hP=v.forwardRef(({className:t,...e},r)=>o.jsx(fn.Group,{ref:r,className:fe("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));hP.displayName=fn.Group.displayName;const gB=v.forwardRef(({className:t,...e},r)=>o.jsx(fn.Separator,{ref:r,className:fe("-mx-1 h-px bg-border",t),...e}));gB.displayName=fn.Separator.displayName;const mP=v.forwardRef(({className:t,...e},r)=>o.jsx(fn.Item,{ref:r,className:fe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...e}));mP.displayName=fn.Item.displayName;function vB(t,e){const[r,n]=v.useState(t);return v.useEffect(()=>{const s=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(s)}},[t,e]),r}const ly=({value:t,onValueChange:e,onAddressSelect:r,placeholder:n,disabled:s,className:i})=>{const[c,u]=v.useState(!1),[f,h]=v.useState([]),[p,g]=v.useState(!1),{profile:w}=tr(),y=vB(t,300),S=w==null?void 0:w.org_id,_=v.useCallback(async N=>{if(!S||!N.trim()){h([]),g(!1);return}g(!0);try{const C=await l5(S,N);h(C)}catch(C){console.error("Failed to fetch address suggestions:",C),h([])}finally{g(!1)}},[S]);v.useEffect(()=>{y?(_(y),u(!0)):(h([]),u(!1))},[y,_]);const b=N=>{r(N),e(N.name||""),u(!1)};return o.jsxs(Po,{open:c,onOpenChange:u,children:[o.jsx(Ao,{asChild:!0,children:o.jsx(De,{value:t,onChange:N=>e(N.target.value),placeholder:n,disabled:s,className:fe("w-full",i)})}),o.jsx(Ea,{className:"w-[var(--radix-popover-trigger-width)] p-0 bg-white shadow-lg rounded-md",children:o.jsxs(uP,{children:[o.jsx(dP,{value:t,onValueChange:e,placeholder:"Search addresses by name...",className:"h-9",disabled:s}),o.jsx(fP,{children:p?o.jsxs(iy,{children:[o.jsx(wt,{className:"h-4 w-4 animate-spin mr-2"})," Loading suggestions..."]}):f.length===0?o.jsx(iy,{children:"No addresses found."}):o.jsx(hP,{children:f.map(N=>o.jsxs(mP,{value:`${N.name||""} ${N.line_1} ${N.postcode}`,onSelect:()=>b(N),className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex flex-col items-start",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:N.name||"Unnamed Address"}),o.jsxs("span",{className:"text-xs text-gray-500",children:[qt(N.line_1),N.town_or_city&&`, ${qt(N.town_or_city)}`,N.postcode&&`, ${ur(N.postcode)}`]})]}),N.favourite&&o.jsx(hv,{className:"h-4 w-4 text-yellow-500 ml-2"})]},N.id))})})]})})]})},Dj=t=>{if(!t)return"";const e=t.replace(/[^0-9]/g,"");if(e.length===0)return"";if(e.length===1)return`0${e}:00`;if(e.length===2){const s=parseInt(e,10);return`${String(s).padStart(2,"0")}:00`}if(e.length===3){const s=parseInt(e.substring(0,2),10),i=parseInt(e.substring(2,3),10);return`${String(s).padStart(2,"0")}:${String(i).padStart(2,"0")}`}const r=parseInt(e.substring(0,2),10),n=parseInt(e.substring(2,4),10);return`${String(r).padStart(2,"0")}:${String(n).padStart(2,"0")}`},Oj=({type:t,title:e,borderColorClass:r,isOfficeOrAdmin:n,disableStopDetailsForDriver:s,isSubmitting:i})=>{var y;const{control:c,setValue:u,trigger:f}=Di(),{fields:h,append:p,remove:g}=Zv({control:c,name:t}),w=(S,_)=>{const b=`${t}.${S}`;u(`${b}.name`,_.name||"",{shouldDirty:!0}),u(`${b}.address_line1`,_.line_1,{shouldDirty:!0}),u(`${b}.address_line2`,_.line_2||null,{shouldDirty:!0}),u(`${b}.city`,_.town_or_city,{shouldDirty:!0}),u(`${b}.county`,_.county||null,{shouldDirty:!0}),u(`${b}.postcode`,_.postcode,{shouldDirty:!0}),f(`${b}.address_line1`),f(`${b}.city`),f(`${b}.postcode`)};return o.jsxs(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6",children:[o.jsxs("div",{className:"flex flex-row items-center justify-between p-0 pb-4",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:e}),n&&o.jsxs(ue,{type:"button",variant:"outline",size:"sm",onClick:()=>p({id:bn(),name:"",address_line1:"",city:"",postcode:"",window_from:"",window_to:"",type:t==="collections"?"collection":"delivery"}),disabled:i,children:[o.jsx(qs,{className:"h-4 w-4 mr-2"})," Add ",t==="collections"?"Collection":"Delivery"]})]}),o.jsxs("div",{className:"space-y-4 p-0 pt-4",children:[h.map((S,_)=>o.jsxs(et,{className:`p-4 ${r} bg-gray-50 shadow-sm rounded-md`,children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsxs("h4",{className:"font-semibold text-lg text-gray-900",children:[t==="collections"?"Collection":"Delivery"," #",_+1]}),n&&o.jsxs(ue,{type:"button",variant:"destructive",size:"sm",onClick:()=>g(_),disabled:i,children:[o.jsx(hs,{className:"h-4 w-4"})," Remove"]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx(Ye,{control:c,name:`${t}.${_}.name`,render:({field:b})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Name (Optional)"}),o.jsx(ze,{children:o.jsx(ly,{placeholder:"e.g., Supplier Warehouse",value:b.value||"",onValueChange:b.onChange,onAddressSelect:N=>w(_,N),disabled:s||i})}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:c,name:`${t}.${_}.address_line1`,render:({field:b})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Address Line 1"}),o.jsx(ze,{children:o.jsx(De,{placeholder:"e.g., 123 High Street",...b,disabled:s||i})}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:c,name:`${t}.${_}.address_line2`,render:({field:b})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Address Line 2 (Optional)"}),o.jsx(ze,{children:o.jsx(De,{placeholder:"e.g., Unit 4",...b,disabled:s||i})}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:c,name:`${t}.${_}.city`,render:({field:b})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"City"}),o.jsx(ze,{children:o.jsx(De,{placeholder:"e.g., London",...b,disabled:s||i})}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:c,name:`${t}.${_}.postcode`,render:({field:b})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Postcode"}),o.jsx("div",{className:"flex gap-2",children:o.jsx(ze,{children:o.jsx(De,{placeholder:"e.g., SW1A 0AA",...b,value:ur(b.value),onBlur:N=>{b.onChange(ur(N.target.value)),b.onBlur()},disabled:s||i})})}),o.jsx(Ue,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Ye,{control:c,name:`${t}.${_}.window_from`,render:({field:b})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Window From (HH:MM)"}),o.jsx(ze,{children:o.jsx(De,{placeholder:"e.g., 09:00",...b,onBlur:N=>{b.onChange(Dj(N.target.value)),b.onBlur()},disabled:i})}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:c,name:`${t}.${_}.window_to`,render:({field:b})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Window To (HH:MM)"}),o.jsx(ze,{children:o.jsx(De,{placeholder:"e.g., 12:00",...b,onBlur:N=>{b.onChange(Dj(N.target.value)),b.onBlur()},disabled:i})}),o.jsx(Ue,{})]})})]}),o.jsx(Ye,{control:c,name:`${t}.${_}.notes`,render:({field:b})=>o.jsxs(Be,{className:"sm:col-span-2",children:[o.jsx(Ve,{className:"text-gray-700",children:"Notes / Reference"}),o.jsx(ze,{children:o.jsx(Vn,{placeholder:"Any specific instructions for this stop...",...b,value:b.value||"",disabled:i})}),o.jsx(Ue,{})]})})]})]},S.id)),h.length===0&&o.jsxs("p",{className:"text-gray-600 text-center",children:["No ",t==="collections"?"collection":"delivery"," points added yet."]}),o.jsx(Ue,{children:(y=c._formState.errors[t])==null?void 0:y.message})]})]})},Ij=Oi({id:ut().optional(),name:ut().optional().nullable(),address_line1:ut().min(1,{message:"Address line 1 is required."}),address_line2:ut().optional().nullable(),city:ut().min(1,{message:"City is required."}),postcode:ut().min(1,{message:"Postcode is required."}),window_from:ut().regex(/^([01]\d|2[0-3]):([0-5]\d)$/,{message:"Invalid time format (HH:MM)"}).optional().or(wa("")),window_to:ut().regex(/^([01]\d|2[0-3]):([0-5]\d)$/,{message:"Invalid time format (HH:MM)"}).optional().or(wa("")),notes:ut().optional().nullable(),type:kx(["collection","delivery"])}),yB=Oi({order_number:ut().optional().or(wa("")),date_created:Cx({required_error:"Date Created is required."}),price:XE(t=>t===""?null:Number(t),ZE().min(0,{message:"Price must be non-negative."}).nullable().optional()),assigned_driver_id:ut().optional().nullable(),notes:ut().optional().nullable(),status:kx(["planned","assigned","accepted","on_route_collection","at_collection","loaded","on_route_delivery","at_delivery","delivered","pod_received","cancelled"],{required_error:"Status is required."}),collections:Ch(Ij).min(0),deliveries:Ch(Ij).min(1,{message:"At least one delivery point is required."})}),xB=({initialJob:t,initialStops:e,drivers:r,onSubmit:n,isSubmitting:s})=>{const{userRole:i}=tr(),c=i==="admin"||i==="office",u=i==="driver",f=dd({resolver:fd(yB),defaultValues:{order_number:t.order_number||"",date_created:cr(t.date_created),price:t.price,assigned_driver_id:t.assigned_driver_id||null,notes:t.notes||"",status:t.status,collections:e.filter(g=>g.type==="collection").map(g=>({...g,window_from:g.window_from||"",window_to:g.window_to||"",notes:g.notes||""})),deliveries:e.filter(g=>g.type==="delivery").map(g=>({...g,window_from:g.window_from||"",window_to:g.window_to||"",notes:g.notes||""}))}}),h=u,p=u;return o.jsx(LE,{...f,children:o.jsx(hd,{...f,children:o.jsxs("form",{onSubmit:f.handleSubmit(n),className:"space-y-6",children:[o.jsxs(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6",children:[o.jsx(vt,{className:"p-0 pb-4",children:o.jsx(yt,{className:"text-xl font-semibold text-gray-900",children:"Job Details"})}),o.jsx(H8,{drivers:r,isSubmitting:s,disableAllButDriverFields:h})]}),o.jsx(Oj,{type:"collections",title:"Collection Points",borderColorClass:"border-l-4 border-blue-500",isOfficeOrAdmin:c,disableStopDetailsForDriver:p,isSubmitting:s}),o.jsx(Oj,{type:"deliveries",title:"Delivery Points",borderColorClass:"border-l-4 border-green-500",isOfficeOrAdmin:c,disableStopDetailsForDriver:p,isSubmitting:s}),o.jsx(ue,{type:"submit",className:"w-full bg-blue-600 text-white hover:bg-blue-700",disabled:s,children:s?o.jsxs("span",{className:"flex items-center",children:[o.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"})," Saving Changes..."]}):"Save Changes"})]})})})},wB=({job:t,stops:e,allProfiles:r,userRole:n,currentProfile:s,currentOrgId:i,onEditSubmit:c,onAssignDriver:u,onUpdateProgress:f,onRequestPod:h,onExportPdf:p,onCloneJob:g,onCancelJob:w,isSubmittingEdit:y,isAssigningDriver:S,isUpdatingProgress:_})=>{er();const[b,N]=v.useState(!1),[C,E]=v.useState(!1),[k,A]=v.useState(!1),T=n==="office"||n==="admin";return o.jsxs(vt,{className:"flex flex-row items-center justify-between p-0 pb-2",children:[o.jsxs(yt,{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:["Job: ",t.order_number,o.jsx(xa,{variant:t.status==="planned"?"secondary":t.status==="accepted"||t.status==="assigned"?"default":t.status==="delivered"?"outline":"destructive",className:t.status==="delivered"?"bg-green-500 text-white hover:bg-green-600":"",children:Pa(t.status)})]}),o.jsxs("div",{className:"flex space-x-2",children:[T&&o.jsxs(Aa,{open:b,onOpenChange:N,children:[o.jsx(T9,{asChild:!0,children:o.jsxs(ue,{variant:"outline",children:[o.jsx(zs,{className:"h-4 w-4 mr-2"})," Edit Job"]})}),o.jsxs(Js,{className:"flex flex-col",children:[o.jsx(Qs,{children:o.jsxs(Zs,{className:"text-xl font-semibold text-gray-900",children:["Edit Job: ",t.order_number]})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o.jsx(xB,{initialJob:t,initialStops:e,drivers:r.filter(I=>I.role==="driver"),onSubmit:c,isSubmitting:y})})]})]}),T&&o.jsxs(ue,{variant:"outline",onClick:()=>E(!0),children:[o.jsx(Ih,{className:"h-4 w-4 mr-2"})," Assign Driver"]}),T&&t.status!=="cancelled"&&t.status!=="delivered"&&o.jsxs(o.Fragment,{children:[o.jsxs(ue,{variant:"outline",onClick:()=>A(!0),children:[o.jsx(Ln,{className:"h-4 w-4 mr-2"})," Update Progress"]}),o.jsx(fE,{open:k,onOpenChange:A,job:t,currentProfile:s,userRole:n,onUpdateProgress:f,isUpdatingProgress:_}),o.jsxs(Gs,{children:[o.jsx(Au,{asChild:!0,children:o.jsxs(ue,{variant:"outline",children:[o.jsx(In,{className:"h-4 w-4 mr-2"})," Request POD"]})}),o.jsxs(xs,{className:"overflow-y-auto",children:[o.jsxs(ws,{children:[o.jsx(_s,{children:"Request Proof of Delivery (POD)?"}),o.jsx(js,{children:"This will send a notification to the assigned driver to upload a Proof of Delivery for this job."})]}),o.jsxs(bs,{children:[o.jsx(Ns,{asChild:!0,children:o.jsx(ue,{variant:"outline",children:"Dismiss"})}),o.jsx(Ss,{onClick:h,children:"Request POD"})]})]})]}),o.jsxs(ue,{variant:"outline",onClick:p,children:[o.jsx(_I,{className:"h-4 w-4 mr-2"})," Export PDF"]}),o.jsxs(ue,{variant:"outline",onClick:g,children:[" ",o.jsx(W1,{className:"h-4 w-4 mr-2"})," Clone Job"]}),o.jsxs(Gs,{children:[o.jsx(Au,{asChild:!0,children:o.jsxs(ue,{variant:"destructive",children:[o.jsx(Pi,{className:"h-4 w-4 mr-2"})," Cancel Job"]})}),o.jsxs(xs,{className:"overflow-y-auto",children:[o.jsxs(ws,{children:[o.jsx(_s,{children:"Are you absolutely sure you want to cancel this job?"}),o.jsx(js,{children:"This action cannot be undone. This will permanently mark the job as cancelled and it will no longer appear in active job lists."})]}),o.jsxs(bs,{children:[o.jsx(Ns,{asChild:!0,children:o.jsx(ue,{variant:"outline",children:"Dismiss"})}),o.jsx(Ss,{onClick:w,variant:"destructive",children:"Cancel Job"})]})]})]})]})]}),o.jsx(PE,{open:C,onOpenChange:E,drivers:r.filter(I=>I.role==="driver"),currentAssignedDriverId:t.assigned_driver_id,onAssign:u,isAssigning:S})]})},bB=({job:t,stops:e,allProfiles:r})=>{var n;return e.filter(s=>s.type==="collection"),e.filter(s=>s.type==="delivery"),o.jsxs(dt,{className:"p-0 pt-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-700",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:"Date Created:"}),o.jsx("p",{children:xt(new Date(t.date_created),"PPP")})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:"Assigned Driver:"}),o.jsx("p",{children:t.assigned_driver_id?((n=r.find(s=>s.id===t.assigned_driver_id))==null?void 0:n.full_name)||"Unknown":"Unassigned"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:"Price:"}),o.jsx("p",{children:t.price?`${t.price.toFixed(2)}`:"-"})]}),o.jsxs("div",{className:"lg:col-span-1",children:[o.jsx("p",{className:"font-medium text-gray-900",children:"Notes:"}),o.jsx("p",{children:t.notes||"-"})]}),o.jsxs("div",{className:"lg:col-span-1",children:[o.jsx("p",{className:"font-medium text-gray-900",children:"Last Status Update:"}),o.jsxs("p",{className:"flex items-center gap-1",children:[o.jsx(fs,{className:"h-4 w-4 text-gray-500"}),t.last_status_update_at?xt(cr(t.last_status_update_at),"PPP HH:mm"):"N/A"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6 pt-6 border-t border-[var(--saas-border)]",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-gray-900 flex items-center gap-1 mb-2",children:[o.jsx($n,{className:"h-4 w-4 text-blue-600"})," Collections:"]}),t.collection_name||t.collection_city&&t.collection_postcode?o.jsxs("div",{className:"flex flex-col items-start",children:[o.jsx("span",{className:"font-medium text-gray-900",children:qt(t.collection_name)}),o.jsx("span",{className:"text-sm text-gray-600",children:t.collection_city&&t.collection_postcode?`${qt(t.collection_city)}, ${ur(t.collection_postcode)}`:"-"})]}):o.jsx("p",{className:"text-gray-600",children:"No collection stops defined for this job."})]}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-gray-900 flex items-center gap-1 mb-2",children:[o.jsx($n,{className:"h-4 w-4 text-green-600"})," Deliveries:"]}),t.delivery_name||t.delivery_city&&t.delivery_postcode?o.jsxs("div",{className:"flex flex-col items-start",children:[o.jsx("span",{className:"font-medium text-gray-900",children:qt(t.delivery_name)}),o.jsx("span",{className:"text-sm text-gray-600",children:t.delivery_city&&t.delivery_postcode?`${qt(t.delivery_city)}, ${ur(t.delivery_postcode)}`:"-"})]}):o.jsx("p",{className:"text-gray-600",children:"No delivery stops defined for this job."})]})]})]})};var fm="Tabs",[_B,Y7]=dn(fm,[zh]),pP=zh(),[jB,Px]=_B(fm),gP=v.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:c="horizontal",dir:u,activationMode:f="automatic",...h}=t,p=Hu(u),[g,w]=Na({prop:n,onChange:s,defaultProp:i??"",caller:fm});return o.jsx(jB,{scope:r,baseId:Pr(),value:g,onValueChange:w,orientation:c,dir:p,activationMode:f,children:o.jsx(Le.div,{dir:p,"data-orientation":c,...h,ref:e})})});gP.displayName=fm;var vP="TabsList",yP=v.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,i=Px(vP,r),c=pP(r);return o.jsx(MS,{asChild:!0,...c,orientation:i.orientation,dir:i.dir,loop:n,children:o.jsx(Le.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});yP.displayName=vP;var xP="TabsTrigger",wP=v.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=t,c=Px(xP,r),u=pP(r),f=jP(c.baseId,n),h=SP(c.baseId,n),p=n===c.value;return o.jsx(LS,{asChild:!0,...u,focusable:!s,active:p,children:o.jsx(Le.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:f,...i,ref:e,onMouseDown:Ne(t.onMouseDown,g=>{!s&&g.button===0&&g.ctrlKey===!1?c.onValueChange(n):g.preventDefault()}),onKeyDown:Ne(t.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(n)}),onFocus:Ne(t.onFocus,()=>{const g=c.activationMode!=="manual";!p&&!s&&g&&c.onValueChange(n)})})})});wP.displayName=xP;var bP="TabsContent",_P=v.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...c}=t,u=Px(bP,r),f=jP(u.baseId,n),h=SP(u.baseId,n),p=n===u.value,g=v.useRef(p);return v.useEffect(()=>{const w=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(w)},[]),o.jsx(Lr,{present:s||p,children:({present:w})=>o.jsx(Le.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!w,id:h,tabIndex:0,...c,ref:e,style:{...t.style,animationDuration:g.current?"0s":void 0},children:w&&i})})});_P.displayName=bP;function jP(t,e){return`${t}-trigger-${e}`}function SP(t,e){return`${t}-content-${e}`}var SB=gP,NP=yP,CP=wP,kP=_P;const NB=SB,EP=v.forwardRef(({className:t,...e},r)=>o.jsx(NP,{ref:r,className:fe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));EP.displayName=NP.displayName;const uu=v.forwardRef(({className:t,...e},r)=>o.jsx(CP,{ref:r,className:fe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));uu.displayName=CP.displayName;const du=v.forwardRef(({className:t,...e},r)=>o.jsx(kP,{ref:r,className:fe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));du.displayName=kP.displayName;const CB={planned:fs,assigned:Mr,accepted:Ln,on_route_collection:Mr,at_collection:$n,loaded:q1,on_route_delivery:Mr,at_delivery:$n,delivered:Ln,pod_received:In,cancelled:Pi,job_created:Ln,job_confirmed:Ln,eta_set:fs,pod_requested:In,pod_uploaded:In,image_uploaded:In,driver_reassigned:mv,status_changed:fs,stop_added:qs,stop_updated:zs,stop_deleted:hs,stop_details_updated:zs},kB=({progressLogs:t,profiles:e,currentOrgId:r,onLogVisibilityChange:n})=>{const{userRole:s,profile:i}=tr(),c=s==="office"||s==="admin",[u,f]=v.useState(null),[h,p]=v.useState(t);ie.useEffect(()=>{p(t)},[t]);const g=b=>{const N=e.find(C=>C.id===b);return N?N.full_name:"Unknown User"},w=b=>["job_created","accepted","loaded","delivered","pod_received","job_confirmed"].includes(b)?"bg-green-500":["cancelled"].includes(b)?"bg-red-500":"bg-blue-600",S=[...h.filter(b=>zk.includes(b.action_type)&&b.visible_in_timeline!==!1)].sort((b,N)=>cr(N.timestamp).getTime()-cr(b.timestamp).getTime()),_=async b=>{if(!i||!s||!r){le.error("User profile or organization ID not found. Cannot update log visibility.");return}if(!c){le.error("You do not have permission to remove events from the timeline.");return}f(b),p(N=>N.map(C=>C.id===b?{...C,visible_in_timeline:!1}:C)),le.loading("Removing event from timeline...",{id:b});try{const N={log_id:b,org_id:r,actor_id:i.id,actor_role:s,visible_in_timeline:!1};await XF(N),le.success("Event removed from timeline!",{id:b}),n()}catch(N){console.error("Error removing event from timeline:",N),p(C=>C.map(E=>E.id===b?{...E,visible_in_timeline:!0}:E)),le.error(`Failed to remove event: ${N.message}`,{id:b})}finally{f(null)}};return S.length===0?o.jsx("p",{className:"text-gray-600",children:"No core progress events recorded for this job yet."}):o.jsxs("div",{className:"relative pl-8",children:[o.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-0.5 bg-[var(--saas-border)]"}),S.map((b,N)=>{const C=CB[b.action_type]||wy,E=cr(b.timestamp);return o.jsxs("div",{className:"mb-6 relative",children:[o.jsx("div",{className:fe("absolute -left-3.5 top-1 flex items-center justify-center w-7 h-7 rounded-full text-white",w(b.action_type)),children:o.jsx(C,{size:16})}),o.jsxs(et,{className:fe("ml-8","bg-white","shadow-md","transition-transform duration-200 ease-in-out hover:scale-105 hover:bg-blue-50"),children:[o.jsxs(vt,{className:"flex flex-row items-start justify-between p-4 pb-2",children:[o.jsxs("div",{children:[o.jsx(yt,{className:"text-base font-semibold",children:Pa(b.action_type)}),o.jsxs(px,{className:"text-xs text-gray-500 flex items-center gap-1 mt-1",children:[o.jsx(Wu,{className:"h-3 w-3"})," by ",g(b.actor_id)]})]}),o.jsxs("div",{className:"text-right flex-shrink-0",children:[o.jsx("p",{className:"text-base font-semibold text-gray-800",children:xt(E,"HH:mm")}),o.jsx("p",{className:"text-sm font-semibold text-gray-700",children:xt(E,"MMM dd, yyyy")})]})]}),o.jsxs(dt,{className:"p-4 pt-0",children:[o.jsx("p",{className:"text-sm text-gray-700",children:b.notes||`Marked as '${Pa(b.action_type)}'.`}),b.lat&&b.lon&&o.jsxs("p",{className:"text-xs text-gray-500 mt-2 flex items-center",children:[o.jsx($n,{className:"h-3 w-3 mr-1"})," Lat: ",b.lat.toFixed(4),", Lon: ",b.lon.toFixed(4)]}),c&&o.jsx("div",{className:"mt-2 text-right -mr-2 -mb-2",children:o.jsxs(ue,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700",onClick:()=>_(b.id),disabled:u===b.id,children:[u===b.id?o.jsx(wt,{className:"h-4 w-4 animate-spin"}):o.jsx(Mh,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Remove from timeline"})]})})]})]})]},b.id)})]})},EB={planned:fs,assigned:Mr,accepted:Ln,on_route_collection:Mr,at_collection:$n,loaded:q1,on_route_delivery:Mr,at_delivery:$n,delivered:Ln,pod_received:In,cancelled:Pi,job_created:Ln,job_cloned:W1,job_confirmed:Ln,eta_set:fs,pod_requested:In,pod_uploaded:In,document_uploaded:In,image_uploaded:In,location_ping:$n,note_added:wy,status_changed:fs,driver_reassigned:mv,stop_added:qs,stop_updated:zs,stop_deleted:hs,stop_details_updated:zs,daily_check_submitted:V1,daily_check_item_created:qs,daily_check_item_updated:zs,daily_check_item_deleted:hs,user_created:Ih,user_updated:mv,user_deleted:hs,password_reset_sent:Oh,purge_demo_users:fv,purge_all_non_admin_users:fv,timeline_event_removed_from_timeline:H1,timeline_event_restored_to_timeline:bI},PB=({progressLogs:t,profiles:e})=>{const r=s=>{const i=e.find(c=>c.id===s);return i?i.full_name:"Unknown User"};if(t.length===0)return o.jsx("p",{className:"text-gray-600",children:"No audit log entries for this job yet."});const n=[...t].sort((s,i)=>cr(i.timestamp).getTime()-cr(s.timestamp).getTime());return o.jsxs("div",{className:"relative pl-8",children:[o.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-0.5 bg-gray-200"}),n.map((s,i)=>{const c=EB[s.action_type]||wy,u=cr(s.timestamp),f=s.visible_in_timeline===!1,h=s.action_type==="cancelled",p=s.notes||`An event of type '${Pa(s.action_type)}' occurred.`;return o.jsxs("div",{className:"mb-4 relative",children:[o.jsx("div",{className:fe("absolute -left-3.5 top-1 flex items-center justify-center w-7 h-7 rounded-full text-white",f||h?"bg-red-500":"bg-gray-500"),children:o.jsx(c,{size:16})}),o.jsx("div",{className:fe("ml-8 p-3 rounded-lg","bg-white","shadow-md","transition-transform duration-200 ease-in-out hover:scale-105 hover:bg-blue-50"),children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-gray-800 mb-1",children:p}),o.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[o.jsx(Wu,{className:"h-3 w-3"})," by ",r(s.actor_id)]}),f&&o.jsxs("p",{className:"text-xs text-red-600 flex items-center mt-1",children:[o.jsx(H1,{className:"h-3 w-3 mr-1"})," Hidden from main timeline."]})]}),o.jsxs("div",{className:"text-right flex-shrink-0 ml-4",children:[o.jsx("p",{className:"text-base font-semibold text-gray-800",children:xt(u,"HH:mm:ss")}),o.jsx("p",{className:"text-sm font-semibold text-gray-700",children:xt(u,"MMM dd, yyyy")})]})]})})]},s.id)})]})},AB=({stops:t})=>t.length===0?o.jsx("p",{className:"text-gray-600",children:"No stops defined for this job."}):o.jsxs("div",{className:"rounded-md overflow-hidden shadow-sm",children:[" ",o.jsxs(fc,{children:[o.jsxs(hc,{className:"bg-gray-50",children:[" ",o.jsxs(ys,{children:[o.jsx(Tt,{children:"Seq"}),o.jsx(Tt,{children:"Type"}),o.jsx(Tt,{children:"Name"}),o.jsx(Tt,{children:"Address"}),o.jsx(Tt,{children:"Window"}),o.jsx(Tt,{children:"Notes"})]})]}),o.jsxs(mc,{className:"divide-y divide-gray-100",children:[" ",t.sort((e,r)=>e.seq-r.seq).map((e,r)=>o.jsxs(ys,{className:r%2===0?"bg-white hover:bg-gray-100":"bg-gray-50 hover:bg-gray-100",children:[o.jsx(Rt,{children:e.seq}),o.jsx(Rt,{children:o.jsx(xa,{variant:e.type==="collection"?"default":"outline",children:e.type})}),o.jsx(Rt,{className:"font-medium text-gray-900",children:qt(e.name)}),o.jsxs(Rt,{className:"text-gray-700",children:[qt(e.address_line1),e.address_line2&&`, ${qt(e.address_line2)}`,", ",qt(e.city),e.postcode&&`, ${ur(e.postcode)}`]}),o.jsxs(Rt,{className:"text-gray-700",children:[e.window_from||"Anytime"," - ",e.window_to||"Anytime"]}),o.jsx(Rt,{className:"text-gray-700",children:e.notes||"-"})]},e.id))]})]})]}),TB=({progressLogs:t,allProfiles:e,stops:r,documents:n,currentOrgId:s,onLogVisibilityChange:i})=>{const c=t.filter(u=>zk.includes(u.action_type));return o.jsxs(NB,{defaultValue:"timeline",className:"w-full",children:[o.jsxs(EP,{className:"grid w-full grid-cols-4 bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-1",children:[" ",o.jsx(uu,{value:"timeline",children:"Timeline"}),o.jsx(uu,{value:"audit-log",children:"Audit Log"})," ",o.jsx(uu,{value:"stops",children:"Stops Table"}),o.jsx(uu,{value:"pods",children:"PODs"})]}),o.jsx(du,{value:"timeline",className:"mt-4",children:o.jsxs(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6",children:[o.jsx(vt,{className:"p-0 pb-4",children:o.jsx(yt,{className:"text-xl font-semibold text-gray-900",children:"Job Timeline"})}),o.jsx(dt,{className:"p-0 pt-4",children:o.jsx(kB,{progressLogs:c,profiles:e,currentOrgId:s,onLogVisibilityChange:i})})]})}),o.jsxs(du,{value:"audit-log",className:"mt-4",children:[" ",o.jsxs(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6",children:[o.jsx(vt,{className:"p-0 pb-4",children:o.jsx(yt,{className:"text-xl font-semibold text-gray-900",children:"Job Audit Log"})}),o.jsxs(dt,{className:"p-0 pt-4",children:[o.jsx(PB,{progressLogs:t,profiles:e})," "]})]})]}),o.jsx(du,{value:"stops",className:"mt-4",children:o.jsxs(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6",children:[o.jsx(vt,{className:"p-0 pb-4",children:o.jsx(yt,{className:"text-xl font-semibold text-gray-900",children:"Job Stops Table"})}),o.jsx(dt,{className:"p-0 pt-4",children:o.jsx(AB,{stops:r})})]})}),o.jsx(du,{value:"pods",className:"mt-4",children:o.jsxs(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6",children:[o.jsx(vt,{className:"p-0 pb-4",children:o.jsx(yt,{className:"text-xl font-semibold text-gray-900",children:"Proof of Delivery (PODs)"})}),o.jsx(dt,{className:"p-0 pt-4",children:o.jsx(AE,{documents:n})})]})})]})},RB=({open:t,onOpenChange:e,title:r,description:n,actionLabel:s,onSubmit:i,isLoading:c,initialDateTime:u,initialNotes:f})=>{const[h,p]=v.useState(u||new Date),[g,w]=v.useState(xt(u||new Date,"HH:mm")),[y,S]=v.useState(f||""),[_,b]=v.useState(null);v.useEffect(()=>{t&&(p(u||new Date),w(xt(u||new Date,"HH:mm")),S(f||""),b(null))},[t,u,f]);const N=A=>{if(!A){p(void 0);return}let T=A;if(h)T=os(T,h.getHours()),T=is(T,h.getMinutes()),T=ls(T,0);else{const I=new Date;T=os(T,I.getHours()),T=is(T,I.getMinutes()),T=ls(T,0)}p(T)},C=A=>{const T=A.target.value;w(T),onTimeInputChange&&onTimeInputChange(T);const{formattedTime:I,error:L}=ph(T);if(b(L),I&&h){const[B,H]=I.split(":"),X=parseInt(B,10),Q=parseInt(H,10);let Y=os(h,X);Y=is(Y,Q),Y=ls(Y,0),p(Y)}else if(I&&!h){let B=new Date;B=os(B,parseInt(I.split(":")[0],10)),B=is(B,parseInt(I.split(":")[1],10)),B=ls(B,0),p(B)}else if(h){const B=os(is(ls(h,0),0),0);p(B)}else p(void 0)},E=async()=>{if(!h||_){le.error("Please ensure a valid date and time are selected.");return}await i(h,y),e(!1)},k=A=>{A||(p(u||new Date),w(xt(u||new Date,"HH:mm")),S(f||""),b(null)),e(A)};return o.jsx(Gs,{open:t,onOpenChange:k,children:o.jsxs(xs,{className:"max-w-md bg-[var(--saas-card-bg)] p-6 rounded-xl shadow-lg flex flex-col max-h-[90vh]",children:[o.jsxs(ws,{children:[o.jsx(_s,{className:"text-xl font-semibold text-gray-900",children:r}),o.jsx(js,{children:n})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(nt,{className:"text-gray-700",children:"Date"}),o.jsxs(Po,{children:[o.jsx(Ao,{asChild:!0,children:o.jsxs(ue,{variant:"outline",className:fe("w-full justify-start text-left font-normal",!h&&"text-muted-foreground"),disabled:c,children:[o.jsx(_a,{className:"mr-2 h-4 w-4"}),h?xt(h,"PPP"):o.jsx("span",{children:"Pick a date"})]})}),o.jsx(Ea,{className:"w-auto p-0 bg-[var(--saas-card-bg)] shadow-sm rounded-xl",align:"start",children:o.jsx(To,{mode:"single",selected:h,onSelect:N,initialFocus:!0})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(nt,{htmlFor:"time-input",className:"text-gray-700",children:"Time (HH:MM)"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(fs,{className:"h-4 w-4 text-gray-500"}),o.jsx(De,{id:"time-input",type:"text",value:g,onChange:C,onBlur:A=>{const{formattedTime:T}=ph(A.target.value);T&&w(T)},placeholder:"HH:MM (e.g., 09:00)",className:"w-full",disabled:c,"data-testid":"driver-time-input"})]}),_&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:_})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(nt,{htmlFor:"notes",className:"text-gray-700",children:"Notes (Optional)"}),o.jsx(Vn,{id:"notes",value:y,onChange:A=>S(A.target.value),placeholder:"Add any relevant notes...",disabled:c})]})]})}),o.jsxs(bs,{children:[o.jsx(Ns,{onClick:()=>k(!1),disabled:c,children:"Cancel"}),o.jsxs(Ss,{onClick:E,disabled:c||!h||!!_,children:[c?o.jsx(wt,{className:"h-4 w-4 animate-spin mr-2"}):null,s]})]})]})})},PP=({open:t,onOpenChange:e,job:r,stopId:n,currentProfile:s,onUploadSuccess:i,isLoading:c,setIsLoading:u})=>{const[f,h]=v.useState(null),p=v.useRef(null);v.useEffect(()=>{t&&(h(null),u(!1))},[t,u]);const g=S=>{var b;const _=(b=S.target.files)==null?void 0:b[0];_&&h(_)},w=async()=>{if(!f){le.error("Please select a file to upload.");return}if(!s||!s.org_id||!s.role){le.error("User profile or organization ID not found. Cannot upload POD.");return}if(!r.order_number){le.error("Job order number is missing. Cannot generate filename.");return}u(!0);try{const S=f.name.split(".").pop(),_=`${s.org_id}/${r.id}/`,{data:b,error:N}=await Ze.storage.from("pods").list(_,{search:`${r.order_number}_`});if(N)throw N;const C=((b==null?void 0:b.length)||0)+1,E=`${r.order_number}_${C}.${S}`,k=`${_}${E}`,{data:A,error:T}=await Ze.storage.from("pods").upload(k,f,{upsert:!1});if(T)throw T;const{data:I}=Ze.storage.from("pods").getPublicUrl(k),L=I==null?void 0:I.publicUrl;if(!L)throw new Error("Failed to get public URL for uploaded file.");await QC(r.id,s.org_id,s.id,"pod",L,"pod_uploaded",n),n&&await Qy({job_id:r.id,org_id:s.org_id,actor_id:s.id,actor_role:s.role,new_status:"pod_received",timestamp:new Date().toISOString(),notes:`POD uploaded for ${n?`stop ${n}`:"job"} by driver.`,stop_id:n}),le.success("POD uploaded successfully!"),i(),e(!1)}catch(S){console.error("Error uploading POD:",S),le.error(`Failed to upload POD: ${S.message||String(S)}`)}finally{u(!1)}},y=S=>{S||(h(null),u(!1)),e(S)};return o.jsx(Gs,{open:t,onOpenChange:y,children:o.jsxs(xs,{className:"bg-[var(--saas-card-bg)] p-6 rounded-xl shadow-lg flex flex-col",children:[" ",o.jsxs(ws,{children:[o.jsx(_s,{className:"text-xl font-semibold text-gray-900",children:"Upload Proof of Delivery"}),o.jsxs(js,{children:["Please select the POD document to upload.",o.jsx("p",{className:"text-sm text-blue-600 font-medium mt-2",children:"All PODs must clearly show full name printed, signature, date, and in/out times."})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx(nt,{htmlFor:"pod-file-upload",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select POD File"}),o.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md cursor-pointer hover:border-blue-500 transition-colors",onClick:()=>{var S;return(S=p.current)==null?void 0:S.click()},"data-testid":"driver-pod-upload-area",children:o.jsxs("div",{className:"space-y-1 text-center",children:[o.jsx(xy,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsxs("div",{className:"flex text-sm text-gray-600",children:[o.jsx("span",{className:"relative cursor-pointer rounded-md bg-white font-medium text-blue-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-500 focus-within:ring-offset-2 hover:text-blue-500",children:"Upload a file"}),o.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})}),o.jsx("input",{id:"pod-file-upload",ref:p,type:"file",className:"sr-only",onChange:g,accept:"image/png, image/jpeg, image/gif",disabled:c}),f&&o.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-md bg-gray-50",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(eh,{className:"h-5 w-5 text-blue-600 mr-2"}),o.jsx("span",{className:"text-sm font-medium text-gray-800 truncate",children:f.name})]}),o.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>h(null),disabled:c,children:o.jsx(Pi,{className:"h-4 w-4 text-red-500"})})]})]})}),o.jsxs(bs,{children:[o.jsx(Ns,{onClick:()=>y(!1),disabled:c,children:"Cancel"}),o.jsxs(Ss,{onClick:w,disabled:c||!f,children:[c?o.jsx(wt,{className:"h-4 w-4 animate-spin mr-2"}):null,"Upload POD"]})]})]})})},DB=({open:t,onOpenChange:e,job:r,stopId:n,currentProfile:s,onUploadSuccess:i,isLoading:c,setIsLoading:u})=>{const[f,h]=v.useState(null),p=v.useRef(null);v.useEffect(()=>{t&&(h(null),u(!1))},[t,u]);const g=S=>{var b;const _=(b=S.target.files)==null?void 0:b[0];_&&h(_)},w=async()=>{if(!f){le.error("Please select a file to upload.");return}if(!s||!s.org_id||!s.role){le.error("User profile or organization ID not found. Cannot upload image.");return}if(!r.order_number){le.error("Job order number is missing. Cannot generate filename.");return}u(!0);try{const S=f.name.split(".").pop(),_=`${s.org_id}/${r.id}/`,{data:b,error:N}=await Ze.storage.from("pods").list(_,{search:`${r.order_number}_image_`});if(N)throw N;const C=((b==null?void 0:b.length)||0)+1,E=`${r.order_number}_image_${C}.${S}`,k=`${_}${E}`,{data:A,error:T}=await Ze.storage.from("pods").upload(k,f,{upsert:!1});if(T)throw T;const{data:I}=Ze.storage.from("pods").getPublicUrl(k),L=I==null?void 0:I.publicUrl;if(!L)throw new Error("Failed to get public URL for uploaded file.");await QC(r.id,s.org_id,s.id,"document_uploaded",L,"image_uploaded",n),le.success("Image uploaded successfully!"),i(),e(!1)}catch(S){console.error("Error uploading image:",S),le.error(`Failed to upload image: ${S.message||String(S)}`)}finally{u(!1)}},y=S=>{S||(h(null),u(!1)),e(S)};return o.jsx(Gs,{open:t,onOpenChange:y,children:o.jsxs(xs,{className:"bg-[var(--saas-card-bg)] p-6 rounded-xl shadow-lg flex flex-col",children:[" ",o.jsxs(ws,{children:[o.jsx(_s,{className:"text-xl font-semibold text-gray-900",children:"Upload Optional Image"}),o.jsx(js,{children:"Upload an image related to this job or stop (e.g., paperwork, site conditions)."})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx(nt,{htmlFor:"image-file-upload",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Image File"}),o.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md cursor-pointer hover:border-blue-500 transition-colors",onClick:()=>{var S;return(S=p.current)==null?void 0:S.click()},children:o.jsxs("div",{className:"space-y-1 text-center",children:[o.jsx(xy,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsxs("div",{className:"flex text-sm text-gray-600",children:[o.jsx("span",{className:"relative cursor-pointer rounded-md bg-white font-medium text-blue-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-500 focus-within:ring-offset-2 hover:text-blue-500",children:"Upload a file"}),o.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})}),o.jsx("input",{id:"image-file-upload",ref:p,type:"file",className:"sr-only",onChange:g,accept:"image/png, image/jpeg, image/gif",disabled:c}),f&&o.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-md bg-gray-50",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(eh,{className:"h-5 w-5 text-blue-600 mr-2"}),o.jsx("span",{className:"text-sm font-medium text-gray-800 truncate",children:f.name})]}),o.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>h(null),disabled:c,children:o.jsx(Pi,{className:"h-4 w-4 text-red-500"})})]})]})}),o.jsxs(bs,{children:[o.jsx(Ns,{onClick:()=>y(!1),disabled:c,children:"Cancel"}),o.jsxs(Ss,{onClick:w,disabled:c||!f,children:[c?o.jsx(wt,{className:"h-4 w-4 animate-spin mr-2"}):null,"Upload Image"]})]})]})})},OB=(t,e,r,n)=>{if(t.status==="cancelled"||t.status==="delivered"||t.status==="pod_received")return null;if(t.status==="assigned"||t.status==="planned")return{label:rj.accepted,nextStatus:"accepted",stopId:"",promptLabel:nj.accepted,stopContext:"Job Acceptance"};const s=[...e].sort((u,f)=>u.seq-f.seq),i=s.filter(u=>u.type==="collection"),c=s.filter(u=>u.type==="delivery");for(const u of s){const f=r.filter(y=>y.stop_id===u.id);let h="pending";if(u.type==="collection")for(const y of ej)f.some(S=>S.action_type===y)&&(h=y);else for(const y of tj)f.some(S=>S.action_type===y)&&(h=y);let p,g;u.type==="collection"?g=ej:g=tj;const w=g.indexOf(h);if(w===-1)p=g[0];else if(w<g.length-1)p=g[w+1];else continue;if(p){let y=qt(u.name);const S=s.filter(b=>b.type===u.type).findIndex(b=>b.id===u.id)+1,_=u.type==="collection"?i.length:c.length;return _>1?y+=` (${u.type==="collection"?"Collection":"Delivery"} ${S}/${_})`:y+=` (${u.type==="collection"?"Collection":"Delivery"})`,{label:rj[p],nextStatus:p,stopId:u.id,promptLabel:nj[p],stopContext:y}}}return null},IB=({job:t,progressLogs:e,documents:r,currentProfile:n,currentOrgId:s,refetchJobData:i})=>{const[c,u]=v.useState(!1),[f,h]=v.useState(!1),p=v.useMemo(()=>e.filter(y=>y.actor_id===n.id).sort((y,S)=>cr(S.timestamp).getTime()-cr(y.timestamp).getTime()),[e,n.id]),g=v.useMemo(()=>r.filter(y=>y.job_id===t.id).sort((y,S)=>cr(S.created_at).getTime()-cr(y.created_at).getTime()),[r,t.id]),w=()=>{i(),h(!1)};return o.jsxs(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6 mb-6",children:[o.jsxs(vt,{className:"p-0 pb-4 text-center",children:[o.jsx(Ln,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),o.jsxs(yt,{className:"text-2xl font-bold text-gray-900",children:["Job: ",t.order_number," - Complete!"]}),o.jsx("p",{className:"text-gray-600",children:"All stops have been processed and the job is marked as delivered."})]}),o.jsxs(dt,{className:"p-0 pt-4 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Your Job Timeline"}),p.length===0?o.jsx("p",{className:"text-gray-600",children:"No progress events logged by you for this job."}):o.jsxs("div",{className:"relative pl-8",children:[o.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-0.5 bg-gray-200"}),p.map((y,S)=>o.jsxs("div",{className:"mb-6 relative",children:[o.jsx("div",{className:"absolute -left-3.5 top-0 flex items-center justify-center w-7 h-7 rounded-full bg-blue-600 text-white",children:o.jsx(fs,{size:16})}),o.jsxs("div",{className:"ml-4 p-3 bg-gray-50 rounded-lg shadow-sm",children:[" ",o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-sm font-medium text-gray-900",children:Pa(y.action_type)}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-xs text-gray-500",children:xt(cr(y.timestamp),"MMM dd, yyyy")}),o.jsx("p",{className:"text-sm font-bold text-gray-700",children:xt(cr(y.timestamp),"HH:mm")})]})]}),y.notes&&o.jsx("p",{className:"text-gray-800 text-sm",children:y.notes}),y.file_path&&o.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center",children:[o.jsx(eh,{className:"h-3 w-3 mr-1"}),"File: ",o.jsx("a",{href:y.file_path,target:"_blank",rel:"noopener noreferrer",className:"underline ml-1",children:y.file_path.split("/").pop()})]})]})]},y.id))]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"All Uploaded Files"}),o.jsxs(ue,{onClick:()=>u(!0),disabled:f,className:"w-full bg-blue-600 text-white hover:bg-blue-700 mb-4",children:[f?o.jsx(Loader2,{className:"h-4 w-4 animate-spin mr-2"}):o.jsx(xy,{className:"h-4 w-4 mr-2"}),"Upload Additional POD"]}),g.length===0?o.jsx("p",{className:"text-gray-600",children:"No files uploaded for this job yet."}):o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:g.map(y=>o.jsxs(et,{className:"p-3 shadow-sm rounded-md",children:[" ",o.jsxs("div",{className:"flex flex-col items-start mb-2",children:[o.jsx(eh,{className:"h-5 w-5 text-blue-600 mb-1"}),o.jsx("span",{className:"text-sm font-medium text-gray-900 truncate w-full",children:y.storage_path.split("/").pop()})]}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded: ",xt(cr(y.created_at),"MMM dd, HH:mm")]}),o.jsx(ue,{variant:"link",size:"sm",className:"p-0 h-auto text-blue-600",onClick:()=>window.open(y.storage_path,"_blank"),children:"View"})]},y.id))})]})]}),o.jsx(PP,{open:c,onOpenChange:u,job:t,currentProfile:n,onUploadSuccess:w,isLoading:f,setIsLoading:h})]})},MB=({job:t,stops:e,progressLogs:r,documents:n,currentProfile:s,currentOrgId:i,userRole:c,refetchJobData:u,driverActiveJobs:f})=>{const h=er(),[p,g]=v.useState(!1),[w,y]=v.useState(null),[S,_]=v.useState(!1),[b,N]=v.useState(!1),[C,E]=v.useState(!1),[k,A]=v.useState(!1);v.useEffect(()=>{if(t&&e&&r&&s){const Y=OB(t,e,r,s.id);y(Y)}},[t,e,r,s]);const T=async(Y,ee,ne,J)=>{const W=["on_route_collection","at_collection","loaded","on_route_delivery","at_delivery","delivered","pod_received"];if(W.includes(Y)&&f.filter(F=>F.id!==t.id&&W.includes(F.status)).length>0){le.error("You already have an active job in progress. Please complete or cancel it before starting another.");return}g(!0);try{const M={job_id:t.id,org_id:i,actor_id:s.id,actor_role:c,new_status:Y,timestamp:ee.toISOString(),notes:ne.trim()||void 0,stop_id:J};await Qy(M),u(),le.success(`${(w==null?void 0:w.label)||"Action"} logged successfully!`)}catch(M){throw console.error("Error updating job progress:",M),le.error(`Failed to log ${(w==null?void 0:w.label)||"action"}: ${M.message||String(M)}`),M}finally{g(!1)}},I=()=>{u(),le.success("POD uploaded successfully!")},L=()=>{u(),le.success("Image uploaded successfully!")},B=()=>{w&&(w.nextStatus==="pod_received"?N(!0):_(!0))},H=Y=>o.jsxs("div",{className:`p-4 shadow-sm rounded-md ${Y.type==="collection"?"border-l-4 border-blue-500":"border-l-4 border-green-500"}`,children:[o.jsx("div",{className:"flex items-center justify-between gap-2 mb-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($n,{className:`h-4 w-4 ${Y.type==="collection"?"text-blue-600":"text-green-600"}`}),o.jsxs("h4",{className:"font-semibold text-lg text-gray-900",children:[qt(Y.name)," (",Y.seq,")"]})]})}),o.jsx("p",{className:"text-gray-700",children:qt(Y.address_line1)}),Y.address_line2&&o.jsx("p",{className:"text-gray-700",children:qt(Y.address_line2)}),o.jsxs("p",{className:"text-gray-700",children:[qt(Y.city),", ",ur(Y.postcode)]}),(Y.window_from||Y.window_to)&&o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Window: ",Y.window_from||"Anytime"," - ",Y.window_to||"Anytime"]}),Y.notes&&o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Notes: ",Y.notes]})]},Y.id),X=w?e.find(Y=>Y.id===w.stopId):void 0,Q=t.status==="delivered"||t.status==="pod_received";return o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[" ",o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs(ue,{onClick:()=>h("/"),variant:"outline",className:"mb-6",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to Dashboard"]}),Q?o.jsx(IB,{job:t,progressLogs:r,documents:n,currentProfile:s,currentOrgId:i,refetchJobData:u}):o.jsxs(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6 mb-6",children:[o.jsx(vt,{className:"p-0 pb-4",children:o.jsxs(yt,{className:"text-2xl font-bold text-gray-900",children:["Job: ",t.order_number]})}),o.jsxs(dt,{className:"p-0 pt-4 space-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:"Notes:"}),o.jsx("p",{className:"text-gray-700",children:t.notes||"-"})]}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-4",children:"Job Progress"}),w?o.jsxs(o.Fragment,{children:[w.stopId&&o.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Next action for: ",o.jsx("span",{className:"font-medium text-gray-800",children:w.stopContext})]}),X&&H(X),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-4",children:[o.jsxs(ue,{onClick:B,disabled:p||k,className:"flex-1 bg-blue-600 text-white hover:bg-blue-700 text-lg py-3 h-auto","data-testid":"driver-next-action-btn",children:[p?o.jsx(wt,{className:"h-5 w-5 animate-spin mr-2"}):null,w.label]}),w.nextStatus!=="pod_received"&&o.jsxs(ue,{onClick:()=>E(!0),disabled:p||k,variant:"outline",className:"flex-1 text-gray-700 hover:bg-gray-100 text-lg py-3 h-auto",children:[k?o.jsx(wt,{className:"h-5 w-5 animate-spin mr-2"}):o.jsx(z1,{className:"h-5 w-5 mr-2"}),"Upload Image"]})]})]}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Ln,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),o.jsx("p",{className:"text-lg font-semibold text-gray-800",children:"Job Complete!"}),o.jsx("p",{className:"text-gray-600",children:"All stops have been processed."})]})]})]})]}),w&&w.nextStatus!=="pod_received"&&o.jsx(RB,{open:S,onOpenChange:_,title:`Log ${w.promptLabel}`,description:`Enter the date and time for the "${w.promptLabel}" action.`,actionLabel:`Log ${w.label}`,onSubmit:(Y,ee)=>T(w.nextStatus,Y,ee,w.stopId),isLoading:p}),w&&w.nextStatus==="pod_received"&&o.jsx(PP,{open:b,onOpenChange:N,job:t,stopId:w.stopId,currentProfile:s,onUploadSuccess:I,isLoading:p,setIsLoading:g}),o.jsx(DB,{open:C,onOpenChange:E,job:t,stopId:X==null?void 0:X.id,currentProfile:s,onUploadSuccess:L,isLoading:k,setIsLoading:A})]})},Bf=t=>{if(!t)return"";const e=t.replace(/[^0-9]/g,"");if(e.length===0)return"";if(e.length===1)return`0${e}:00`;if(e.length===2){const s=parseInt(e,10);return`${String(s).padStart(2,"0")}:00`}if(e.length===3){const s=parseInt(e.substring(0,2),10),i=parseInt(e.substring(2,3),10);return`${String(s).padStart(2,"0")}:${String(i).padStart(2,"0")}`}const r=parseInt(e.substring(0,2),10),n=parseInt(e.substring(2,4),10);return`${String(r).padStart(2,"0")}:${String(n).padStart(2,"0")}`},Mj=Oi({name:ut().optional().nullable(),address_line1:ut().min(1,{message:"Address line 1 is required."}),address_line2:ut().optional().nullable(),city:ut().min(1,{message:"City is required."}),postcode:ut().min(1,{message:"Postcode is required."}),window_from:ut().regex(/^([01]\d|2[0-3]):([0-5]\d)$/,{message:"Invalid time format (HH:MM)"}).optional().or(wa("")),window_to:ut().regex(/^([01]\d|2[0-3]):([0-5]\d)$/,{message:"Invalid time format (HH:MM)"}).optional().or(wa("")),notes:ut().optional().nullable()}),LB=Oi({order_number:ut().optional().or(wa("")),date_created:Cx({required_error:"Date Created is required."}),price:XE(t=>t===""?null:Number(t),ZE().min(0,{message:"Price must be non-negative."}).nullable().optional()),assigned_driver_id:ut().optional().nullable(),notes:ut().optional().nullable(),collections:Ch(Mj).min(0),deliveries:Ch(Mj).min(1,{message:"At least one delivery point is required."})}),AP=({onSubmit:t,drivers:e,defaultValues:r,isSubmitting:n=!1})=>{var S;const s=dd({resolver:fd(LB),defaultValues:r||{order_number:"",date_created:new Date,price:null,assigned_driver_id:null,notes:"",collections:[],deliveries:[]}});v.useEffect(()=>{r&&s.reset(r)},[r,s.reset]);const[i,c]=v.useState("");v.useEffect(()=>{const _=s.getValues("price");_!=null?c(_.toFixed(2)):c("")},[s.watch("price")]);const{fields:u,append:f,remove:h}=Zv({control:s.control,name:"collections"}),{fields:p,append:g,remove:w}=Zv({control:s.control,name:"deliveries"}),y=(_,b,N)=>{const C=`${b}.${_}`;s.setValue(`${C}.name`,N.name||Wk(N.line_1)),s.setValue(`${C}.address_line1`,N.line_1),s.setValue(`${C}.address_line2`,N.line_2),s.setValue(`${C}.city`,N.town_or_city),s.setValue(`${C}.county`,N.county),s.setValue(`${C}.postcode`,N.postcode),s.trigger(`${C}.address_line1`),s.trigger(`${C}.city`),s.trigger(`${C}.postcode`)};return o.jsx(hd,{...s,children:o.jsxs("form",{onSubmit:s.handleSubmit(t),className:"space-y-6",children:[o.jsxs(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6",children:[o.jsx(vt,{className:"p-0 pb-4",children:o.jsx(yt,{className:"text-xl font-semibold text-gray-900",children:"Job Details"})}),o.jsxs(dt,{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-0 pt-4",children:[o.jsx(Ye,{control:s.control,name:"order_number",render:({field:_})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Order Number (Optional)"}),o.jsx(ze,{children:o.jsx(De,{placeholder:"Leave blank for auto-generate, or enter ORDER-XXX",..._,value:_.value||"",disabled:n})}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:s.control,name:"date_created",render:({field:_})=>o.jsxs(Be,{className:"flex flex-col",children:[o.jsx(Ve,{className:"text-gray-700",children:"Date Created"}),o.jsxs(Po,{children:[o.jsx(Ao,{asChild:!0,children:o.jsx(ze,{children:o.jsxs(ue,{variant:"outline",className:fe("w-full pl-3 text-left font-normal",!_.value&&"text-muted-foreground"),disabled:n,children:[_.value?xt(_.value,"PPP"):o.jsx("span",{children:"Pick a date"}),o.jsx(_a,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),o.jsx(Ea,{className:"w-auto p-0 bg-[var(--saas-card-bg)] shadow-sm rounded-xl",align:"start",children:o.jsx(To,{mode:"single",selected:_.value,onSelect:_.onChange,initialFocus:!0})})]}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:s.control,name:"price",render:({field:_})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Price (GBP)"}),o.jsx(ze,{children:o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),o.jsx(De,{type:"text",placeholder:"0.00",value:i,onChange:b=>{const N=b.target.value;c(N)},onBlur:()=>{const b=Hk(i);_.onChange(b),c(b!==null?b.toFixed(2):""),_.onBlur()},className:"pl-7",disabled:n})]})}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:s.control,name:"assigned_driver_id",render:({field:_})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Assign Driver (Optional)"}),o.jsxs(Un,{onValueChange:_.onChange,value:_.value||"",disabled:n,children:[o.jsx(ze,{children:o.jsx(jn,{children:o.jsx(Bn,{placeholder:"Select a driver"})})}),o.jsxs(Sn,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl",children:[o.jsx(Ft,{value:"null",children:"Unassigned"}),e.map(b=>o.jsxs(Ft,{value:b.id,children:[b.full_name," (",b.truck_reg||"N/A",")"]},b.id))]})]}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:s.control,name:"notes",render:({field:_})=>o.jsxs(Be,{className:"md:col-span-2",children:[o.jsx(Ve,{className:"text-gray-700",children:"Notes (Optional)"}),o.jsx(ze,{children:o.jsx(Vn,{placeholder:"Any general notes for this job...",..._,value:_.value||"",disabled:n})}),o.jsx(Ue,{})]})})]})]}),o.jsxs(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6",children:[o.jsxs(vt,{className:"flex flex-row items-center justify-between p-0 pb-4",children:[o.jsx(yt,{className:"text-xl font-semibold text-gray-900",children:"Collection Points"}),o.jsxs(ue,{type:"button",variant:"outline",size:"sm",onClick:()=>f({name:"",address_line1:"",city:"",postcode:"",window_from:"",window_to:""}),disabled:n,children:[o.jsx(qs,{className:"h-4 w-4 mr-2"})," Add Collection"]})]}),o.jsxs(dt,{className:"space-y-4 p-0 pt-4",children:[u.map((_,b)=>o.jsxs(et,{className:"p-4 border-l-4 border-blue-500 bg-gray-50 shadow-sm rounded-md",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsxs("h4",{className:"font-semibold text-lg text-gray-900",children:["Collection #",b+1]}),o.jsxs(ue,{type:"button",variant:"destructive",size:"sm",onClick:()=>h(b),disabled:n,children:[o.jsx(hs,{className:"h-4 w-4"})," Remove"]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx(Ye,{control:s.control,name:`collections.${b}.name`,render:({field:N})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Name (Optional)"}),o.jsx(ze,{children:o.jsx(ly,{placeholder:"e.g., Supplier Warehouse",value:N.value||"",onValueChange:N.onChange,onAddressSelect:C=>y(b,"collections",C),disabled:n})}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:s.control,name:`collections.${b}.address_line1`,render:({field:N})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Address Line 1"}),o.jsx(ze,{children:o.jsx(De,{placeholder:"e.g., 123 High Street",...N,disabled:n})}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:s.control,name:`collections.${b}.address_line2`,render:({field:N})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Address Line 2 (Optional)"}),o.jsx(ze,{children:o.jsx(De,{placeholder:"e.g., Unit 4",...N,disabled:n})}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:s.control,name:`collections.${b}.city`,render:({field:N})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"City"}),o.jsx(ze,{children:o.jsx(De,{placeholder:"e.g., London",...N,disabled:n})}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:s.control,name:`collections.${b}.postcode`,render:({field:N})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Postcode"}),o.jsx("div",{className:"flex gap-2",children:o.jsx(ze,{children:o.jsx(De,{placeholder:"e.g., SW1A 0AA",...N,value:ur(N.value),onBlur:C=>{N.onChange(ur(C.target.value)),N.onBlur()},disabled:n})})}),o.jsx(Ue,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Ye,{control:s.control,name:`collections.${b}.window_from`,render:({field:N})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Window From (HH:MM)"}),o.jsx(ze,{children:o.jsx(De,{placeholder:"e.g., 09:00",...N,onBlur:C=>{N.onChange(Bf(C.target.value)),N.onBlur()},disabled:n})}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:s.control,name:`collections.${b}.window_to`,render:({field:N})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Window To (HH:MM)"}),o.jsx(ze,{children:o.jsx(De,{placeholder:"e.g., 12:00",...N,onBlur:C=>{N.onChange(Bf(C.target.value)),N.onBlur()},disabled:n})}),o.jsx(Ue,{})]})})]}),o.jsx(Ye,{control:s.control,name:`collections.${b}.notes`,render:({field:N})=>o.jsxs(Be,{className:"sm:col-span-2",children:[o.jsx(Ve,{className:"text-gray-700",children:"Notes / Reference"}),o.jsx(ze,{children:o.jsx(Vn,{placeholder:"Any specific instructions for this stop...",...N,value:N.value||"",disabled:n})}),o.jsx(Ue,{})]})})]})]},_.id)),u.length===0&&o.jsx("p",{className:"text-gray-600 text-center",children:"No collection points added yet."})]})]}),o.jsxs(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6",children:[o.jsxs(vt,{className:"flex flex-row items-center justify-between p-0 pb-4",children:[o.jsx(yt,{className:"text-xl font-semibold text-gray-900",children:"Delivery Points"}),o.jsxs(ue,{type:"button",variant:"outline",size:"sm",onClick:()=>g({name:"",address_line1:"",city:"",postcode:"",window_from:"",window_to:""}),disabled:n,children:[o.jsx(qs,{className:"h-4 w-4 mr-2"})," Add Delivery"]})]}),o.jsxs(dt,{className:"space-y-4 p-0 pt-4",children:[p.map((_,b)=>o.jsxs(et,{className:"p-4 border-l-4 border-green-500 bg-gray-50 shadow-sm rounded-md",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsxs("h4",{className:"font-semibold text-lg text-gray-900",children:["Delivery #",b+1]}),o.jsxs(ue,{type:"button",variant:"destructive",size:"sm",onClick:()=>w(b),disabled:n,children:[o.jsx(hs,{className:"h-4 w-4"})," Remove"]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx(Ye,{control:s.control,name:`deliveries.${b}.name`,render:({field:N})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Name (Optional)"}),o.jsx(ze,{children:o.jsx(ly,{placeholder:"e.g., Customer Site",value:N.value||"",onValueChange:N.onChange,onAddressSelect:C=>y(b,"deliveries",C),disabled:n})}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:s.control,name:`deliveries.${b}.address_line1`,render:({field:N})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Address Line 1"}),o.jsx(ze,{children:o.jsx(De,{placeholder:"e.g., 123 High Street",...N,disabled:n})}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:s.control,name:`deliveries.${b}.address_line2`,render:({field:N})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Address Line 2 (Optional)"}),o.jsx(ze,{children:o.jsx(De,{placeholder:"e.g., Loading Bay",...N,disabled:n})}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:s.control,name:`deliveries.${b}.city`,render:({field:N})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"City"}),o.jsx(ze,{children:o.jsx(De,{placeholder:"e.g., Manchester",...N,disabled:n})}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:s.control,name:`deliveries.${b}.postcode`,render:({field:N})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Postcode"}),o.jsx("div",{className:"flex gap-2",children:o.jsx(ze,{children:o.jsx(De,{placeholder:"e.g., M1 1AA",...N,value:ur(N.value),onBlur:C=>{N.onChange(ur(C.target.value)),N.onBlur()},disabled:n})})}),o.jsx(Ue,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Ye,{control:s.control,name:`deliveries.${b}.window_from`,render:({field:N})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Window From (HH:MM)"}),o.jsx(ze,{children:o.jsx(De,{placeholder:"e.g., 14:00",...N,onBlur:C=>{N.onChange(Bf(C.target.value)),N.onBlur()},disabled:n})}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:s.control,name:`deliveries.${b}.window_to`,render:({field:N})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Window To (HH:MM)"}),o.jsx(ze,{children:o.jsx(De,{placeholder:"e.g., 17:00",...N,onBlur:C=>{N.onChange(Bf(C.target.value)),N.onBlur()},disabled:n})}),o.jsx(Ue,{})]})})]}),o.jsx(Ye,{control:s.control,name:`deliveries.${b}.notes`,render:({field:N})=>o.jsxs(Be,{className:"sm:col-span-2",children:[o.jsx(Ve,{className:"text-gray-700",children:"Notes / Reference"}),o.jsx(ze,{children:o.jsx(Vn,{placeholder:"Any specific instructions for this stop...",...N,value:N.value||"",disabled:n})}),o.jsx(Ue,{})]})})]})]},_.id)),p.length===0&&o.jsx("p",{className:"text-gray-600 text-center",children:"No delivery points added yet."}),o.jsx(Ue,{children:(S=s.formState.errors.deliveries)==null?void 0:S.message})]})]}),o.jsx(ue,{type:"submit",className:"w-full bg-blue-600 text-white hover:bg-blue-700",disabled:n,children:n?o.jsxs("span",{className:"flex items-center",children:[o.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"})," Creating Job..."]}):"Create Job"})]})})},$B=({open:t,onOpenChange:e,originalJob:r,originalStops:n,onCloneSuccess:s})=>{const{user:i,profile:c,userRole:u,isLoadingAuth:f}=tr(),h=cd(),[p,g]=v.useState(!1),w=(c==null?void 0:c.org_id)||"demo-tenant-id",y=c,S=u==="admin"||u==="office",{data:_=[],isLoading:b}=ya({queryKey:["profiles",w,u],queryFn:()=>Ra(w,u),staleTime:300*1e3,enabled:S&&!!i&&!!y&&!f&&t}),N=_.filter(k=>k.role==="driver"),C=ie.useMemo(()=>{if(r)return{order_number:"",date_created:new Date,price:r.price,assigned_driver_id:r.assigned_driver_id||null,notes:r.notes,collections:n.filter(k=>k.type==="collection").map(k=>({name:k.name||"",address_line1:k.address_line1,address_line2:k.address_line2||null,city:k.city,postcode:k.postcode,window_from:k.window_from||"",window_to:k.window_to||"",notes:k.notes||null})),deliveries:n.filter(k=>k.type==="delivery").map(k=>({name:k.name||"",address_line1:k.address_line1,address_line2:k.address_line2||null,city:k.city,postcode:k.postcode,window_from:k.window_from||"",window_to:k.window_to||"",notes:k.notes||null}))}},[r,n]),E=async k=>{if(!y||!u){le.error("User profile or role not found. Cannot clone job.");return}g(!0);try{const A=k.assigned_driver_id&&k.assigned_driver_id!=="null"?"accepted":"planned",T={order_number:k.order_number||null,status:A,date_created:k.date_created.toISOString().split("T")[0],price:k.price,assigned_driver_id:k.assigned_driver_id==="null"?null:k.assigned_driver_id,notes:k.notes},I=[...k.collections,...k.deliveries].map((B,H)=>({...B,type:H<k.collections.length?"collection":"delivery",seq:H+1})),L=JC(w,T,I,y.id,u);le.promise(L,{loading:"Cloning job...",success:B=>(h.invalidateQueries({queryKey:["jobs"]}),s(B.order_number),e(!1),`Job ${B.order_number} cloned successfully!`),error:B=>`Failed to clone job: ${B.message||String(B)}`})}catch(A){console.error("Error cloning job:",A),le.error("An unexpected error occurred while cloning the job.")}finally{g(!1)}};return f||b?o.jsx(Aa,{open:t,onOpenChange:e,children:o.jsxs(Js,{className:"flex flex-col",children:[o.jsx(Qs,{children:o.jsx(Zs,{className:"text-xl font-semibold text-gray-900",children:"Clone Job"})}),o.jsxs("div",{className:"flex-1 flex items-center justify-center p-4",children:[o.jsx(wt,{className:"h-8 w-8 animate-spin text-blue-600"}),o.jsx("p",{className:"ml-2 text-gray-700",children:"Loading data..."})]})]})}):!i||!S?null:o.jsx(Aa,{open:t,onOpenChange:e,children:o.jsxs(Js,{className:"flex flex-col",children:[o.jsxs(Qs,{children:[o.jsxs(Zs,{className:"text-xl font-semibold text-gray-900",children:["Clone Job: ",r.order_number]}),o.jsx(Ri,{children:"Edit the details below to create a new job based on this one."})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:C&&o.jsx(AP,{onSubmit:E,drivers:N,defaultValues:C,isSubmitting:p})})]})})},FB=()=>{const{orderNumber:t}=i1(),e=er(),{user:r,profile:n,userRole:s,isLoadingAuth:i}=tr(),c=cd(),[u,f]=v.useState(!1),[h,p]=v.useState(!1),[g,w]=v.useState(!1),[y,S]=v.useState(!1),_=(n==null?void 0:n.org_id)||"demo-tenant-id",b=n,{data:N=[],isLoading:C,error:E}=ya({queryKey:["profiles",_,s],queryFn:()=>Ra(_,s),staleTime:300*1e3,enabled:!!r&&!!b&&!i&&!!s}),{data:k,isLoading:A,error:T,refetch:I}=ya({queryKey:["jobDetail",t,s],queryFn:async()=>{if(!t||!_||!b||!s)throw new Error("Missing job order number, organization ID, current profile, or user role.");const R=await JF(_,t,s);if(!R)throw new Error("Job not found or you don't have permission to view it.");const Z=await QF(_,R.id),z=await GC(_,R.id),U=await ZF(_,R.id);return{job:R,stops:Z,documents:z,progressLogs:U}},enabled:!!t&&!0&&!!b&&!!s&&!i,retry:!1}),L=k==null?void 0:k.job,B=(k==null?void 0:k.stops)||[],H=(k==null?void 0:k.documents)||[],X=(k==null?void 0:k.progressLogs)||[],Q=i||C||A,Y=E||T,ee=async()=>{if(!L||!b||!s)return;const R=e5(L.id,_,b.id,s);le.promise(R,{loading:"Requesting POD...",success:"POD request sent to driver!",error:"Failed to request POD."}),await R,I()},ne=async()=>{if(!L||!b)return;const R=t5(L.id,_,b.id);le.promise(R,{loading:"Generating PDF...",success:Z=>Z?(window.open(Z,"_blank"),"PDF generated and opened in new tab!"):"PDF generated, but no URL returned.",error:"Failed to generate PDF."})},J=()=>{if(!L){le.error("No job data available to clone.");return}S(!0)},W=R=>{e(`/jobs/${R}`)},D=async()=>{if(!L||!b||!s)return;const R=r5(L.id,_,b.id,s);le.promise(R,{loading:"Cancelling job...",success:"Job cancelled successfully!",error:"Failed to cancel job."}),await R,I()},M=async R=>{if(!L||!b||!s){le.error("Job or user profile/role not found. Cannot update job.");return}f(!0);try{const Z=new Map(B.map(Ce=>Ce.id?[Ce.id,Ce]:[])),z=[...R.collections,...R.deliveries],U=z.filter(Ce=>!Ce.id),de=z.filter(Ce=>Ce.id&&Z.has(Ce.id)),ae=B.filter(Ce=>!z.some(We=>We.id===Ce.id)).map(Ce=>Ce.id),me={order_number:R.order_number||null,date_created:R.date_created.toISOString().split("T")[0],price:R.price,assigned_driver_id:R.assigned_driver_id==="null"?null:R.assigned_driver_id,notes:R.notes,status:R.status},ve={job_id:L.id,org_id:_,actor_id:b.id,actor_role:s,job_updates:me,stops_to_add:U.map((Ce,We)=>({...Ce,seq:We+1})),stops_to_update:de.map((Ce,We)=>({...Ce,seq:We+1})),stops_to_delete:ae},je=Rv(ve);le.promise(je,{loading:"Updating job...",success:"Job updated successfully!",error:Ce=>`Failed to update job: ${Ce.message}`}),await je,c.invalidateQueries({queryKey:["jobs"]}),I()}catch(Z){console.error("Error updating job:",Z),le.error("An unexpected error occurred while updating the job.")}finally{f(!1)}},F=async R=>{if(!L||!b||!s){le.error("Job or user profile/role not found. Cannot assign driver.");return}p(!0);try{const Z={assigned_driver_id:R},z={job_id:L.id,org_id:_,actor_id:b.id,actor_role:s,job_updates:Z},U=Rv(z);le.promise(U,{loading:R?"Assigning driver...":"Unassigning driver...",success:R?"Driver assigned successfully!":"Driver unassigned successfully!",error:de=>`Failed to assign driver: ${de.message}`}),await U,c.invalidateQueries({queryKey:["jobs"]}),I()}catch(Z){console.error("Error assigning driver:",Z),le.error("An unexpected error occurred while assigning the driver.")}finally{p(!1)}},O=async R=>{if(!L||!b||!s||R.length===0){le.error("No status updates to log.");return}w(!0);try{const Z=[...R].sort((z,U)=>z.dateTime.getTime()-U.dateTime.getTime());for(const z of Z){const U={job_id:L.id,org_id:_,actor_id:b.id,actor_role:s,new_status:z.status,timestamp:z.dateTime.toISOString(),notes:z.notes.trim()||void 0};await updateJobProgress(U)}le.success("Job progress updated successfully!"),c.invalidateQueries({queryKey:["jobs"]}),I()}catch(Z){throw console.error("Error updating job progress:",Z),le.error("An unexpected error occurred while updating job progress."),Z}finally{w(!1)}};return Q?o.jsxs("div",{className:"flex items-center justify-center bg-[var(--saas-background)]",children:[o.jsx(wt,{className:"h-8 w-8 animate-spin text-blue-600"}),o.jsx("p",{className:"ml-2 text-gray-700",children:"Loading job details..."})]}):Y?o.jsxs("div",{className:"flex flex-col items-center justify-center bg-[var(--saas-background)] p-4",children:[o.jsxs("p",{className:"text-red-500 text-lg mb-4",children:["Error: ",Y.message]}),o.jsxs(ue,{onClick:()=>e("/"),variant:"outline",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to Dashboard"]})]}):L?s==="driver"?o.jsx(MB,{job:L,stops:B,progressLogs:X,documents:H,currentProfile:b,currentOrgId:_,userRole:s,refetchJobData:I}):o.jsx("div",{className:"w-full",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs(ue,{onClick:()=>e("/"),variant:"outline",className:"mb-6",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to Dashboard"]}),o.jsxs(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6 mb-6",children:[o.jsx(wB,{job:L,stops:B,allProfiles:N,userRole:s,currentProfile:b,currentOrgId:_,onEditSubmit:M,onAssignDriver:F,onUpdateProgress:O,onRequestPod:ee,onExportPdf:ne,onCloneJob:J,onCancelJob:D,isSubmittingEdit:u,isAssigningDriver:h,isUpdatingProgress:g}),o.jsx(bB,{job:L,stops:B,allProfiles:N})]}),o.jsx(TB,{progressLogs:X,allProfiles:N,stops:B,documents:H,currentOrgId:_,onLogVisibilityChange:I}),L&&o.jsx($B,{open:y,onOpenChange:S,originalJob:L,originalStops:B,onCloneSuccess:W})]})}):o.jsxs("div",{className:"flex flex-col items-center justify-center bg-[var(--saas-background)] p-4",children:[o.jsx("p",{className:"text-gray-700 text-lg mb-4",children:"No job found."}),o.jsxs(ue,{onClick:()=>e("/"),variant:"outline",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to Dashboard"]})]})},UB=()=>{const t=er(),{user:e,profile:r,userRole:n,isLoadingAuth:s}=tr(),i=cd(),c=(r==null?void 0:r.org_id)||"demo-tenant-id",u=r,f=n==="admin"||n==="office";v.useEffect(()=>{s||(!e||!f)&&(le.error("You do not have permission to access this page."),t("/"))},[e,f,t,s]);const{data:h=[],isLoading:p,error:g}=ya({queryKey:["profiles",c,n],queryFn:()=>Ra(c,n),staleTime:300*1e3,enabled:f&&!!e&&!!u&&!s}),w=h.filter(b=>b.role==="driver"),y=async b=>{if(!u||!n){le.error("User profile or role not found. Cannot create job.");return}try{const N=b.assigned_driver_id&&b.assigned_driver_id!=="null"?"accepted":"planned",C={order_number:b.order_number||null,status:N,date_created:b.date_created.toISOString().split("T")[0],price:b.price,assigned_driver_id:b.assigned_driver_id==="null"?null:b.assigned_driver_id,notes:b.notes},E=[...b.collections,...b.deliveries].map((A,T)=>({...A,type:T<b.collections.length?"collection":"delivery",seq:T+1})),k=JC(c,C,E,u.id,n);le.promise(k,{loading:"Creating job...",success:A=>(i.invalidateQueries({queryKey:["jobs"]}),t(`/jobs/${A.order_number}`),`Job ${A.order_number} created successfully!`),error:"Failed to create job."})}catch(N){console.error("Error creating job:",N),le.error("An unexpected error occurred while creating the job.")}},S=s||p,_=g;return S?o.jsxs("div",{className:"flex items-center justify-center bg-[var(--saas-background)]",children:[o.jsx(wt,{className:"h-8 w-8 animate-spin text-blue-600"}),o.jsx("p",{className:"ml-2 text-gray-700",children:"Loading job creation data..."})]}):_?o.jsxs("div",{className:"flex flex-col items-center justify-center bg-[var(--saas-background)] p-4",children:[o.jsxs("p",{className:"text-red-500 text-lg mb-4",children:["Error loading data: ",_.message]}),o.jsxs(ue,{onClick:()=>t("/"),variant:"outline",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to Dashboard"]})]}):!e||!f?null:o.jsx("div",{className:"w-full",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsxs(ue,{onClick:()=>{t("/")},variant:"outline",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to Dashboard"]})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Create New Job"}),o.jsx(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6",children:o.jsxs(dt,{className:"p-0",children:[o.jsx(AP,{onSubmit:y,drivers:w})," "]})})]})})};var Kf={exports:{}},BB=Kf.exports,Lj;function VB(){return Lj||(Lj=1,(function(t,e){(function(r,n){t.exports=n()})(BB,(function(){var r="week",n="year";return function(s,i,c){var u=i.prototype;u.week=function(f){if(f===void 0&&(f=null),f!==null)return this.add(7*(f-this.week()),"day");var h=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var p=c(this).startOf(n).add(1,n).date(h),g=c(this).endOf(r);if(p.isBefore(g))return 1}var w=c(this).startOf(n).date(h).startOf(r).subtract(1,"millisecond"),y=this.diff(w,r,!0);return y<0?c(this).startOf("week").week():Math.ceil(y)},u.weeks=function(f){return f===void 0&&(f=null),this.week(f)}}}))})(Kf)),Kf.exports}var zB=VB();const WB=nc(zB);Tl.extend(WB);const HB=({open:t,onOpenChange:e,driver:r,allJobs:n,currentOrgId:s,onJobView:i})=>{const{userRole:c}=tr(),[u,f]=v.useState([]),[h,p]=v.useState(!0),[g,w]=v.useState(null);v.useEffect(()=>{if(!t||!r.id||!s||!c){f([]),p(!1);return}(async()=>{p(!0),w(null);try{const A=n.filter(T=>T.assigned_driver_id===r.id);f(A)}catch(A){console.error("Failed to fetch driver's jobs:",A),w(A.message||"Failed to load driver's jobs.")}finally{p(!1)}})()},[t,r.id,n,s,c]);const y=r.full_name.split(" ").map(k=>k[0]).join("").substring(0,2).toUpperCase(),S="N/A",_=v.useMemo(()=>u.filter(k=>["delivered","pod_received"].includes(k.status)),[u]),b=k=>{const A=Tl();return _.reduce((T,I)=>{const L=Tl(I.date_created);let B=!1;return(k==="today"&&L.isSame(A,"day")||k==="week"&&L.isSame(A,"week")||k==="month"&&L.isSame(A,"month"))&&(B=!0),T+(B&&typeof I.price=="number"?I.price:0)},0)},N=b("today"),C=b("week"),E=b("month");return o.jsx(Aa,{open:t,onOpenChange:e,children:o.jsxs(Js,{className:"w-[90vw] h-[80vh] max-w-5xl bg-white rounded-xl shadow-lg flex flex-col p-6",children:[o.jsxs(Qs,{className:"pb-4 border-b border-gray-200",children:[o.jsxs(Zs,{className:"text-2xl font-bold text-gray-900",children:["Driver Details: ",r.full_name]}),o.jsxs(Ri,{children:["Comprehensive overview of ",r.full_name,"'s profile and activity."]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto pt-4 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs(et,{className:"lg:col-span-1 bg-gray-50 shadow-sm rounded-xl p-4",children:[o.jsxs(vt,{className:"p-0 pb-3 flex flex-row items-center gap-3",children:[o.jsx(ja,{className:"h-12 w-12",children:o.jsx(Sa,{className:"bg-blue-100 text-blue-600 text-xl font-medium",children:y})}),o.jsx(yt,{className:"text-xl font-semibold text-gray-900",children:r.full_name})]}),o.jsxs(dt,{className:"p-0 pt-3 space-y-2 text-sm text-gray-700",children:[o.jsxs("p",{className:"flex items-center gap-2",children:[o.jsx(Wu,{className:"h-4 w-4 text-gray-500"})," Role: ",o.jsx(xa,{variant:"secondary",className:"capitalize",children:r.role})]}),o.jsxs("p",{className:"flex items-center gap-2",children:[o.jsx(_a,{className:"h-4 w-4 text-gray-500"})," DOB: ",r.dob?xt(cr(r.dob),"PPP"):"N/A"]}),o.jsxs("p",{className:"flex items-center gap-2",children:[o.jsx(Y1,{className:"h-4 w-4 text-gray-500"})," Phone: ",r.phone||"N/A"]}),o.jsxs("p",{className:"flex items-center gap-2",children:[o.jsx(Oh,{className:"h-4 w-4 text-gray-500"})," Email: ",S]}),o.jsxs("p",{className:"flex items-center gap-2",children:[o.jsx(Mr,{className:"h-4 w-4 text-gray-500"})," Vehicle Reg: ",r.truck_reg||"N/A"]}),o.jsxs("p",{className:"flex items-center gap-2",children:[o.jsx(Mr,{className:"h-4 w-4 text-gray-500"})," Trailer No: ",r.trailer_no||"N/A"]}),o.jsxs("p",{className:"flex items-center gap-2",children:[o.jsx(fs,{className:"h-4 w-4 text-gray-500"})," Last Job Status: ",o.jsx(xa,{variant:"outline",className:"capitalize",children:r.last_job_status||"N/A"})]})]})]}),o.jsxs(et,{className:"lg:col-span-2 bg-gray-50 shadow-sm rounded-xl p-4",children:[o.jsx(vt,{className:"p-0 pb-3",children:o.jsxs(yt,{className:"text-xl font-semibold text-gray-900",children:["Current Jobs (",u.filter(k=>!["delivered","pod_received","cancelled"].includes(k.status)).length,")"]})}),o.jsx(dt,{className:"p-0 pt-3 space-y-3 text-sm text-gray-700",children:h?o.jsxs("div",{className:"flex items-center justify-center py-4",children:[o.jsx(wt,{className:"h-5 w-5 animate-spin text-blue-600 mr-2"})," Loading jobs..."]}):g?o.jsxs("p",{className:"text-red-500",children:["Error loading jobs: ",g]}):u.filter(k=>!["delivered","pod_received","cancelled"].includes(k.status)).length===0?o.jsx("p",{className:"text-gray-600",children:"No active jobs currently assigned."}):o.jsx("div",{className:"space-y-3",children:u.filter(k=>!["delivered","pod_received","cancelled"].includes(k.status)).map(k=>o.jsxs("div",{className:"flex flex-col p-3 border border-gray-200 rounded-md bg-white",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsxs("span",{className:"font-medium text-gray-900",children:["Order: ",k.order_number]}),o.jsx(xa,{variant:"secondary",className:"capitalize",children:k.status})]}),o.jsxs("p",{className:"text-xs text-gray-600 flex items-center gap-1",children:[o.jsx($n,{className:"h-3 w-3"}),k.collection_city&&k.collection_postcode?`${qt(k.collection_city)}, ${ur(k.collection_postcode)}`:"N/A",o.jsx(U1,{className:"h-3 w-3 mx-1"}),k.delivery_city&&k.delivery_postcode?`${qt(k.delivery_city)}, ${ur(k.delivery_postcode)}`:"N/A"]}),o.jsx(ue,{variant:"link",size:"sm",className:"self-end p-0 h-auto text-blue-600",onClick:()=>i(k.order_number),children:"View Job"})]},k.id))})})]}),o.jsxs(et,{className:"lg:col-span-1 bg-gray-50 shadow-sm rounded-xl p-4",children:[o.jsx(vt,{className:"p-0 pb-3",children:o.jsx(yt,{className:"text-xl font-semibold text-gray-900",children:"Current Location"})}),o.jsx(dt,{className:"p-0 pt-3 text-sm text-gray-700",children:r.last_location?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{className:"flex items-center gap-2",children:[o.jsx($n,{className:"h-4 w-4 text-gray-500"})," Lat: ",r.last_location.lat.toFixed(4),", Lon: ",r.last_location.lon.toFixed(4)]}),o.jsxs("p",{className:"text-xs text-gray-600 ml-6",children:["Last updated: ",xt(cr(r.last_location.timestamp),"PPP HH:mm")]}),o.jsx("div",{className:"w-full h-32 bg-gray-200 rounded-md flex items-center justify-center text-gray-500",children:"Placeholder Map"})]}):o.jsx("p",{className:"text-gray-600",children:"Location data not available."})})]}),o.jsxs(et,{className:"lg:col-span-2 bg-gray-50 shadow-sm rounded-xl p-4",children:[o.jsx(vt,{className:"p-0 pb-3",children:o.jsx(yt,{className:"text-xl font-semibold text-gray-900",children:"Performance Summary"})}),o.jsxs(dt,{className:"p-0 pt-3 grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm text-gray-700",children:[o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white rounded-md shadow-sm",children:[o.jsx(yI,{className:"h-5 w-5 text-green-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:"Revenue Today"}),o.jsx("p",{className:"text-lg font-bold text-green-700",children:Og(N)})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white rounded-md shadow-sm",children:[o.jsx(mI,{className:"h-5 w-5 text-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:"Revenue This Week"}),o.jsx("p",{className:"text-lg font-bold text-blue-700",children:Og(C)})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white rounded-md shadow-sm",children:[o.jsx(_a,{className:"h-5 w-5 text-purple-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:"Revenue This Month"}),o.jsx("p",{className:"text-lg font-bold text-purple-700",children:Og(E)})]})]})]})]})]})]})})},qB=({driver:t,jobsAssignedCount:e,onViewDetails:r})=>{const n=t.full_name.split(" ").map(i=>i[0]).join("").substring(0,2).toUpperCase(),s=e>0;return o.jsxs(et,{className:fe("relative overflow-hidden rounded-xl shadow-lg p-4 bg-gradient-to-br from-blue-50 to-indigo-100","hover:shadow-2xl hover:scale-[1.02] transition-all duration-300 ease-in-out","flex flex-col justify-between max-w-sm w-full"),children:[o.jsx("div",{className:"absolute top-[-20px] left-[-20px] w-24 h-24 bg-blue-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse-slow sm:block hidden"}),o.jsx("div",{className:"absolute bottom-[-30px] right-[-30px] w-32 h-32 bg-indigo-200 rounded-full mix-blend-multiply filter blur-3xl opacity-25 animate-pulse-slower sm:block hidden"}),o.jsx("div",{className:"absolute top-[50%] left-[50%] w-20 h-20 bg-violet-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-pulse-slow sm:block hidden"}),o.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[o.jsxs(vt,{className:"flex flex-row items-center justify-between p-0 pb-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ja,{className:"h-10 w-10",children:o.jsx(Sa,{className:"bg-blue-100 text-blue-600 text-base font-medium",children:n})}),o.jsx(yt,{className:"text-lg font-bold text-gray-900",children:t.full_name})]}),o.jsx(xa,{variant:s?"default":"secondary",className:fe("capitalize",s?"bg-green-500 text-white hover:bg-green-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:s?"Active":"Off Duty"})]}),o.jsxs(dt,{className:"p-0 pt-3 space-y-2 text-sm text-gray-700 flex-grow",children:[o.jsxs("p",{className:"flex items-center gap-2",children:[o.jsx(Y1,{className:"h-4 w-4 text-gray-500"})," ",t.phone||"N/A"]}),o.jsxs("p",{className:"flex items-center gap-2",children:[o.jsx(Mr,{className:"h-4 w-4 text-gray-500"})," ",t.truck_reg||"N/A"," ",t.trailer_no?`(Trailer: ${t.trailer_no})`:""]}),o.jsxs("p",{className:"flex items-center gap-2",children:[o.jsx(B1,{className:"h-4 w-4 text-gray-500"})," Jobs Assigned: ",e]})]}),o.jsx("div",{className:"relative z-10 pt-4 border-t border-gray-200 mt-auto",children:o.jsxs(ue,{onClick:()=>r(t),className:"w-full bg-blue-600 text-white hover:bg-blue-700",children:[o.jsx(U1,{className:"h-4 w-4 mr-2"})," View Details"]})})]})]})},YB=()=>{const t=er(),{user:e,profile:r,userRole:n,isLoadingAuth:s}=tr(),[i,c]=v.useState([]),[u,f]=v.useState([]),[h,p]=v.useState(!0),[g,w]=v.useState(null),[y,S]=v.useState(""),[_,b]=v.useState(null),[N,C]=v.useState(!1),E=(r==null?void 0:r.org_id)||"demo-tenant-id",k=n==="admin"||n==="office",A=async()=>{if(!e||!r){p(!1);return}p(!0),w(null);try{const H=await Ra(E,n);c(H);const X=await Tv(E,n,void 0,void 0,"all");f(X)}catch(H){console.error("Failed to fetch data for drivers page:",H),w(H.message||"Failed to load data. Please try again.")}finally{p(!1)}};v.useEffect(()=>{s||A()},[e,r,n,s,E]);const T=v.useMemo(()=>i.filter(H=>H.role==="driver"),[i]),I=v.useMemo(()=>{if(!y.trim())return T;const H=y.toLowerCase();return T.filter(X=>X.full_name.toLowerCase().includes(H)||X.truck_reg&&X.truck_reg.toLowerCase().includes(H)||X.trailer_no&&X.trailer_no.toLowerCase().includes(H))},[T,y]),L=H=>u.filter(X=>X.assigned_driver_id===H&&!["delivered","pod_received","cancelled"].includes(X.status)).length,B=H=>{b(H),C(!0)};return s||h?o.jsxs("div",{className:"flex items-center justify-center bg-[var(--saas-background)]",children:[o.jsx(wt,{className:"h-8 w-8 animate-spin text-blue-600"}),o.jsx("p",{className:"ml-2 text-gray-700",children:"Loading drivers data..."})]}):g?o.jsxs("div",{className:"flex flex-col items-center justify-center bg-[var(--saas-background)] p-4",children:[o.jsx("p",{className:"text-red-500 text-lg mb-4",children:g}),o.jsxs(ue,{onClick:()=>t("/"),variant:"outline",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to Dashboard"]})]}):e?o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs(ue,{onClick:()=>t("/"),variant:"outline",className:"mb-6",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to Dashboard"]}),o.jsxs(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6 mb-6",children:[o.jsxs(vt,{className:"flex flex-row items-center justify-between p-0 pb-4",children:[o.jsx(yt,{className:"text-2xl font-bold text-gray-900",children:"Drivers List"}),k&&o.jsxs(ue,{onClick:()=>t("/admin/users/new/driver"),className:"bg-blue-600 text-white hover:bg-blue-700",children:[o.jsx(Ih,{className:"h-4 w-4 mr-2"})," New Driver"]})]}),o.jsxs(dt,{className:"p-0 pt-4",children:[o.jsxs("div",{className:"relative mb-4",children:[o.jsx(_y,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),o.jsx(De,{placeholder:"Search drivers by name, vehicle reg, or trailer no...",value:y,onChange:H=>S(H.target.value),className:"pl-9 pr-3 py-2 rounded-md border border-gray-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all"})]}),I.length===0?o.jsx("p",{className:"text-gray-600",children:"No drivers found matching your criteria."}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:I.map(H=>o.jsx(qB,{driver:H,jobsAssignedCount:L(H.id),onViewDetails:B},H.id))})]})]})]}),_&&o.jsx(HB,{open:N,onOpenChange:C,driver:_,allJobs:u,currentOrgId:E,onJobView:H=>{C(!1),t(`/jobs/${H}`)}})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center bg-[var(--saas-background)] p-4",children:[o.jsx("p",{className:"text-red-600 font-bold mb-2",children:"You are not logged in."}),o.jsx(ue,{onClick:()=>t("/login"),variant:"outline",children:"Log In"})]})},KB=()=>{const t=er(),{user:e,profile:r,userRole:n,isLoadingAuth:s}=tr(),[i,c]=v.useState([]),[u,f]=v.useState(void 0),[h,p]=v.useState([]),[g,w]=v.useState(!0),[y,S]=v.useState(null),[_,b]=v.useState([]),N=(r==null?void 0:r.org_id)||"demo-tenant-id",C=r;v.useEffect(()=>{if(s)return;if(!e||n!=="admin"){le.error("You do not have permission to access this page."),t("/");return}(async()=>{var B;w(!0),S(null);try{const H=await qC(),X=(C==null?void 0:C.org_id)||((B=H[0])==null?void 0:B.id);if(X){const Q=await Ra(X,n);b(Q);const Y=await T_(X);c(Y),Y.length>0&&(f(Y[0]),p(Y[0].items))}}catch(H){console.error("Failed to fetch checklists:",H),S("Failed to load checklists. Please try again.")}finally{w(!1)}})()},[e,r,n,s,t]);const E=L=>{const B=i.find(H=>H.id===L);f(B),p(B?B.items:[])},k=(L,B,H)=>{const X=[...h];X[L]={...X[L],[B]:H},p(X)},A=()=>{p([...h,{id:Math.random().toString(36).substring(7),text:"",type:"checkbox"}])},T=L=>{const B=h.filter((H,X)=>X!==L);p(B)},I=async()=>{if(!(!u||!C))try{const L=n5(N,u.id,h,C.id);le.promise(L,{loading:"Saving checklist...",success:"Checklist saved successfully!",error:"Failed to save checklist."}),await L;const B=await T_(N);c(B),f(B.find(H=>H.id===u.id))}catch(L){console.error("Error saving checklist:",L),le.error("An unexpected error occurred while saving.")}};return s||g?o.jsxs("div",{className:"flex items-center justify-center bg-[var(--saas-background)]",children:[o.jsx(wt,{className:"h-8 w-8 animate-spin text-blue-600"}),o.jsx("p",{className:"ml-2 text-gray-700",children:"Loading checklists..."})]}):y?o.jsxs("div",{className:"flex flex-col items-center justify-center bg-[var(--saas-background)] p-4",children:[o.jsx("p",{className:"text-red-500 text-lg mb-4",children:y}),o.jsxs(ue,{onClick:()=>t("/"),variant:"outline",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to Dashboard"]})]}):!e||n!=="admin"?null:o.jsx("div",{className:"w-full",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs(ue,{onClick:()=>t("/"),variant:"outline",className:"mb-6",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to Dashboard"]}),o.jsxs(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6 mb-6",children:[o.jsx(vt,{className:"p-0 pb-4",children:o.jsx(yt,{className:"text-2xl font-bold text-gray-900",children:"Admin: Daily Checklists"})}),o.jsxs(dt,{className:"p-0 pt-4",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx(nt,{htmlFor:"select-checklist",className:"text-gray-700",children:"Select Checklist"}),o.jsxs(Un,{onValueChange:E,value:(u==null?void 0:u.id)||"",children:[o.jsx(jn,{id:"select-checklist",className:"w-full md:w-[300px]",children:o.jsx(Bn,{placeholder:"Select a checklist"})}),o.jsx(Sn,{children:i.map(L=>o.jsx(Ft,{value:L.id,children:L.name},L.id))})]})]}),u?o.jsxs("div",{children:[o.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:[u.name," Items"]}),o.jsxs("div",{className:"space-y-4",children:[h.map((L,B)=>o.jsxs("div",{className:"flex items-center space-x-2 p-2 shadow-sm rounded-md",children:[" ",o.jsx(De,{value:L.text,onChange:H=>k(B,"text",H.target.value),placeholder:"Checklist item text",className:"flex-grow"}),o.jsxs(Un,{value:L.type,onValueChange:H=>k(B,"type",H),children:[o.jsx(jn,{className:"w-[120px]",children:o.jsx(Bn,{placeholder:"Type"})}),o.jsxs(Sn,{children:[o.jsx(Ft,{value:"checkbox",children:"Checkbox"}),o.jsx(Ft,{value:"text",children:"Text Input"})]})]}),o.jsx(ue,{variant:"destructive",size:"icon",onClick:()=>T(B),children:o.jsx(hs,{className:"h-4 w-4"})})]},L.id)),o.jsxs(ue,{variant:"outline",onClick:A,children:[o.jsx(qs,{className:"h-4 w-4 mr-2"})," Add Item"]})]}),o.jsxs(ue,{onClick:I,className:"mt-6 bg-blue-600 text-white hover:bg-blue-700",children:[o.jsx(CI,{className:"h-4 w-4 mr-2"})," Save Checklist"]})]}):o.jsx("p",{className:"text-gray-600",children:"Please select a checklist to edit."})]})]})]})})};var hm="Checkbox",[GB,K7]=dn(hm),[JB,Ax]=GB(hm);function QB(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:s,disabled:i,form:c,name:u,onCheckedChange:f,required:h,value:p="on",internal_do_not_use_render:g}=t,[w,y]=Na({prop:r,defaultProp:s??!1,onChange:f,caller:hm}),[S,_]=v.useState(null),[b,N]=v.useState(null),C=v.useRef(!1),E=S?!!c||!!S.closest("form"):!0,k={checked:w,disabled:i,setChecked:y,control:S,setControl:_,name:u,form:c,value:p,hasConsumerStoppedPropagationRef:C,required:h,defaultChecked:No(s)?!1:s,isFormControl:E,bubbleInput:b,setBubbleInput:N};return o.jsx(JB,{scope:e,...k,children:ZB(g)?g(k):n})}var TP="CheckboxTrigger",RP=v.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},s)=>{const{control:i,value:c,disabled:u,checked:f,required:h,setControl:p,setChecked:g,hasConsumerStoppedPropagationRef:w,isFormControl:y,bubbleInput:S}=Ax(TP,t),_=ot(s,p),b=v.useRef(f);return v.useEffect(()=>{const N=i==null?void 0:i.form;if(N){const C=()=>g(b.current);return N.addEventListener("reset",C),()=>N.removeEventListener("reset",C)}},[i,g]),o.jsx(Le.button,{type:"button",role:"checkbox","aria-checked":No(f)?"mixed":f,"aria-required":h,"data-state":LP(f),"data-disabled":u?"":void 0,disabled:u,value:c,...n,ref:_,onKeyDown:Ne(e,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:Ne(r,N=>{g(C=>No(C)?!0:!C),S&&y&&(w.current=N.isPropagationStopped(),w.current||N.stopPropagation())})})});RP.displayName=TP;var Tx=v.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:c,disabled:u,value:f,onCheckedChange:h,form:p,...g}=t;return o.jsx(QB,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:u,required:c,onCheckedChange:h,name:n,form:p,value:f,internal_do_not_use_render:({isFormControl:w})=>o.jsxs(o.Fragment,{children:[o.jsx(RP,{...g,ref:e,__scopeCheckbox:r}),w&&o.jsx(MP,{__scopeCheckbox:r})]})})});Tx.displayName=hm;var DP="CheckboxIndicator",OP=v.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...s}=t,i=Ax(DP,r);return o.jsx(Lr,{present:n||No(i.checked)||i.checked===!0,children:o.jsx(Le.span,{"data-state":LP(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});OP.displayName=DP;var IP="CheckboxBubbleInput",MP=v.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:c,required:u,disabled:f,name:h,value:p,form:g,bubbleInput:w,setBubbleInput:y}=Ax(IP,t),S=ot(r,y),_=Ky(i),b=Ty(n);v.useEffect(()=>{const C=w;if(!C)return;const E=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(E,"checked").set,T=!s.current;if(_!==i&&A){const I=new Event("click",{bubbles:T});C.indeterminate=No(i),A.call(C,No(i)?!1:i),C.dispatchEvent(I)}},[w,_,i,s]);const N=v.useRef(No(i)?!1:i);return o.jsx(Le.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??N.current,required:u,disabled:f,name:h,value:p,form:g,...e,tabIndex:-1,ref:S,style:{...e.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});MP.displayName=IP;function ZB(t){return typeof t=="function"}function No(t){return t==="indeterminate"}function LP(t){return No(t)?"indeterminate":t?"checked":"unchecked"}const kh=v.forwardRef(({className:t,...e},r)=>o.jsx(Tx,{ref:r,className:fe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:o.jsx(OP,{className:fe("flex items-center justify-center text-current"),children:o.jsx(Dh,{className:"h-4 w-4"})})}));kh.displayName=Tx.displayName;const pu=({open:t,onOpenChange:e,title:r,description:n,confirmLabel:s,onConfirm:i,isConfirming:c,variant:u="default"})=>{const{user:f}=tr(),[h,p]=v.useState(""),[g,w]=v.useState(null),[y,S]=v.useState(!1),_=async()=>{if(!(f!=null&&f.email)){w("Logged-in user email not found. Cannot confirm password.");return}if(!h){w("Please enter your password.");return}S(!0),w(null);try{const{error:N}=await Ze.auth.signInWithPassword({email:f.email,password:h});N?(w("Incorrect password. Please try again."),console.error("Password re-authentication failed:",N.message),le.error("Password confirmation failed: Incorrect password.")):(await i(),e(!1))}catch(N){w("An unexpected error occurred during password confirmation."),console.error("Unexpected error during password re-authentication:",N),le.error("An unexpected error occurred during password confirmation.")}finally{S(!1),p("")}},b=N=>{N||(p(""),w(null),S(!1)),e(N)};return o.jsx(Gs,{open:t,onOpenChange:b,children:o.jsxs(xs,{className:"flex flex-col bg-[var(--saas-card-bg)]",children:[" ",o.jsxs(ws,{children:[o.jsx(_s,{children:r}),o.jsx(js,{children:n})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(nt,{htmlFor:"confirm-password",children:"Your Password"}),o.jsx(De,{id:"confirm-password",type:"password",value:h,onChange:N=>p(N.target.value),placeholder:"Enter your password to confirm",disabled:y||c}),g&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:g})]})})}),o.jsxs(bs,{children:[o.jsx(Ns,{asChild:!0,children:o.jsx(ue,{variant:"outline",disabled:y||c,children:"Cancel"})}),o.jsx(Ss,{asChild:!0,children:o.jsxs(ue,{variant:u,onClick:_,disabled:y||c||!h,children:[y||c?o.jsx(wt,{className:"h-4 w-4 animate-spin mr-2"}):null,s]})})]})]})})},XB=()=>{const t=er(),{user:e,profile:r,userRole:n,isLoadingAuth:s}=tr(),[i,c]=v.useState([]),[u,f]=v.useState(!0),[h,p]=v.useState(null),[g,w]=v.useState(""),[y,S]=v.useState("all"),[_,b]=v.useState(!1),[N,C]=v.useState(null),[E,k]=v.useState(!1),[A,T]=v.useState(!1),[I,L]=v.useState(!1),[B,H]=v.useState(null),[X,Q]=v.useState(!1),[Y,ee]=v.useState(!1),ne=(r==null?void 0:r.org_id)||"demo-tenant-id",J=r,W=async()=>{if(!e||n!=="admin"||!ne){f(!1);return}f(!0),p(null);try{const z=await HF(ne);c(z)}catch(z){console.error("Failed to fetch users:",z),p(z.message||"Failed to load users. Please try again.")}finally{f(!1)}};v.useEffect(()=>{if(!s){if(!e||n!=="admin"){le.error("You do not have permission to access this page."),t("/");return}W()}},[e,n,ne,s,t]);const D=z=>{H(z),L(!0)},M=async()=>{if(!B||!J||!n){le.error("User to delete or admin profile/role not found. Cannot delete user.");return}try{C(B.id);const z=YF(ne,B.id,J.id,n);le.promise(z,{loading:`Deleting ${B.full_name}...`,success:`${B.full_name} deleted successfully!`,error:`Failed to delete ${B.full_name}.`}),await z?W():le.error(`Failed to delete ${B.full_name}: User not found or could not be deleted.`)}catch(z){console.error("Error deleting user:",z),le.error("An unexpected error occurred while deleting user.")}finally{C(null),H(null)}},F=async z=>{if(!J||!n){le.error("Admin profile or role not found. Cannot reset password.");return}try{C(z.id);const U=KC(ne,z.user_id,J.id,n);le.promise(U,{loading:`Sending password reset to ${z.full_name}...`,success:`Password reset email sent to ${z.full_name}!`,error:`Failed to send password reset to ${z.full_name}.`}),await U}catch(U){console.error("Error sending password reset:",U),le.error("An unexpected error occurred while sending password reset.")}finally{C(null)}},O=async()=>{if(!J||!n){le.error("Admin profile or role not found. Cannot purge demo users.");return}k(!0);try{const z=await KF(ne,J.id,n);z.ok?(le.success(`Removed ${z.removed} demo user(s).`),W()):le.error("Failed to purge demo users.")}catch(z){console.error("Error purging demo users:",z),le.error("An unexpected error occurred while purging demo users.")}finally{k(!1)}},R=async()=>{if(!J||!n){le.error("Admin profile or role not found. Cannot purge non-admin users.");return}T(!0);try{const z=await GF(ne,J.id,n);z.ok?(le.success(`Removed ${z.removed} non-admin user(s).`),W()):le.error("Failed to purge non-admin users.")}catch(z){console.error("Error purging non-admin users:",z),le.error("An unexpected error occurred while purging non-admin users.")}finally{T(!1)}},Z=v.useMemo(()=>{let z=i;if(_||(z=z.filter(U=>!U.is_demo)),y!=="all"&&(z=z.filter(U=>U.role===y)),g.trim()){const U=g.toLowerCase();z=z.filter(de=>{var ae,me,ve,je;return((ae=de.full_name)==null?void 0:ae.toLowerCase().includes(U))||((me=de.user_id)==null?void 0:me.toLowerCase().includes(U))||((ve=de.truck_reg)==null?void 0:ve.toLowerCase().includes(U))||((je=de.trailer_no)==null?void 0:je.toLowerCase().includes(U))})}return z},[i,g,y,_]);return s||u?o.jsxs("div",{className:"flex items-center justify-center bg-[var(--saas-background)]",children:[o.jsx(wt,{className:"h-8 w-8 animate-spin text-blue-600"}),o.jsx("p",{className:"ml-2 text-gray-700",children:"Loading users..."})]}):h?o.jsxs("div",{className:"flex flex-col items-center justify-center bg-[var(--saas-background)] p-4",children:[o.jsxs("p",{className:"text-red-500 text-lg mb-4",children:["Error: ",h]}),o.jsxs(ue,{onClick:()=>t("/"),variant:"outline",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to Dashboard"]})]}):!e||n!=="admin"?o.jsxs("div",{className:"flex flex-col items-center justify-center bg-[var(--saas-background)] p-4",children:[o.jsx("p",{className:"text-red-500 text-lg mb-4",children:"Access denied"}),o.jsxs(ue,{onClick:()=>t("/"),variant:"outline",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to Dashboard"]})]}):o.jsxs("div",{className:"w-full",children:[" ",o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs(ue,{onClick:()=>t("/"),variant:"outline",className:"mb-6",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to Dashboard"]}),o.jsxs(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6 mb-6",children:[o.jsxs(vt,{className:"flex flex-row items-center justify-between p-0 pb-4",children:[o.jsx(yt,{className:"text-2xl font-bold text-gray-900",children:"Admin: User Management"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(ue,{onClick:W,variant:"outline",children:[o.jsx(by,{className:"h-4 w-4 mr-2"})," Refresh"]}),o.jsxs(ue,{onClick:()=>t("/admin/users/new"),className:"bg-blue-600 text-white hover:bg-blue-700",children:[o.jsx(Ih,{className:"h-4 w-4 mr-2"})," Add New User"]})]})]}),o.jsxs(dt,{className:"p-0 pt-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6 items-center",children:[o.jsx(De,{placeholder:"Search by name, user id, reg...",value:g,onChange:z=>w(z.target.value),className:"flex-grow"}),o.jsxs(Un,{value:y,onValueChange:z=>S(z),children:[o.jsx(jn,{className:"w-full sm:w-[180px]",children:o.jsx(Bn,{placeholder:"Filter by role"})}),o.jsxs(Sn,{children:[o.jsx(Ft,{value:"all",children:"All Roles"}),o.jsx(Ft,{value:"admin",children:"Admin"}),o.jsx(Ft,{value:"office",children:"Office"}),o.jsx(Ft,{value:"driver",children:"Driver"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(kh,{id:"show-demo",checked:_,onCheckedChange:z=>b(z)}),o.jsx(nt,{htmlFor:"show-demo",className:"text-gray-700",children:"Show demo users"})]}),o.jsxs(ue,{variant:"destructive",onClick:()=>Q(!0),disabled:E,className:"w-full sm:w-auto",children:[E?o.jsx(wt,{className:"h-4 w-4 animate-spin mr-2"}):null,"Purge Demo Users"]}),o.jsxs(ue,{variant:"destructive",onClick:()=>ee(!0),disabled:A,className:"w-full sm:w-auto",children:[o.jsx(fv,{className:"h-4 w-4 mr-2"})," ",A?"Purging All...":"Purge All Non-Admin Users"]})]}),Z.length===0?o.jsx("p",{className:"text-gray-600",children:"No users found matching your criteria."}):o.jsxs("div",{className:"rounded-md overflow-hidden shadow-sm",children:[" ",o.jsxs(fc,{children:[o.jsxs(hc,{className:"bg-gray-50",children:[" ",o.jsxs(ys,{children:[o.jsx(Tt,{children:"Name"}),o.jsx(Tt,{children:"Role"}),o.jsx(Tt,{children:"Phone"}),o.jsx(Tt,{children:"User ID (Auth)"}),o.jsx(Tt,{children:"Truck Reg"}),o.jsx(Tt,{children:"Trailer No"}),o.jsx(Tt,{children:"Flags"}),o.jsx(Tt,{className:"text-center",children:"Actions"})]})]}),o.jsxs(mc,{className:"divide-y divide-gray-100",children:[" ",Z.map((z,U)=>o.jsxs(ys,{className:U%2===0?"bg-white hover:bg-gray-100":"bg-gray-50 hover:bg-gray-100",children:[o.jsx(Rt,{className:"font-medium",children:z.full_name}),o.jsx(Rt,{children:o.jsx(xa,{variant:"secondary",className:"capitalize",children:z.role})}),o.jsx(Rt,{children:z.phone||"-"}),o.jsx(Rt,{className:"text-sm text-gray-600",children:z.user_id}),o.jsx(Rt,{children:z.truck_reg||"-"}),o.jsx(Rt,{children:z.trailer_no||"-"}),o.jsx(Rt,{children:z.is_demo?o.jsx(xa,{variant:"outline",children:"Demo"}):"-"}),o.jsx(Rt,{className:"text-center",children:o.jsxs("div",{className:"flex justify-center space-x-2",children:[o.jsx(ue,{variant:"outline",size:"sm",onClick:()=>t(`/admin/users/${z.id}/edit`),children:o.jsx(zs,{className:"h-4 w-4"})}),o.jsxs(Gs,{children:[o.jsx(Au,{asChild:!0,children:o.jsx(ue,{variant:"outline",size:"sm",disabled:N===z.id,children:o.jsx(Oh,{className:"h-4 w-4"})})}),o.jsxs(xs,{children:[o.jsxs(ws,{children:[o.jsxs(_s,{children:["Send Password Reset for ",z.full_name,"?"]}),o.jsx(js,{children:"This will send a password reset email to the user's registered email address."})]}),o.jsxs(bs,{children:[o.jsx(Ns,{asChild:!0,children:o.jsx(ue,{variant:"outline",children:"Cancel"})}),o.jsx(Ss,{onClick:()=>F(z),disabled:N===z.id,children:"Send Reset Email"})]})]})]}),o.jsx(ue,{variant:"destructive",size:"sm",onClick:()=>D(z),disabled:N===z.id,children:o.jsx(hs,{className:"h-4 w-4"})})]})})]},z.id))]})]})]})]})]}),B&&o.jsx(pu,{open:I,onOpenChange:L,title:`Confirm Deletion of ${B.full_name}`,description:`This action cannot be undone. This will permanently delete ${B.full_name}'s profile and associated authentication record. Please enter your password to confirm.`,confirmLabel:"Delete User",onConfirm:M,isConfirming:N===B.id,variant:"destructive"}),o.jsx(pu,{open:X,onOpenChange:Q,title:"Confirm Purge Demo Users",description:"This action cannot be undone. This will permanently delete all user profiles and associated authentication records marked as demo. Please enter your password to confirm.",confirmLabel:"Purge Demo Users",onConfirm:O,isConfirming:E,variant:"destructive"}),o.jsx(pu,{open:Y,onOpenChange:ee,title:"Confirm Purge All Non-Admin Users",description:"This action cannot be undone. This will permanently delete all user profiles and associated authentication records that are not 'admin' role in this tenant. Please enter your password to confirm.",confirmLabel:"Purge All Non-Admin Users",onConfirm:R,isConfirming:A,variant:"destructive"})]})]})},e7=()=>{const t=er(),{user:e,userRole:r,isLoadingAuth:n}=tr();return v.useEffect(()=>{n||(!e||r!=="admin")&&(le.error("You do not have permission to access this page."),t("/"))},[e,r,n,t]),n?o.jsxs("div",{className:"flex items-center justify-center bg-[var(--saas-background)]",children:[o.jsx(wt,{className:"h-8 w-8 animate-spin text-blue-600"}),o.jsx("p",{className:"ml-2 text-gray-700",children:"Loading authentication..."})]}):!e||r!=="admin"?null:o.jsx("div",{className:"w-full",children:o.jsxs("div",{className:"max-w-xl mx-auto",children:[o.jsxs(ue,{onClick:()=>t("/admin/users"),variant:"outline",className:"mb-6",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to User Management"]}),o.jsxs(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6",children:[o.jsx(vt,{className:"p-0 pb-4",children:o.jsx(yt,{className:"text-2xl font-bold text-gray-900",children:"Create New User"})}),o.jsxs(dt,{className:"space-y-6 p-0 pt-4",children:[o.jsx("p",{className:"text-gray-700",children:"Please select the type of user you would like to create."}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs(ue,{variant:"outline",className:"h-32 flex flex-col items-center justify-center text-lg text-gray-900 hover:bg-blue-50 hover:text-blue-600",onClick:()=>t("/admin/users/new/driver"),children:[o.jsx(Mr,{className:"h-8 w-8 mb-2"}),"Create Driver"]}),o.jsxs(ue,{variant:"outline",className:"h-32 flex flex-col items-center justify-center text-lg text-gray-900 hover:bg-blue-50 hover:text-blue-600",onClick:()=>t("/admin/users/new/office"),children:[o.jsx(B1,{className:"h-8 w-8 mb-2"}),"Create Office User"]})]})]})]})]})})},t7=new Date().getFullYear(),r7=Array.from({length:t7-1900+1},(t,e)=>(1900+e).toString()).reverse(),n7=Array.from({length:12},(t,e)=>(e+1).toString().padStart(2,"0")),s7=Array.from({length:31},(t,e)=>(e+1).toString().padStart(2,"0")),a7=Oi({full_name:ut().min(1,{message:"Full name is required."}),dob_year:ut().min(1,{message:"Year is required."}),dob_month:ut().min(1,{message:"Month is required."}),dob_day:ut().min(1,{message:"Day is required."}),phone:ut().min(1,{message:"Contact number is required."}),email:ut().email({message:"Invalid email address."}),password:ut().min(8,{message:"Password must be at least 8 characters."})}),o7=({onSubmit:t})=>{const e=dd({resolver:fd(a7),defaultValues:{full_name:"",dob_year:"",dob_month:"",dob_day:"",phone:"",email:"",password:""}});return o.jsx(hd,{...e,children:o.jsxs("form",{onSubmit:e.handleSubmit(t),className:"space-y-6",children:[o.jsxs(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6",children:[o.jsx(vt,{className:"p-0 pb-4",children:o.jsx(yt,{className:"text-xl font-semibold text-gray-900",children:"Driver Details"})}),o.jsxs(dt,{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-0 pt-4",children:[o.jsx(Ye,{control:e.control,name:"full_name",render:({field:r})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Full Name"}),o.jsx(ze,{children:o.jsx(De,{placeholder:"John Doe",...r})}),o.jsx(Ue,{})]})}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsx(Ye,{control:e.control,name:"dob_year",render:({field:r})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Year"}),o.jsxs(Un,{onValueChange:r.onChange,value:r.value,children:[o.jsx(ze,{children:o.jsx(jn,{children:o.jsx(Bn,{placeholder:"Year"})})}),o.jsx(Sn,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl max-h-60 overflow-y-auto",children:r7.map(n=>o.jsx(Ft,{value:n,children:n},n))})]}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:e.control,name:"dob_month",render:({field:r})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Month"}),o.jsxs(Un,{onValueChange:r.onChange,value:r.value,children:[o.jsx(ze,{children:o.jsx(jn,{children:o.jsx(Bn,{placeholder:"Month"})})}),o.jsx(Sn,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl",children:n7.map(n=>o.jsx(Ft,{value:n,children:n},n))})]}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:e.control,name:"dob_day",render:({field:r})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Day"}),o.jsxs(Un,{onValueChange:r.onChange,value:r.value,children:[o.jsx(ze,{children:o.jsx(jn,{children:o.jsx(Bn,{placeholder:"Day"})})}),o.jsx(Sn,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl",children:s7.map(n=>o.jsx(Ft,{value:n,children:n},n))})]}),o.jsx(Ue,{})]})})]}),o.jsx(Ye,{control:e.control,name:"phone",render:({field:r})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Contact Number"}),o.jsx(ze,{children:o.jsx(De,{placeholder:"e.g., +447123456789",...r})}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:e.control,name:"email",render:({field:r})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Email"}),o.jsx(ze,{children:o.jsx(De,{type:"email",placeholder:"john.doe@example.com",...r})}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:e.control,name:"password",render:({field:r})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Temporary Password"}),o.jsx(ze,{children:o.jsx(De,{type:"password",placeholder:"********",...r})}),o.jsx(Ue,{})]})})]})]}),o.jsx(ue,{type:"submit",className:"w-full bg-blue-600 text-white hover:bg-blue-700",children:"Create Driver"})]})})},i7=()=>{const t=er(),{user:e,profile:r,userRole:n,isLoadingAuth:s}=tr(),[i,c]=v.useState(!0),[u,f]=v.useState(null),[h,p]=v.useState(void 0),g=r==null?void 0:r.org_id;v.useEffect(()=>{if(s)return;if(!e||n!=="admin"||!g){le.error("You do not have permission to access this page or your organization ID is missing."),t("/");return}(async()=>{c(!0),f(null);try{const _=(await Ra(g,n)).find(b=>b.user_id===e.id);if(!_)throw new Error("Admin profile not found in the database.");p(_)}catch(S){console.error("Failed to fetch admin profile:",S),f(S.message||"Failed to load admin profile. Please try again.")}finally{c(!1)}})()},[e,n,s,t,g]);const w=async y=>{if(!h||!g||!n){le.error("Admin profile, organization ID, or role not found. Cannot create user.");return}try{const S=`${y.dob_year}-${y.dob_month}-${y.dob_day}`,_={full_name:y.full_name,dob:S,phone:y.phone,role:"driver",email:y.email,password:y.password,is_demo:!1},b=YC(g,_,h.id,n);le.promise(b,{loading:"Creating driver...",success:"Driver created successfully!",error:N=>`Failed to create driver: ${N.message||String(N)}`}),await b,t("/admin/users")}catch(S){console.error("Error creating driver:",S)}};return s||i?o.jsxs("div",{className:"flex items-center justify-center bg-[var(--saas-background)]",children:[o.jsx(wt,{className:"h-8 w-8 animate-spin text-blue-600"}),o.jsx("p",{className:"ml-2 text-gray-700",children:"Loading..."})]}):u?o.jsxs("div",{className:"flex flex-col items-center justify-center bg-[var(--saas-background)] p-4",children:[o.jsxs("p",{className:"text-red-500 text-lg mb-4",children:["Error: ",u]}),o.jsxs(ue,{onClick:()=>t("/admin/users"),variant:"outline",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to User Management"]})]}):!e||n!=="admin"||!g?o.jsxs("div",{className:"flex flex-col items-center justify-center bg-[var(--saas-background)] p-4",children:[o.jsx("p",{className:"text-red-500 text-lg mb-4",children:"You do not have permission to access this page."}),o.jsxs(ue,{onClick:()=>t("/"),variant:"outline",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to Dashboard"]})]}):o.jsx("div",{className:"w-full",children:o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs(ue,{onClick:()=>t("/admin/users/new"),variant:"outline",className:"mb-6",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to User Type Selection"]}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Create New Driver"}),o.jsx(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6",children:o.jsx(dt,{className:"p-0",children:o.jsx(o7,{onSubmit:w})})})]})})},l7=Oi({full_name:ut().min(1,{message:"Full name is required."}),phone:ut().min(1,{message:"Contact number is required."}),email:ut().email({message:"Invalid email address."}),password:ut().min(8,{message:"Password must be at least 8 characters."})}),c7=({onSubmit:t})=>{const e=dd({resolver:fd(l7),defaultValues:{full_name:"",phone:"",email:"",password:""}});return o.jsx(hd,{...e,children:o.jsxs("form",{onSubmit:e.handleSubmit(t),className:"space-y-6",children:[o.jsxs(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6",children:[o.jsx(vt,{className:"p-0 pb-4",children:o.jsx(yt,{className:"text-xl font-semibold text-gray-900",children:"Office User Details"})}),o.jsxs(dt,{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-0 pt-4",children:[o.jsx(Ye,{control:e.control,name:"full_name",render:({field:r})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Full Name"}),o.jsx(ze,{children:o.jsx(De,{placeholder:"Jane Doe",...r})}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:e.control,name:"phone",render:({field:r})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Contact Number"}),o.jsx(ze,{children:o.jsx(De,{placeholder:"e.g., +447123456789",...r})}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:e.control,name:"email",render:({field:r})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Email"}),o.jsx(ze,{children:o.jsx(De,{type:"email",placeholder:"jane.doe@example.com",...r})}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:e.control,name:"password",render:({field:r})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Temporary Password"}),o.jsx(ze,{children:o.jsx(De,{type:"password",placeholder:"********",...r})}),o.jsx(Ue,{})]})})]})]}),o.jsx(ue,{type:"submit",className:"w-full bg-blue-600 text-white hover:bg-blue-700",children:"Create Office User"})]})})},u7=()=>{const t=er(),{user:e,profile:r,userRole:n,isLoadingAuth:s}=tr(),[i,c]=v.useState(!0),[u,f]=v.useState(null),[h,p]=v.useState(void 0),g=r==null?void 0:r.org_id;v.useEffect(()=>{if(s)return;if(!e||n!=="admin"||!g){le.error("You do not have permission to access this page or your organization ID is missing."),t("/");return}(async()=>{c(!0),f(null);try{const _=(await Ra(g,n)).find(b=>b.user_id===e.id);if(!_)throw new Error("Admin profile not found in the database.");p(_)}catch(S){console.error("Failed to fetch admin profile:",S),f(S.message||"Failed to load admin profile. Please try again.")}finally{c(!1)}})()},[e,n,s,t,g]);const w=async y=>{if(!h||!g||!n){le.error("Admin profile, organization ID, or role not found. Cannot create user.");return}try{const S={full_name:y.full_name,phone:y.phone,role:"office",email:y.email,password:y.password,is_demo:!1},_=YC(g,S,h.id,n);le.promise(_,{loading:"Creating office user...",success:"Office user created successfully!",error:b=>`Failed to create office user: ${b.message||String(b)}`}),await _,t("/admin/users")}catch(S){console.error("Error creating office user:",S)}};return s||i?o.jsxs("div",{className:"flex items-center justify-center bg-[var(--saas-background)]",children:[o.jsx(wt,{className:"h-8 w-8 animate-spin text-blue-600"}),o.jsx("p",{className:"ml-2 text-gray-700",children:"Loading..."})]}):u?o.jsxs("div",{className:"flex flex-col items-center justify-center bg-[var(--saas-background)] p-4",children:[o.jsxs("p",{className:"text-red-500 text-lg mb-4",children:["Error: ",u]}),o.jsxs(ue,{onClick:()=>t("/admin/users"),variant:"outline",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to User Management"]})]}):!e||n!=="admin"||!g?o.jsxs("div",{className:"flex flex-col items-center justify-center bg-[var(--saas-background)] p-4",children:[o.jsx("p",{className:"text-red-500 text-lg mb-4",children:"You do not have permission to access this page."}),o.jsxs(ue,{onClick:()=>t("/"),variant:"outline",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to Dashboard"]})]}):o.jsx("div",{className:"w-full",children:o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs(ue,{onClick:()=>t("/admin/users/new"),variant:"outline",className:"mb-6",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to User Type Selection"]}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Create New Office User"}),o.jsx(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6",children:o.jsx(dt,{className:"p-0",children:o.jsx(c7,{onSubmit:w})})})]})})},d7=Oi({full_name:ut().min(1,{message:"Full name is required."}),dob:Cx().optional().nullable(),phone:ut().min(1,{message:"Contact number is required."}).optional().or(wa("")),role:kx(["driver","office","admin"],{required_error:"Role is required."}),truck_reg:ut().optional().or(wa("")),trailer_no:ut().optional().or(wa(""))}),f7=({onSubmit:t,defaultValues:e})=>{const r=dd({resolver:fd(d7),defaultValues:{full_name:e.full_name,dob:e.dob?cr(e.dob):void 0,phone:e.phone||"",role:e.role,truck_reg:e.truck_reg||"",trailer_no:e.trailer_no||""}});return o.jsx(hd,{...r,children:o.jsxs("form",{onSubmit:r.handleSubmit(t),className:"space-y-6",children:[o.jsxs(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6",children:[o.jsx(vt,{className:"p-0 pb-4",children:o.jsx(yt,{className:"text-xl font-semibold text-gray-900",children:"User Profile"})}),o.jsxs(dt,{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-0 pt-4",children:[o.jsx(Ye,{control:r.control,name:"full_name",render:({field:n})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Full Name"}),o.jsx(ze,{children:o.jsx(De,{placeholder:"John Doe",...n})}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:r.control,name:"role",render:({field:n})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Role"}),o.jsxs(Un,{onValueChange:n.onChange,value:n.value,children:[o.jsx(ze,{children:o.jsx(jn,{children:o.jsx(Bn,{placeholder:"Select a role"})})}),o.jsxs(Sn,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl",children:[o.jsx(Ft,{value:"admin",children:"Admin"}),o.jsx(Ft,{value:"office",children:"Office"}),o.jsx(Ft,{value:"driver",children:"Driver"})]})]}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:r.control,name:"dob",render:({field:n})=>o.jsxs(Be,{className:"flex flex-col",children:[o.jsx(Ve,{className:"text-gray-700",children:"Date of Birth (Optional)"}),o.jsxs(Po,{children:[o.jsx(Ao,{asChild:!0,children:o.jsx(ze,{children:o.jsxs(ue,{variant:"outline",className:fe("w-full pl-3 text-left font-normal",!n.value&&"text-muted-foreground"),children:[n.value?xt(n.value,"PPP"):o.jsx("span",{children:"Pick a date"}),o.jsx(_a,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),o.jsx(Ea,{className:"w-auto p-0 bg-[var(--saas-card-bg)] shadow-sm rounded-xl",align:"start",children:o.jsx(To,{mode:"single",selected:n.value||void 0,onSelect:n.onChange,initialFocus:!0,captionLayout:"dropdown",fromYear:1900,toYear:new Date().getFullYear()})})]}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:r.control,name:"phone",render:({field:n})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Contact Number"}),o.jsx(ze,{children:o.jsx(De,{placeholder:"e.g., +447123456789",...n})}),o.jsx(Ue,{})]})}),r.watch("role")==="driver"&&o.jsxs(o.Fragment,{children:[o.jsx(Ye,{control:r.control,name:"truck_reg",render:({field:n})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Truck Registration"}),o.jsx(ze,{children:o.jsx(De,{placeholder:"e.g., AB12 CDE",...n})}),o.jsx(Ue,{})]})}),o.jsx(Ye,{control:r.control,name:"trailer_no",render:({field:n})=>o.jsxs(Be,{children:[o.jsx(Ve,{className:"text-gray-700",children:"Trailer Number"}),o.jsx(ze,{children:o.jsx(De,{placeholder:"e.g., TRL-001",...n})}),o.jsx(Ue,{})]})})]})]})]}),o.jsx(ue,{type:"submit",className:"w-full bg-blue-600 text-white hover:bg-blue-700",children:"Save Changes"})]})})},h7=()=>{const{id:t}=i1(),e=er(),{user:r,profile:n,userRole:s,isLoadingAuth:i}=tr(),[c,u]=v.useState(!0),[f,h]=v.useState(null),[p,g]=v.useState(void 0),[w,y]=v.useState(void 0),[S,_]=v.useState(!1),[b,N]=v.useState(!1),[C,E]=v.useState(!1),[k,A]=v.useState(!1),[T,I]=v.useState(null),L=(n==null?void 0:n.org_id)||"demo-tenant-id";v.useEffect(()=>{if(i)return;if(!r||s!=="admin"){le.error("You do not have permission to access this page."),e("/");return}(async()=>{u(!0),h(null);try{const Y=await Ra(L,s);y(Y.find(ee=>ee.user_id===r.id)),g(Y.find(ee=>ee.id===t))}catch(Y){console.error("Failed to fetch data:",Y),h(Y.message||"Failed to load user data. Please try again.")}finally{u(!1)}})()},[r,n,s,i,e,t,L]);const B=async Q=>{if(!p||!w||!s){le.error("User to edit, admin profile, or role not found. Cannot update user.");return}const Y={full_name:Q.full_name,dob:Q.dob?Q.dob.toISOString().split("T")[0]:void 0,phone:Q.phone||void 0,role:Q.role,truck_reg:Q.truck_reg||void 0,trailer_no:Q.trailer_no||void 0};p.role!==Q.role?(I(Y),A(!0)):await H(Y)},H=async Q=>{if(!p||!w||!s){le.error("User to edit, admin profile, or role not found. Cannot update user.");return}N(!0);try{const Y=qF(L,p.id,Q,w.id,s);le.promise(Y,{loading:`Updating ${p.full_name}...`,success:"User updated successfully!",error:ne=>`Failed to update user: ${ne.message}`}),await Y?e("/admin/users"):le.error(`Failed to update ${p.full_name}: User not found or could not be updated.`)}catch(Y){console.error("Error updating user:",Y),le.error("An unexpected error occurred while updating the user.")}finally{N(!1),I(null)}},X=async()=>{if(!p||!w||!s){le.error("User to edit, admin profile, or role not found. Cannot reset password.");return}try{_(!0);const Q=KC(L,p.user_id,w.id,s);le.promise(Q,{loading:`Sending password reset to ${p.full_name}...`,success:`Password reset email sent to ${p.full_name}!`,error:Y=>`Failed to send password reset to ${p.full_name}: ${Y.message}`}),await Q}catch(Q){console.error("Error sending password reset:",Q),le.error("An unexpected error occurred while sending password reset.")}finally{_(!1)}};return i||c?o.jsxs("div",{className:"flex items-center justify-center bg-[var(--saas-background)]",children:[o.jsx(wt,{className:"h-8 w-8 animate-spin text-blue-600"}),o.jsx("p",{className:"ml-2 text-gray-700",children:"Loading user data..."})]}):f?o.jsxs("div",{className:"flex flex-col items-center justify-center bg-[var(--saas-background)] p-4",children:[o.jsxs("p",{className:"text-red-500 text-lg mb-4",children:["Error: ",f.message]}),o.jsxs(ue,{onClick:()=>e("/"),variant:"outline",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to Dashboard"]})]}):!r||s!=="admin"?o.jsxs("div",{className:"flex flex-col items-center justify-center bg-[var(--saas-background)] p-4",children:[o.jsx("p",{className:"text-red-500 text-lg mb-4",children:"Access denied"}),o.jsxs(ue,{onClick:()=>e("/"),variant:"outline",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to Dashboard"]})]}):p?o.jsx("div",{className:"w-full",children:o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs(ue,{onClick:()=>e("/admin/users"),variant:"outline",className:"mb-6",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to User Management"]}),o.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:["Edit User: ",p.full_name]}),o.jsx(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6 mb-6",children:o.jsx(dt,{className:"p-0",children:o.jsx(f7,{onSubmit:B,defaultValues:p})})}),o.jsxs(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6 mt-6",children:[o.jsx(vt,{className:"p-0 pb-4",children:o.jsx(yt,{className:"text-xl font-semibold text-gray-900",children:"User Actions"})}),o.jsx(dt,{className:"p-0 pt-4",children:o.jsxs(ue,{variant:"outline",className:"w-full",onClick:()=>E(!0),disabled:S,children:[o.jsx(Oh,{className:"h-4 w-4 mr-2"})," Send Password Reset"]})})]}),o.jsx(pu,{open:C,onOpenChange:E,title:`Confirm Password Reset for ${p.full_name}`,description:"This will send a password reset email to the user's registered email address. Please enter your password to confirm.",confirmLabel:"Send Reset Email",onConfirm:X,isConfirming:S}),T&&o.jsx(pu,{open:k,onOpenChange:A,title:`Confirm Role Change for ${p.full_name}`,description:`You are changing the role of ${p.full_name} from '${p.role}' to '${T.role}'. This is a high-privilege action. Please enter your password to confirm.`,confirmLabel:"Confirm Role Change",onConfirm:()=>H(T),isConfirming:b})]})}):o.jsxs("div",{className:"flex flex-col items-center justify-center bg-[var(--saas-background)] p-4",children:[o.jsx("p",{className:"text-gray-700 text-lg mb-4",children:"User not found."}),o.jsxs(ue,{onClick:()=>e("/admin/users"),variant:"outline",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to User Management"]})]})};var mm="Switch",[m7,G7]=dn(mm),[p7,g7]=m7(mm),$P=v.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:c,disabled:u,value:f="on",onCheckedChange:h,form:p,...g}=t,[w,y]=v.useState(null),S=ot(e,E=>y(E)),_=v.useRef(!1),b=w?p||!!w.closest("form"):!0,[N,C]=Na({prop:s,defaultProp:i??!1,onChange:h,caller:mm});return o.jsxs(p7,{scope:r,checked:N,disabled:u,children:[o.jsx(Le.button,{type:"button",role:"switch","aria-checked":N,"aria-required":c,"data-state":VP(N),"data-disabled":u?"":void 0,disabled:u,value:f,...g,ref:S,onClick:Ne(t.onClick,E=>{C(k=>!k),b&&(_.current=E.isPropagationStopped(),_.current||E.stopPropagation())})}),b&&o.jsx(BP,{control:w,bubbles:!_.current,name:n,value:f,checked:N,required:c,disabled:u,form:p,style:{transform:"translateX(-100%)"}})]})});$P.displayName=mm;var FP="SwitchThumb",UP=v.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,s=g7(FP,r);return o.jsx(Le.span,{"data-state":VP(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:e})});UP.displayName=FP;var v7="SwitchBubbleInput",BP=v.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...s},i)=>{const c=v.useRef(null),u=ot(c,i),f=Ky(r),h=Ty(e);return v.useEffect(()=>{const p=c.current;if(!p)return;const g=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(g,"checked").set;if(f!==r&&y){const S=new Event("click",{bubbles:n});y.call(p,r),p.dispatchEvent(S)}},[f,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:u,style:{...s.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});BP.displayName=v7;function VP(t){return t?"checked":"unchecked"}var zP=$P,y7=UP;const Eh=v.forwardRef(({className:t,...e},r)=>o.jsx(zP,{className:fe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:o.jsx(y7,{className:fe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Eh.displayName=zP.displayName;const x7=({onSave:t,initialSignature:e})=>{const[r,n]=v.useState(e||""),s=()=>{n(""),t("")},i=()=>{t(r)};return o.jsxs("div",{className:"space-y-2",children:[o.jsx(nt,{htmlFor:"signature-input",className:"text-gray-700",children:"Signature (Type your name or paste base64)"}),o.jsx(Vn,{id:"signature-input",value:r,onChange:c=>n(c.target.value),placeholder:"Type your full name or paste a base64 signature string here...",className:"min-h-[100px]"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ue,{type:"button",variant:"outline",onClick:s,children:"Clear"}),o.jsx(ue,{type:"button",onClick:i,className:"bg-blue-600 text-white hover:bg-blue-700",children:"Save Signature"})]})]})},w7=()=>{const t=er(),{user:e,profile:r,userRole:n,isLoadingAuth:s}=tr(),[i,c]=v.useState([]),[u,f]=v.useState([]),[h,p]=v.useState(!0),[g,w]=v.useState(null),[y,S]=v.useState(null),[_,b]=v.useState(""),[N,C]=v.useState(""),[E,k]=v.useState(""),[A,T]=v.useState(!1),[I,L]=v.useState(null),B=(r==null?void 0:r.org_id)||"demo-tenant-id",H=r,X=v.useRef(null),[Q,Y]=v.useState(null);v.useEffect(()=>{if(s)return;if(!e||n!=="driver"){le.error("You do not have permission to access this page. Only drivers can perform daily checks."),t("/");return}(async()=>{p(!0),w(null);try{if(!H)throw new Error("Driver profile not found.");b(H.truck_reg||""),C(H.trailer_no||"");const F=(await s5(B)).filter(O=>O.is_active);c(F),f(F.map(O=>({item_id:O.id,title:O.title,description:O.description,ok:null,notes:"",file:null,photo_url:null}))),S(new Date)}catch(M){console.error("Failed to fetch daily check items or profile:",M),w(M.message||"Failed to load daily check items. Please try again.")}finally{p(!1)}})()},[e,r,n,B,s,t]);const ee=(D,M,F)=>{f(O=>O.map(R=>R.item_id===D?{...R,[M]:F}:R))},ne=D=>{var M;Y(D),(M=X.current)==null||M.click()},J=D=>{var F,O;const M=(F=D.target.files)==null?void 0:F[0];M&&Q&&(ee(Q,"file",M),le.success(`Photo selected for item: ${(O=i.find(R=>R.id===Q))==null?void 0:O.title}`),Y(null),D.target.value="")},W=async()=>{var F;if(!H||!n){le.error("Driver profile or role not found. Cannot submit check.");return}if(!y){le.error("Check timer not started. Please refresh.");return}if(!_.trim()){le.error("Truck Registration is required.");return}if(!E.trim()){le.error("Signature is required.");return}if(u.some(O=>O.ok===null)){le.error("Please answer all checklist items (Pass/Fail).");return}T(!0),L(null);const D=new Date,M=Math.round((D.getTime()-y.getTime())/1e3);try{const O=[];for(const Z of u){let z=null;if(Z.file){const U=`daily-checks/${H.id}/${crypto.randomUUID()}-${Z.file.name}`,{data:de,error:ae}=await Ze.storage.from("daily-checks").upload(U,Z.file,{upsert:!1});if(ae)throw ae;const{data:me}=Ze.storage.from("daily-checks").getPublicUrl(U);z=(me==null?void 0:me.publicUrl)||null}O.push({item_id:Z.item_id,ok:Z.ok===!0,notes:((F=Z.notes)==null?void 0:F.trim())||null,photo_url:z})}const R={truck_reg:_,trailer_no:N.trim()||null,started_at:y.toISOString(),finished_at:D.toISOString(),duration_seconds:M,signature:E,items:O,org_id:B,driver_id:H.id,actor_role:n};try{await _r("driver-daily-check-submit",R)}catch(Z){if(/404|not configured|Failed/i.test(Z.message)){const{error:z}=await Ze.from("daily_check_responses").insert(R);if(z)throw z}else throw Z}le.success("Daily check submitted successfully!"),t("/")}catch(O){console.error("Error submitting daily check:",O),L(O.message||String(O)),le.error("An unexpected error occurred while submitting the daily check.")}finally{T(!1)}};return s||h?o.jsxs("div",{className:"flex items-center justify-center bg-[var(--saas-background)]",children:[o.jsx(wt,{className:"h-8 w-8 animate-spin text-blue-600"}),o.jsx("p",{className:"ml-2 text-gray-700",children:"Loading daily check items..."})]}):g?o.jsxs("div",{className:"flex flex-col items-center justify-center bg-[var(--saas-background)] p-4",children:[o.jsxs("p",{className:"text-red-500 text-lg mb-4",children:["Error: ",g]}),o.jsxs(ue,{onClick:()=>t("/"),variant:"outline",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to Dashboard"]})]}):!e||n!=="driver"?null:o.jsx("div",{className:"w-full",children:o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs(ue,{onClick:()=>t("/"),variant:"outline",className:"mb-6",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to Dashboard"]}),o.jsxs(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6 mb-6",children:[o.jsx(vt,{className:"p-0 pb-4",children:o.jsx(yt,{className:"text-2xl font-bold text-gray-900",children:"Daily HGV Check"})}),o.jsxs(dt,{className:"space-y-6 p-0 pt-4",children:[o.jsx("p",{className:"text-gray-700",children:"Please complete the following checks before starting your shift."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(nt,{htmlFor:"truckReg",className:"text-gray-700",children:"Truck Registration"}),o.jsx(De,{id:"truckReg",value:_,onChange:D=>b(D.target.value),placeholder:"e.g., AB12 CDE",required:!0,disabled:A})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(nt,{htmlFor:"trailerNo",className:"text-gray-700",children:"Trailer Number (Optional)"}),o.jsx(De,{id:"trailerNo",value:N,onChange:D=>C(D.target.value),placeholder:"e.g., TRL-001",disabled:A})]})]}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-4",children:"Checklist Items"}),i.length===0?o.jsx("p",{className:"text-gray-600",children:"No active daily check items found. Please contact admin."}):o.jsx("div",{className:"space-y-4",children:u.map((D,M)=>o.jsxs(et,{className:"bg-[var(--saas-card-bg)] p-4 shadow-sm rounded-md",children:[" ",o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs(nt,{htmlFor:`check-${D.item_id}`,className:"text-lg font-medium text-gray-900",children:[M+1,". ",D.title]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Eh,{id:`check-${D.item_id}`,checked:D.ok===!0,onCheckedChange:F=>ee(D.item_id,"ok",F),disabled:A}),o.jsx("span",{className:`font-semibold ${D.ok===!0?"text-green-600":D.ok===!1?"text-red-600":"text-gray-500"}`,children:D.ok===!0?"Pass":D.ok===!1?"Fail":"N/A"})]})]}),D.description&&o.jsx("p",{className:"text-sm text-gray-600 mb-3",children:D.description}),o.jsxs("div",{className:"space-y-2 mt-3",children:[o.jsx(nt,{htmlFor:`notes-${D.item_id}`,className:"text-gray-700",children:"Notes (Optional)"}),o.jsx(Vn,{id:`notes-${D.item_id}`,value:D.notes||"",onChange:F=>ee(D.item_id,"notes",F.target.value),placeholder:"Add any relevant notes...",disabled:A})]}),o.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[o.jsxs(ue,{type:"button",variant:"outline",size:"sm",onClick:()=>ne(D.item_id),disabled:A,children:[o.jsx(z1,{className:"h-4 w-4 mr-2"})," Add Photo"]}),D.file&&o.jsxs("span",{className:"text-sm text-gray-500 flex items-center",children:[o.jsx(wu,{className:"h-4 w-4 text-green-500 mr-1"})," Photo Selected (",D.file.name,")"]})]})]},D.item_id))}),o.jsx("input",{type:"file",ref:X,onChange:J,className:"hidden",accept:"image/*"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-4",children:"Signature"}),o.jsx(x7,{onSave:k,initialSignature:E}),I&&o.jsxs("p",{className:"text-red-500 text-sm mt-4",children:["Function error: ",I]}),o.jsxs(ue,{onClick:W,className:"w-full mt-6 bg-blue-600 text-white hover:bg-blue-700",disabled:A,children:[A?o.jsx(wt,{className:"h-4 w-4 animate-spin mr-2"}):null,A?"Submitting...":"Submit Daily Check"]})]})]})]})})},b7=()=>o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6",children:[o.jsx(vt,{className:"p-0 pb-4",children:o.jsx(yt,{className:"text-2xl font-bold text-gray-900",children:"Settings"})}),o.jsxs(dt,{className:"p-0 pt-4",children:[o.jsx("p",{className:"text-gray-700",children:"Settings page coming soon!"}),o.jsx("p",{className:"text-gray-500 mt-2",children:"This is where you'll be able to configure various aspects of your haulage operations."})]})]})})}),_7=()=>{const t=Lo();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),o.jsx("div",{className:"flex items-center justify-center bg-[var(--saas-background)] p-4",children:o.jsxs("div",{className:"text-center bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx(ue,{onClick:()=>window.location.href="/",className:"bg-blue-600 text-white hover:bg-blue-700",children:"Return to Home"})]})})},j7=()=>{const[t,e]=v.useState(""),[r,n]=v.useState(""),[s,i]=v.useState(null),{login:c,isLoadingAuth:u}=tr(),f=async h=>{if(h.preventDefault(),i(null),!t||!r){i("Please enter both User ID/Email and password.");return}const{success:p,error:g}=await c(t,r);!p&&g&&i(g)};return u?o.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-[var(--saas-background)]",children:[o.jsx(wt,{className:"h-8 w-8 animate-spin text-blue-600"}),o.jsx("p",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Loading user profile..."})]}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[var(--saas-background)] p-4",children:o.jsxs(et,{className:"w-full max-w-md shadow-sm rounded-xl p-8 bg-[var(--saas-card-bg)]",children:[o.jsxs(vt,{className:"text-center",children:[o.jsx("img",{src:"/FRS_Logo_NO_BG.png",alt:"FRS Haulage Logo",className:"mx-auto mb-4 h-24 w-auto"}),o.jsx(yt,{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"FRS Haulage Login"}),o.jsx(px,{className:"text-gray-500 text-sm",children:"Enter your credentials to access the dashboard."})]}),o.jsx(dt,{children:o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(nt,{htmlFor:"userIdOrEmail",children:"User ID / Email"}),o.jsx(De,{id:"userIdOrEmail",type:"text",placeholder:"e.g., admin@example.com or 1234",value:t,onChange:h=>e(h.target.value),required:!0,disabled:u})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(nt,{htmlFor:"password",children:"Password"}),o.jsx(De,{id:"password",type:"password",placeholder:"********",value:r,onChange:h=>n(h.target.value),required:!0,disabled:u})]}),o.jsxs(ue,{type:"submit",className:"w-full bg-blue-600 text-white rounded-md hover:bg-blue-700",disabled:u,children:[u&&o.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"}),"Log In"]}),s&&o.jsx("p",{className:"text-red-500 text-sm text-center mt-2",children:s})]})})]})})},S7={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhyYXN0c2xtbGtrZndzZHNiYmNuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5MTQwMjQsImV4cCI6MjA3MjQ5MDAyNH0.IK4vYRIbV9WEuKy6-BqOIJ54UyUHlD_KgzZva_tlxEw",VITE_SUPABASE_URL:"https://hrastslmlkkfwsdsbbcn.supabase.co"};function N7(){return o.jsxs("main",{style:{padding:24,fontFamily:"system-ui"},children:[o.jsx("h1",{children:"Env Debug"}),o.jsxs("p",{children:[o.jsx("b",{children:"VITE_SUPABASE_URL:"})," ","https://hrastslmlkkfwsdsbbcn.supabase.co"]}),o.jsxs("p",{children:[o.jsx("b",{children:"VITE_SUPABASE_ANON_KEY length:"})," ",208]}),o.jsx("pre",{style:{background:"#f7f7f7",padding:12},children:JSON.stringify(S7,null,2)}),o.jsx("p",{style:{opacity:.7},children:"If any value shows as undefined, Vite isn't picking up .env.local."})]})}const C7=()=>{const t=er(),{user:e,profile:r,userRole:n,isLoadingAuth:s}=tr(),[i,c]=v.useState([]),[u,f]=v.useState(""),[h,p]=v.useState(!0),[g,w]=v.useState(null),[y,S]=v.useState(!1),[_,b]=v.useState(null),[N,C]=v.useState(""),[E,k]=v.useState(""),[A,T]=v.useState(!0),[I,L]=v.useState(null),[B,H]=v.useState(!1),X=(r==null?void 0:r.org_id)||"demo-tenant-id",Q=r,Y=async()=>{if(!e||n!=="admin"||!X){p(!1);return}p(!0),w(null);try{const{data:F,error:O}=await Ze.from("daily_check_items").select("id, title, description, is_active").eq("org_id",X).order("created_at",{ascending:!1});O?w(O.message):c(F||[])}catch(F){console.error("Failed to fetch daily check items:",F),w(F.message||"Failed to load daily check items. Please try again.")}finally{p(!1)}};v.useEffect(()=>{if(!s){if(!e||n!=="admin"){le.error("You do not have permission to access this page."),t("/");return}Y()}},[e,n,X,s,t]);const ee=v.useMemo(()=>{if(!u.trim())return i;const F=u.toLowerCase();return i.filter(O=>O.title.toLowerCase().includes(F)||(O.description||"").toLowerCase().includes(F))},[u,i]),ne=async()=>{if(!N.trim()){le.error("Item title cannot be empty.");return}if(!Q||!n){le.error("User profile or role not found. Cannot create item.");return}S(!0),b(null);try{const F={title:N,description:E.trim()||null,is_active:A};try{await a5(X,F)}catch(O){if(/404|not configured|Failed/i.test(O.message)){const{error:R}=await Ze.from("daily_check_items").insert({...F,org_id:X});if(R)throw R}else throw O}le.success("Item created successfully!"),C(""),k(""),T(!0),await Y()}catch(F){console.error("Error creating item:",F),b(F.message||String(F)),le.error(`Failed to create item: ${F.message||String(F)}`)}finally{S(!1)}},J=async(F,O)=>{if(!Q||!n){le.error("User profile or role not found. Cannot toggle item status.");return}S(!0),b(null);try{const R={is_active:!O};try{await R_(X,F,R)}catch(Z){if(/404|not configured|Failed/i.test(Z.message)){const{error:z}=await Ze.from("daily_check_items").update(R).eq("id",F).eq("org_id",X);if(z)throw z}else throw Z}le.success(`Item ${O?"deactivated":"activated"} successfully!`),await Y()}catch(R){console.error("Error toggling item active status:",R),b(R.message||String(R)),le.error(`Failed to toggle item status: ${R.message||String(R)}`)}finally{S(!1)}},W=F=>{L({...F}),H(!0)},D=async()=>{var F;if(!I||!I.title.trim()){le.error("Item title cannot be empty.");return}if(!Q||!n){le.error("User profile or role not found. Cannot update item.");return}S(!0),b(null);try{const O={title:I.title,description:((F=I.description)==null?void 0:F.trim())||null};try{await R_(X,I.id,O)}catch(R){if(/404|not configured|Failed/i.test(R.message)){const{error:Z}=await Ze.from("daily_check_items").update(O).eq("id",I.id).eq("org_id",X);if(Z)throw Z}else throw R}le.success("Item updated successfully!"),L(null),H(!1),await Y()}catch(O){console.error("Error updating item:",O),b(O.message||String(O)),le.error(`Failed to update item: ${O.message||String(O)}`)}finally{S(!1)}},M=async F=>{if(!Q||!n){le.error("User profile or role not found. Cannot delete item.");return}S(!0),b(null);try{try{await o5(X,F)}catch(O){if(/404|not configured|Failed/i.test(O.message)){const{error:R}=await Ze.from("daily_check_items").delete().eq("id",F).eq("org_id",X);if(R)throw R}else throw O}le.success("Item deleted successfully!"),await Y()}catch(O){console.error("Error deleting item:",O),b(O.message||String(O)),le.error(`Failed to delete item: ${O.message||String(O)}`)}finally{S(!1)}};return s||h?o.jsxs("div",{className:"flex items-center justify-center bg-[var(--saas-background)]",children:[o.jsx(wt,{className:"h-8 w-8 animate-spin text-blue-600"}),o.jsx("p",{className:"ml-2 text-gray-700",children:"Loading daily check items..."})]}):g?o.jsxs("div",{className:"flex flex-col items-center justify-center bg-[var(--saas-background)] p-4",children:[o.jsxs("p",{className:"text-red-500 text-lg mb-4",children:["Error: ",g]}),o.jsxs(ue,{onClick:()=>t("/"),variant:"outline",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to Dashboard"]})]}):!e||n!=="admin"?null:o.jsx("div",{className:"w-full",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs(ue,{onClick:()=>t("/"),variant:"outline",className:"mb-6",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to Dashboard"]}),o.jsxs(et,{className:"bg-[var(--saas-card-bg)] mb-6",children:[o.jsx(vt,{children:o.jsx(yt,{className:"text-2xl font-bold",children:"Admin: Daily HGV Check Items"})}),o.jsxs(dt,{children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-xl font-semibold",children:"Create New Item"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(nt,{htmlFor:"newItemTitle",children:"Title"}),o.jsx(De,{id:"newItemTitle",value:N,onChange:F=>C(F.target.value),placeholder:"e.g., Brakes",disabled:y})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(nt,{htmlFor:"newItemDescription",children:"Description (Optional)"}),o.jsx(Vn,{id:"newItemDescription",value:E,onChange:F=>k(F.target.value),placeholder:"e.g., Check brake fluid, pads, and general function.",disabled:y})]}),o.jsxs("div",{className:"flex items-center space-x-2 md:col-span-2",children:[o.jsx(Eh,{id:"newItemIsActive",checked:A,onCheckedChange:T,disabled:y}),o.jsx(nt,{htmlFor:"newItemIsActive",children:"Is Active"})]})]}),o.jsxs(ue,{onClick:ne,className:"w-full",disabled:y,children:[o.jsx(qs,{className:"h-4 w-4 mr-2"})," Add Item"]})]}),o.jsxs("div",{className:"mt-8",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Existing Items"}),o.jsxs("div",{className:"flex gap-4 mb-4",children:[o.jsx(De,{placeholder:"Search items...",value:u,onChange:F=>f(F.target.value),className:"flex-grow",disabled:y}),o.jsxs(ue,{onClick:Y,disabled:y,variant:"outline",children:[o.jsx(by,{className:"h-4 w-4 mr-2"})," Refresh"]})]}),_&&o.jsxs("p",{className:"text-red-500 text-sm mb-2",children:["Function error: ",_]}),ee.length===0?o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No daily check items found."}):o.jsxs("div",{className:"rounded-md overflow-hidden shadow-sm",children:[" ",o.jsxs(fc,{children:[o.jsxs(hc,{className:"bg-gray-50",children:[" ",o.jsxs(ys,{children:[o.jsx(Tt,{children:"Title"}),o.jsx(Tt,{children:"Description"}),o.jsx(Tt,{className:"text-center",children:"Active"}),o.jsx(Tt,{className:"text-center",children:"Actions"})]})]}),o.jsxs(mc,{className:"divide-y divide-gray-100",children:[" ",ee.map(F=>o.jsxs(ys,{children:[o.jsx(Rt,{className:"font-medium",children:F.title}),o.jsx(Rt,{className:"text-sm text-gray-600 dark:text-gray-400",children:F.description||"-"}),o.jsx(Rt,{className:"text-center",children:F.is_active?o.jsx(Dh,{className:"h-4 w-4 text-green-500 mx-auto"}):o.jsx(Mh,{className:"h-4 w-4 text-red-500 mx-auto"})}),o.jsx(Rt,{className:"text-center",children:o.jsxs("div",{className:"flex justify-center space-x-2",children:[o.jsx(ue,{variant:"outline",size:"sm",onClick:()=>J(F.id,F.is_active),disabled:y,children:F.is_active?"Deactivate":"Activate"}),o.jsx(ue,{variant:"outline",size:"sm",onClick:()=>W(F),disabled:y,children:o.jsx(zs,{className:"h-4 w-4"})}),o.jsxs(Gs,{children:[o.jsx(Au,{asChild:!0,children:o.jsx(ue,{variant:"destructive",size:"sm",disabled:y,children:o.jsx(hs,{className:"h-4 w-4"})})}),o.jsxs(xs,{children:[o.jsxs(ws,{children:[o.jsx(_s,{children:"Are you absolutely sure?"}),o.jsxs(js,{children:['This action cannot be undone. This will permanently delete the "',F.title,'" check item.']})]}),o.jsxs(bs,{children:[o.jsx(Ns,{children:"Cancel"}),o.jsx(Ss,{onClick:()=>M(F.id),disabled:y,variant:"destructive",children:"Delete"})]})]})]})]})})]},F.id))]})]})]})]})]})]}),I&&o.jsx(Aa,{open:B,onOpenChange:H,children:o.jsxs(Js,{className:"flex flex-col",children:[o.jsxs(Qs,{children:[o.jsx(Zs,{className:"text-xl font-semibold text-gray-900",children:"Edit Daily Check Item"}),o.jsx(Ri,{children:"Make changes to the item here. Click save when you're done."})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(nt,{htmlFor:"editItemTitle",children:"Title"}),o.jsx(De,{id:"editItemTitle",value:I.title,onChange:F=>L({...I,title:F.target.value}),disabled:y})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(nt,{htmlFor:"editItemDescription",children:"Description (Optional)"}),o.jsx(Vn,{id:"editItemDescription",value:I.description||"",onChange:F=>L({...I,description:F.target.value}),disabled:y})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Eh,{id:"editItemIsActive",checked:I.is_active,onCheckedChange:F=>L({...I,is_active:F}),disabled:y}),o.jsx(nt,{htmlFor:"editItemIsActive",children:"Is Active"})]})]})}),o.jsxs(sm,{children:[o.jsx(ue,{variant:"outline",onClick:()=>H(!1),disabled:y,children:"Cancel"}),o.jsxs(ue,{onClick:D,disabled:y,children:[y?o.jsx(wt,{className:"h-4 w-4 animate-spin mr-2"}):null,"Save Changes"]})]})]})})]})})},k7=()=>{const t=er(),{user:e,profile:r,userRole:n,isLoadingAuth:s}=tr(),[i,c]=v.useState([]),[u,f]=v.useState(""),[h,p]=v.useState(!0),[g,w]=v.useState(null),[y,S]=v.useState(!1),[_,b]=v.useState(""),[N,C]=v.useState(""),[E,k]=v.useState(""),[A,T]=v.useState(""),[I,L]=v.useState(""),[B,H]=v.useState(""),[X,Q]=v.useState(!1),[Y,ee]=v.useState(null),[ne,J]=v.useState(!1),W=(r==null?void 0:r.org_id)||"demo-tenant-id",D=r,M=async()=>{if(!e||!["admin","office"].includes(n)||!W){p(!1);return}p(!0),w(null);try{const U=await i5(W,u);c(U)}catch(U){console.error("Failed to fetch saved addresses:",U),w(U.message||"Failed to load saved addresses. Please try again.")}finally{p(!1)}};v.useEffect(()=>{if(!s){if(!e||!["admin","office"].includes(n)){le.error("You do not have permission to access this page."),t("/");return}M()}},[e,n,W,s,t,u]);const F=async()=>{if(!N.trim()||!A.trim()||!B.trim()){le.error("Address Line 1, City, and Postcode are required.");return}if(!D||!n){le.error("User profile or role not found. Cannot create address.");return}S(!0);try{const U={name:_.trim()||null,line_1:N.trim(),line_2:E.trim()||null,town_or_city:A.trim(),county:I.trim()||null,postcode:B.trim().toUpperCase(),favourite:X};await c5(W,U,n),le.success("Address created successfully!"),b(""),C(""),k(""),T(""),L(""),H(""),Q(!1),await M()}catch(U){console.error("Error creating address:",U),le.error(`Failed to create address: ${U.message||String(U)}`)}finally{S(!1)}},O=U=>{ee({...U}),J(!0)},R=async()=>{var U,de,ae;if(!Y||!Y.line_1.trim()||!Y.town_or_city.trim()||!Y.postcode.trim()){le.error("Address Line 1, City, and Postcode are required.");return}if(!D||!n){le.error("User profile or role not found. Cannot update address.");return}S(!0);try{const me={name:((U=Y.name)==null?void 0:U.trim())||null,line_1:Y.line_1.trim(),line_2:((de=Y.line_2)==null?void 0:de.trim())||null,town_or_city:Y.town_or_city.trim(),county:((ae=Y.county)==null?void 0:ae.trim())||null,postcode:Y.postcode.trim().toUpperCase(),favourite:Y.favourite};await D_(W,Y.id,me,n),le.success("Address updated successfully!"),ee(null),J(!1),await M()}catch(me){console.error("Error updating address:",me),le.error(`Failed to update address: ${me.message||String(me)}`)}finally{S(!1)}},Z=async U=>{if(!D||!n){le.error("User profile or role not found. Cannot toggle favourite status.");return}S(!0);try{const de={favourite:!U.favourite};await D_(W,U.id,de,n),le.success(`Address marked as ${U.favourite?"not favourite":"favourite"}!`),await M()}catch(de){console.error("Error toggling favourite status:",de),le.error(`Failed to toggle favourite status: ${de.message||String(de)}`)}finally{S(!1)}},z=async U=>{if(!D||!n){le.error("User profile or role not found. Cannot delete address.");return}S(!0);try{await u5(W,U,n),le.success("Address deleted successfully!"),await M()}catch(de){console.error("Error deleting address:",de),le.error(`Failed to delete address: ${de.message||String(de)}`)}finally{S(!1)}};return s||h?o.jsxs("div",{className:"flex items-center justify-center bg-[var(--saas-background)]",children:[o.jsx(wt,{className:"h-8 w-8 animate-spin text-blue-600"}),o.jsx("p",{className:"ml-2 text-gray-700",children:"Loading saved addresses..."})]}):g?o.jsxs("div",{className:"flex flex-col items-center justify-center bg-[var(--saas-background)] p-4",children:[o.jsxs("p",{className:"text-red-500 text-lg mb-4",children:["Error: ",g]}),o.jsxs(ue,{onClick:()=>t("/"),variant:"outline",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to Dashboard"]})]}):!e||!["admin","office"].includes(n)?null:o.jsx("div",{className:"w-full",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs(ue,{onClick:()=>t("/"),variant:"outline",className:"mb-6",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to Dashboard"]}),o.jsxs(et,{className:"bg-[var(--saas-card-bg)] mb-6",children:[o.jsx(vt,{children:o.jsx(yt,{className:"text-2xl font-bold",children:"Saved Addresses"})}),o.jsxs(dt,{children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-xl font-semibold",children:"Add New Address"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(nt,{htmlFor:"newAddressName",children:"Name (Optional)"}),o.jsx(De,{id:"newAddressName",value:_,onChange:U=>b(U.target.value),placeholder:"e.g., Main Depot",disabled:y})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(nt,{htmlFor:"newAddressLine1",children:"Address Line 1"}),o.jsx(De,{id:"newAddressLine1",value:N,onChange:U=>C(U.target.value),placeholder:"e.g., 123 High Street",required:!0,disabled:y})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(nt,{htmlFor:"newAddressLine2",children:"Address Line 2 (Optional)"}),o.jsx(De,{id:"newAddressLine2",value:E,onChange:U=>k(U.target.value),placeholder:"e.g., Unit 5",disabled:y})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(nt,{htmlFor:"newAddressCity",children:"Town/City"}),o.jsx(De,{id:"newAddressCity",value:A,onChange:U=>T(U.target.value),placeholder:"e.g., London",required:!0,disabled:y})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(nt,{htmlFor:"newAddressCounty",children:"County (Optional)"}),o.jsx(De,{id:"newAddressCounty",value:I,onChange:U=>L(U.target.value),placeholder:"e.g., Greater London",disabled:y})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(nt,{htmlFor:"newAddressPostcode",children:"Postcode"}),o.jsx(De,{id:"newAddressPostcode",value:ur(B),onChange:U=>H(U.target.value),onBlur:U=>H(ur(U.target.value)),placeholder:"e.g., SW1A 0AA",required:!0,disabled:y})]}),o.jsxs("div",{className:"flex items-center space-x-2 md:col-span-2",children:[o.jsx(kh,{id:"newAddressFavourite",checked:X,onCheckedChange:U=>Q(U),disabled:y}),o.jsx(nt,{htmlFor:"newAddressFavourite",children:"Favourite"})]})]}),o.jsxs(ue,{onClick:F,className:"w-full",disabled:y,children:[o.jsx(qs,{className:"h-4 w-4 mr-2"})," Add Address"]})]}),o.jsxs("div",{className:"mt-8",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Existing Addresses"}),o.jsxs("div",{className:"flex gap-4 mb-4",children:[o.jsx(De,{placeholder:"Search addresses...",value:u,onChange:U=>f(U.target.value),className:"flex-grow",disabled:y}),o.jsxs(ue,{onClick:M,disabled:y,variant:"outline",children:[o.jsx(by,{className:"h-4 w-4 mr-2"})," Refresh"]})]}),i.length===0?o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No saved addresses found."}):o.jsxs("div",{className:"rounded-md overflow-hidden shadow-sm",children:[" ",o.jsxs(fc,{children:[o.jsxs(hc,{className:"bg-gray-50",children:[" ",o.jsxs(ys,{children:[o.jsx(Tt,{children:"Name"}),o.jsx(Tt,{children:"Address"}),o.jsx(Tt,{children:"Postcode"}),o.jsx(Tt,{className:"text-center",children:"Favourite"}),o.jsx(Tt,{className:"text-center",children:"Actions"})]})]}),o.jsxs(mc,{className:"divide-y divide-gray-100",children:[" ",i.map(U=>o.jsxs(ys,{children:[o.jsx(Rt,{className:"font-medium",children:U.name||"-"}),o.jsxs(Rt,{className:"text-sm text-gray-600 dark:text-gray-400",children:[qt(U.line_1),U.line_2&&`, ${qt(U.line_2)}`,", ",qt(U.town_or_city),U.county&&`, ${qt(U.county)}`]}),o.jsx(Rt,{children:ur(U.postcode)}),o.jsx(Rt,{className:"text-center",children:o.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>Z(U),disabled:y,children:U.favourite?o.jsx(hv,{className:"h-4 w-4 text-yellow-500"}):o.jsx(hv,{className:"h-4 w-4 text-gray-300"})})}),o.jsx(Rt,{className:"text-center",children:o.jsxs("div",{className:"flex justify-center space-x-2",children:[o.jsx(ue,{variant:"outline",size:"sm",onClick:()=>O(U),disabled:y,children:o.jsx(zs,{className:"h-4 w-4"})}),o.jsxs(Gs,{children:[o.jsx(Au,{asChild:!0,children:o.jsx(ue,{variant:"destructive",size:"sm",disabled:y,children:o.jsx(hs,{className:"h-4 w-4"})})}),o.jsxs(xs,{children:[o.jsxs(ws,{children:[o.jsx(_s,{children:"Are you absolutely sure?"}),o.jsxs(js,{children:['This action cannot be undone. This will permanently delete the saved address: "',U.name||U.line_1,'".']})]}),o.jsxs(bs,{children:[o.jsx(Ns,{children:"Cancel"}),o.jsx(Ss,{onClick:()=>z(U.id),disabled:y,variant:"destructive",children:"Delete"})]})]})]})]})})]},U.id))]})]})]})]})]})]}),Y&&o.jsx(Aa,{open:ne,onOpenChange:J,children:o.jsxs(Js,{className:"flex flex-col",children:[o.jsxs(Qs,{children:[o.jsx(Zs,{className:"text-xl font-semibold text-gray-900",children:"Edit Saved Address"}),o.jsx(Ri,{children:"Make changes to the address here. Click save when you're done."})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(nt,{htmlFor:"editAddressName",children:"Name (Optional)"}),o.jsx(De,{id:"editAddressName",value:Y.name||"",onChange:U=>ee({...Y,name:U.target.value}),disabled:y})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(nt,{htmlFor:"editAddressLine1",children:"Address Line 1"}),o.jsx(De,{id:"editAddressLine1",value:Y.line_1,onChange:U=>ee({...Y,line_1:U.target.value}),required:!0,disabled:y})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(nt,{htmlFor:"editAddressLine2",children:"Address Line 2 (Optional)"}),o.jsx(De,{id:"editAddressLine2",value:Y.line_2||"",onChange:U=>ee({...Y,line_2:U.target.value}),disabled:y})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(nt,{htmlFor:"editAddressCity",children:"Town/City"}),o.jsx(De,{id:"editAddressCity",value:Y.town_or_city,onChange:U=>ee({...Y,town_or_city:U.target.value}),required:!0,disabled:y})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(nt,{htmlFor:"editAddressCounty",children:"County (Optional)"}),o.jsx(De,{id:"editAddressCounty",value:Y.county||"",onChange:U=>ee({...Y,county:U.target.value}),disabled:y})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(nt,{htmlFor:"editAddressPostcode",children:"Postcode"}),o.jsx(De,{id:"editAddressPostcode",value:ur(Y.postcode),onChange:U=>ee({...Y,postcode:U.target.value}),onBlur:U=>ee({...Y,postcode:ur(U.target.value)}),placeholder:"e.g., SW1A 0AA",required:!0,disabled:y})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(kh,{id:"editAddressFavourite",checked:Y.favourite,onCheckedChange:U=>ee({...Y,favourite:U}),disabled:y}),o.jsx(nt,{htmlFor:"editAddressFavourite",children:"Favourite"})]})]})}),o.jsxs(sm,{children:[o.jsx(ue,{variant:"outline",onClick:()=>J(!1),disabled:y,children:"Cancel"}),o.jsxs(ue,{onClick:R,disabled:y,children:[y?o.jsx(wt,{className:"h-4 w-4 animate-spin mr-2"}):null,"Save Changes"]})]})]})})]})})},E7=()=>{const t=er();return o.jsx("div",{className:"w-full",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs(ue,{onClick:()=>t("/"),variant:"outline",className:"mb-6",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to Dashboard"]}),o.jsxs(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6",children:[o.jsx(vt,{className:"p-0 pb-4",children:o.jsx(yt,{className:"text-2xl font-bold text-gray-900",children:"Map"})}),o.jsxs(dt,{className:"p-0 pt-4",children:[o.jsx("p",{className:"text-gray-700",children:"Map page coming soon!"}),o.jsx("p",{className:"text-gray-500 mt-2",children:"This is where you'll be able to view driver locations and job routes."})]})]})]})})},P7=()=>{const t=er();return o.jsx("div",{className:"w-full",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs(ue,{onClick:()=>t("/"),variant:"outline",className:"mb-6",children:[o.jsx(kt,{className:"h-4 w-4 mr-2"})," Back to Dashboard"]}),o.jsxs(et,{className:"bg-[var(--saas-card-bg)] shadow-sm rounded-xl p-6",children:[o.jsx(vt,{className:"p-0 pb-4",children:o.jsx(yt,{className:"text-2xl font-bold text-gray-900",children:"Quotes"})}),o.jsxs(dt,{className:"p-0 pt-4",children:[o.jsx("p",{className:"text-gray-700",children:"Quotes page coming soon!"}),o.jsx("p",{className:"text-gray-500 mt-2",children:"This is where you'll be able to manage customer quotes."})]})]})]})})};function A7(){return o.jsx(zT,{children:o.jsxs(kO,{initialSession:null,initialUser:null,children:[o.jsx(CO,{richColors:!0,position:"top-right"}),o.jsxs("div",{className:"flex min-h-screen bg-[var(--saas-background)]",children:[" ",o.jsx(tF,{}),o.jsxs("div",{className:"flex flex-col flex-1",children:[" ",o.jsx(L$,{}),o.jsxs("main",{className:"flex-1 overflow-y-auto p-6 lg:p-8",children:[" ",o.jsxs(IT,{children:[o.jsx(ir,{path:"/",element:o.jsx(G9,{})}),o.jsx(ir,{path:"/login",element:o.jsx(j7,{})}),o.jsx(ir,{path:"/jobs/:orderNumber",element:o.jsx(FB,{})})," ",o.jsx(ir,{path:"/jobs/new",element:o.jsx(UB,{})}),o.jsx(ir,{path:"/drivers",element:o.jsx(YB,{})}),o.jsx(ir,{path:"/daily-check",element:o.jsx(w7,{})}),o.jsx(ir,{path:"/map",element:o.jsx(E7,{})})," ",o.jsx(ir,{path:"/quotes",element:o.jsx(P7,{})})," ",o.jsx(ir,{path:"/admin/checklists",element:o.jsx(KB,{})}),o.jsx(ir,{path:"/admin/users",element:o.jsx(XB,{})}),o.jsx(ir,{path:"/admin/users/new",element:o.jsx(e7,{})}),o.jsx(ir,{path:"/admin/users/new/driver",element:o.jsx(i7,{})}),o.jsx(ir,{path:"/admin/users/new/office",element:o.jsx(u7,{})}),o.jsx(ir,{path:"/admin/users/:id/edit",element:o.jsx(h7,{})}),o.jsx(ir,{path:"/admin/daily-checks",element:o.jsx(C7,{})}),o.jsx(ir,{path:"/admin/saved-addresses",element:o.jsx(k7,{})}),o.jsx(ir,{path:"/settings",element:o.jsx(b7,{})}),o.jsx(ir,{path:"/env-debug",element:o.jsx(N7,{})}),o.jsx(ir,{path:"*",element:o.jsx(_7,{})})]})]})]})]})]})})}var Kg,$j;function T7(){if($j)return Kg;$j=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,s=(N,C)=>{for(var E in C)t(N,E,{get:C[E],enumerable:!0})},i=(N,C,E,k)=>{if(C&&typeof C=="object"||typeof C=="function")for(let A of r(C))!n.call(N,A)&&A!==E&&t(N,A,{get:()=>C[A],enumerable:!(k=e(C,A))||k.enumerable});return N},c=N=>i(t({},"__esModule",{value:!0}),N),u=(N,C,E)=>new Promise((k,A)=>{var T=B=>{try{L(E.next(B))}catch(H){A(H)}},I=B=>{try{L(E.throw(B))}catch(H){A(H)}},L=B=>B.done?k(B.value):Promise.resolve(B.value).then(T,I);L((E=E.apply(N,C)).next())}),f={};s(f,{SessionContextProvider:()=>w,useSession:()=>_,useSessionContext:()=>y,useSupabaseClient:()=>S,useUser:()=>b}),Kg=c(f);var h=$u(),p=Gj(),g=(0,h.createContext)({isLoading:!0,session:null,error:null,supabaseClient:{}}),w=({supabaseClient:N,initialSession:C=null,children:E})=>{const[k,A]=(0,h.useState)(C),[T,I]=(0,h.useState)(!C),[L,B]=(0,h.useState)();(0,h.useEffect)(()=>{!k&&C&&A(C)},[k,C]),(0,h.useEffect)(()=>{let X=!0;function Q(){return u(this,null,function*(){const{data:{session:Y},error:ee}=yield N.auth.getSession();if(X){if(ee){B(ee),I(!1);return}A(Y),I(!1)}})}return Q(),()=>{X=!1}},[]),(0,h.useEffect)(()=>{const{data:{subscription:X}}=N.auth.onAuthStateChange((Q,Y)=>{Y&&(Q==="SIGNED_IN"||Q==="TOKEN_REFRESHED"||Q==="USER_UPDATED")&&A(Y),Q==="SIGNED_OUT"&&A(null)});return()=>{X.unsubscribe()}},[]);const H=(0,h.useMemo)(()=>T?{isLoading:!0,session:null,error:null,supabaseClient:N}:L?{isLoading:!1,session:null,error:L,supabaseClient:N}:{isLoading:!1,session:k,error:null,supabaseClient:N},[T,k,L]);return(0,p.jsx)(g.Provider,{value:H,children:E})},y=()=>{const N=(0,h.useContext)(g);if(N===void 0)throw new Error("useSessionContext must be used within a SessionContextProvider.");return N};function S(){const N=(0,h.useContext)(g);if(N===void 0)throw new Error("useSupabaseClient must be used within a SessionContextProvider.");return N.supabaseClient}var _=()=>{const N=(0,h.useContext)(g);if(N===void 0)throw new Error("useSession must be used within a SessionContextProvider.");return N.session},b=()=>{var N,C;const E=(0,h.useContext)(g);if(E===void 0)throw new Error("useUser must be used within a SessionContextProvider.");return(C=(N=E.session)==null?void 0:N.user)!=null?C:null};return Kg}var R7=T7();const D7=new XU({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnReconnect:!1}}});qA.createRoot(document.getElementById("root")).render(o.jsx(ie.StrictMode,{children:o.jsx(R7.SessionContextProvider,{supabaseClient:Ze,children:o.jsx(e9,{client:D7,children:o.jsx(A7,{})})})}));
